webpackJsonp([1],{10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large"}(t.eCardSize||(t.eCardSize={}));var r;!function(e){e[e.architect=0]="architect",e[e.craftsman=1]="craftsman",e[e.laborer=2]="laborer",e[e.legionary=3]="legionary",e[e.merchant=4]="merchant",e[e.patron=5]="patron",e[e.jack=6]="jack"}(r=t.eWorkerType||(t.eWorkerType={}));!function(e){e[e.academy=0]="academy",e[e.amphitheatre=1]="amphitheatre",e[e.aqueduct=2]="aqueduct",e[e.archway=3]="archway",e[e.atrium=4]="atrium",e[e.bar=5]="bar",e[e.basilica=6]="basilica",e[e.bath=7]="bath",e[e.bridge=8]="bridge",e[e.catacomb=9]="catacomb",e[e.circus=10]="circus",e[e.circusMaximus=11]="circusMaximus",e[e.coliseum=12]="coliseum",e[e.dock=13]="dock",e[e.forum=14]="forum",e[e.foundry=15]="foundry",e[e.fountain=16]="fountain",e[e.garden=17]="garden",e[e.gate=18]="gate",e[e.insula=19]="insula",e[e.latrine=20]="latrine",e[e.ludusMagna=21]="ludusMagna",e[e.market=22]="market",e[e.palace=23]="palace",e[e.palisade=24]="palisade",e[e.prison=25]="prison",e[e.road=26]="road",e[e.school=27]="school",e[e.scriptorium=28]="scriptorium",e[e.senate=29]="senate",e[e.sewer=30]="sewer",e[e.shrine=31]="shrine",e[e.stairway=32]="stairway",e[e.statue=33]="statue",e[e.storeroom=34]="storeroom",e[e.temple=35]="temple",e[e.tower=36]="tower",e[e.villa=37]="villa",e[e.vomitorium=38]="vomitorium",e[e.wall=39]="wall",e[e.brick=40]="brick",e[e.concrete=41]="concrete",e[e.marble=42]="marble",e[e.rubble=43]="rubble",e[e.stone=44]="stone",e[e.wood=45]="wood"}(t.eCardEffect||(t.eCardEffect={}));var o=function(){function e(e){this.title="",this.role=0,this.desc="",this.value=0,this.x=0,this.y=0,this.count=0,this.asset="",this.phantom=!1,this.mode=null,this.selected=!1,this.assignData(e),this.uid=Math.random().toString(36).substring(7)}return e.prototype.changeValues=function(e){null!=e&&this.assignData(e)},e.prototype.setPhantom=function(e){this.phantom=e},e.prototype.setMode=function(e){this.mode=e},e.prototype.assignData=function(e){e&&(this.id=e.id,this.title=e.title,this.role=e.role,this.desc=e.desc,this.value=e.value,this.x=e.x,this.y=e.y,this.count=e.count,this.asset=e.asset,e.role!=r.jack&&(this.mode=e.role))},e}();t.Card=o},133:function(e,t,n){"use strict";var r=n(1),o=n(36);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[i]}]}],e.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},e}()},134:function(e,t,n){"use strict";var r=n(1),o=n(36);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=null==e?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:r.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[i]}]}],e.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},e}()},135:function(e,t,n){"use strict";var r=n(1),o=n(41),i=n(94),a=n(45),c=n(95),s=n(293);n.d(t,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u={provide:a.a,useExisting:n.i(r.forwardRef)(function(){return p})},p=function(e){function t(t,n,r){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r}return l(t,e),t.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof c.a||s.a.modelGroupParentException()},t.decorators=[{type:r.Directive,args:[{selector:"[ngModelGroup]",providers:[u],exportAs:"ngModelGroup"}]}],t.ctorParameters=function(){return[{type:a.a,decorators:[{type:r.Host},{type:r.SkipSelf}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.a]}]}]},t.propDecorators={name:[{type:r.Input,args:["ngModelGroup"]}]},t}(i.a)},136:function(e,t,n){"use strict";var r=n(292);n.d(t,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function e(){}return e.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+r.a.formControlName)},e.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+r.a.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+r.a.ngModelGroup)},e.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+r.a.formControlName)},e.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+r.a.formGroupName)},e.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+r.a.formArrayName)},e.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},e}()},137:function(e,t,n){"use strict";function r(e,t){return null==e?""+t:(n.i(a.a)(t)||(t="Object"),(e+": "+t).slice(0,50))}function o(e){return e.split(":")[0]}var i=n(1),a=n(73),c=n(36);n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s={provide:c.a,useExisting:n.i(i.forwardRef)(function(){return l}),multi:!0},l=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.value=e;var t=r(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=n,e(t._getOptionValue(n))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,r=Array.from(this._optionMap.keys());t<r.length;t++){var o=r[t];if(n.i(a.b)(this._optionMap.get(o),e))return o}return null},e.prototype._getOptionValue=function(e){var t=o(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e.decorators=[{type:i.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[s]}]}],e.ctorParameters=function(){return[{type:i.Renderer},{type:i.ElementRef}]},e}(),u=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(r(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:i.Directive,args:[{selector:"option"}]}],e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:l,decorators:[{type:i.Optional},{type:i.Host}]}]},e.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]},e}()},138:function(e,t,n){"use strict";function r(e,t){return null==e?""+t:("string"==typeof t&&(t="'"+t+"'"),n.i(a.a)(t)||(t="Object"),(e+": "+t).slice(0,50))}function o(e){return e.split(":")[0]}var i=n(1),a=n(73),c=n(36);n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s={provide:c.a,useExisting:n.i(i.forwardRef)(function(){return l}),multi:!0},l=(function(){function e(){}e.prototype.item=function(e){},e}(),function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=this;this.value=e;var n;if(Array.isArray(e)){var r=e.map(function(e){return t._getOptionId(e)});n=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else n=function(e,t){e._setSelected(!1)};this._optionMap.forEach(n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),c=t._getOptionValue(a.value);r.push(c)}else for(var o=n.options,i=0;i<o.length;i++){var a=o.item(i);if(a.selected){var c=t._getOptionValue(a.value);r.push(c)}}t.value=r,e(r)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,r=Array.from(this._optionMap.keys());t<r.length;t++){var o=r[t];if(n.i(a.b)(this._optionMap.get(o)._value,e))return o}return null},e.prototype._getOptionValue=function(e){var t=o(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e.decorators=[{type:i.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[s]}]}],e.ctorParameters=function(){return[{type:i.Renderer},{type:i.ElementRef}]},e}()),u=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(r(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._select?(this._value=e,this._setElementValue(r(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setElementProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:i.Directive,args:[{selector:"option"}]}],e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:l,decorators:[{type:i.Optional},{type:i.Host}]}]},e.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]},e}()},139:function(e,t,n){"use strict";function r(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof v?e.controls[t]||null:e instanceof _?e.at(t)||null:null},e))}function o(e){return n.i(u.a)(e)?n.i(c.fromPromise)(e):e}function i(e){return Array.isArray(e)?n.i(s.a)(e):e}function a(e){return Array.isArray(e)?n.i(s.b)(e):e}var c=n(149),s=(n.n(c),n(55)),l=n(72),u=n(297);n.d(t,"a",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return _});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},f="VALID",d="INVALID",h="PENDING",y="DISABLED",g=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._status===f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this._status===d},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this._status==h},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._status===y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._status!==y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=i(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=a(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=!0,this._parent&&!t&&this._parent.markAsTouched({onlySelf:t})},e.prototype.markAsUntouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!t&&this._parent._updateTouched({onlySelf:t})},e.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!1,this._parent&&!t&&this._parent.markAsDirty({onlySelf:t})},e.prototype.markAsPristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!0,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype.markAsPending=function(e){var t=(void 0===e?{}:e).onlySelf;this._status=h,this._parent&&!t&&this._parent.markAsPending({onlySelf:t})},e.prototype.disable=function(e){var t=void 0===e?{}:e,n=t.onlySelf,r=t.emitEvent;this._status=y,this._errors=null,this._forEachChild(function(e){e.disable({onlySelf:!0})}),this._updateValue(),r!==!1&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(n),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){var t=void 0===e?{}:e,n=t.onlySelf,r=t.emitEvent;this._status=f,this._forEachChild(function(e){e.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r}),this._updateAncestors(n),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.setValue=function(e,t){},e.prototype.patchValue=function(e,t){},e.prototype.reset=function(e,t){},e.prototype.updateValueAndValidity=function(e){var t=void 0===e?{}:e,n=t.onlySelf,r=t.emitEvent;this._setInitialStatus(),this._updateValue(),this.enabled&&(this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!==f&&this._status!==h||this._runAsyncValidator(r)),r!==!1&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},e.prototype._updateTreeValidity=function(e){var t=(void 0===e?{emitEvent:!0}:e).emitEvent;this._forEachChild(function(e){return e._updateTreeValidity({emitEvent:t})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t})},e.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?y:f},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this._status=h,this._cancelExistingSubscription();var n=o(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe({next:function(n){return t.setErrors(n,{emitEvent:e})}})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){var n=(void 0===t?{}:t).emitEvent;this._errors=e,this._updateControlsErrors(n!==!1)},e.prototype.get=function(e){return r(this,e,".")},e.prototype.getError=function(e,t){void 0===t&&(t=null);var n=t?this.get(t):this;return n&&n._errors?n._errors[e]:null},e.prototype.hasError=function(e,t){return void 0===t&&(t=null),!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this._status=this._calculateStatus(),e&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this._valueChanges=new l.a,this._statusChanges=new l.a},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?y:this._errors?d:this._anyControlsHaveStatus(h)?h:this._anyControlsHaveStatus(d)?d:f},e.prototype._updateValue=function(){},e.prototype._forEachChild=function(e){},e.prototype._anyControls=function(e){},e.prototype._allControlsDisabled=function(){},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!this._anyControlsDirty(),this._parent&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype._updateTouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=this._anyControlsTouched(),this._parent&&!t&&this._parent._updateTouched({onlySelf:t})},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e}(),m=function(e){function t(t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,i(n),a(r)),this._onChange=[],this._applyFormState(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return p(t,e),t.prototype.setValue=function(e,t){var n=this,r=void 0===t?{}:t,o=r.onlySelf,i=r.emitEvent,a=r.emitModelToViewChange,c=r.emitViewToModelChange;this._value=e,this._onChange.length&&a!==!1&&this._onChange.forEach(function(e){return e(n._value,c!==!1)}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null);var n=void 0===t?{}:t,r=n.onlySelf,o=n.emitEvent;this._applyFormState(e),this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(this._value,{onlySelf:r,emitEvent:o})},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this._value=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=e},t}(g),v=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this.controls=t,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return p(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this,r=void 0===t?{}:t,o=r.onlySelf,i=r.emitEvent;this._checkAllValuesPresent(e),Object.keys(e).forEach(function(t){n._throwIfControlMissing(t),n.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},t.prototype.patchValue=function(e,t){var n=this,r=void 0===t?{}:t,o=r.onlySelf,i=r.emitEvent;Object.keys(e).forEach(function(t){n.controls[t]&&n.controls[t].patchValue(e[t],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},t.prototype.reset=function(e,t){void 0===e&&(e={});var n=void 0===t?{}:t,r=n.onlySelf,o=n.emitEvent;this._forEachChild(function(t,n){t.reset(e[n],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:r,emitEvent:o}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t.value,e})},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this._value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(r,o){n=n||t.contains(o)&&e(r)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n},t.prototype._allControlsDisabled=function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},t}(g),_=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this.controls=t,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return p(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this,r=void 0===t?{}:t,o=r.onlySelf,i=r.emitEvent;this._checkAllValuesPresent(e),e.forEach(function(e,t){n._throwIfControlMissing(t),n.at(t).setValue(e,{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},t.prototype.patchValue=function(e,t){var n=this,r=void 0===t?{}:t,o=r.onlySelf,i=r.emitEvent;e.forEach(function(e,t){n.at(t)&&n.at(t).patchValue(e,{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},t.prototype.reset=function(e,t){void 0===e&&(e=[]);var n=void 0===t?{}:t,r=n.onlySelf,o=n.emitEvent;this._forEachChild(function(t,n){t.reset(e[n],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:r,emitEvent:o}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e.value})},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this._value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")})},t.prototype._allControlsDisabled=function(){for(var e=0,t=this.controls;e<t.length;e++){if(t[e].enabled)return!1}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(g)},145:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},146:function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}t=e.exports=n(524),t.log=a,t.formatArgs=i,t.save=c,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(103))},15:function(e,t,n){(function(e,r){var o;(function(){function i(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function c(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function l(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function u(e,t){for(var n=null==e?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function p(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function f(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function d(e,t){return!!(null==e?0:e.length)&&w(e,t,0)>-1}function h(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function y(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function g(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function m(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function v(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function _(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){return e.split("")}function S(e){return e.match(Gt)||[]}function C(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function k(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function w(e,t,n){return t===t?X(e,t,n):k(e,A,n)}function x(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function A(e){return e!==e}function P(e,t){var n=null==e?0:e.length;return n?O(e,t)/n:De}function j(e){return function(t){return null==t?oe:t[e]}}function T(e){return function(t){return null==e?oe:e[t]}}function E(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function I(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function O(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==oe&&(n=n===oe?i:n+i)}return n}function M(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function R(e,t){return y(t,function(t){return[t,e[t]]})}function F(e){return function(t){return e(t)}}function B(e,t){return y(t,function(t){return e[t]})}function D(e,t){return e.has(t)}function N(e,t){for(var n=-1,r=e.length;++n<r&&w(t,e[n],0)>-1;);return n}function V(e,t){for(var n=e.length;n--&&w(t,e[n],0)>-1;);return n}function L(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function W(e){return"\\"+nr[e]}function z(e,t){return null==e?oe:e[t]}function G(e){return Jn.test(e)}function U(e){return $n.test(e)}function H(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function J(e,t){return function(n){return e(t(n))}}function $(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==pe||(e[n]=pe,i[o++]=n)}return i}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function X(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function Z(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Q(e){return G(e)?te(e):_r(e)}function ee(e){return G(e)?ne(e):b(e)}function te(e){for(var t=Hn.lastIndex=0;Hn.test(e);)++t;return t}function ne(e){return e.match(Hn)||[]}function re(e){return e.match(qn)||[]}var oe,ie="4.17.4",ae=200,ce="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",se="Expected a function",le="__lodash_hash_undefined__",ue=500,pe="__lodash_placeholder__",fe=1,de=2,he=4,ye=1,ge=2,me=1,ve=2,_e=4,be=8,Se=16,Ce=32,ke=64,we=128,xe=256,Ae=512,Pe=30,je="...",Te=800,Ee=16,Ie=1,Oe=2,Me=3,Re=1/0,Fe=9007199254740991,Be=1.7976931348623157e308,De=NaN,Ne=4294967295,Ve=Ne-1,Le=Ne>>>1,We=[["ary",we],["bind",me],["bindKey",ve],["curry",be],["curryRight",Se],["flip",Ae],["partial",Ce],["partialRight",ke],["rearg",xe]],ze="[object Arguments]",Ge="[object Array]",Ue="[object AsyncFunction]",He="[object Boolean]",qe="[object Date]",Je="[object DOMException]",$e="[object Error]",Ye="[object Function]",Ke="[object GeneratorFunction]",Xe="[object Map]",Ze="[object Number]",Qe="[object Null]",et="[object Object]",tt="[object Promise]",nt="[object Proxy]",rt="[object RegExp]",ot="[object Set]",it="[object String]",at="[object Symbol]",ct="[object Undefined]",st="[object WeakMap]",lt="[object WeakSet]",ut="[object ArrayBuffer]",pt="[object DataView]",ft="[object Float32Array]",dt="[object Float64Array]",ht="[object Int8Array]",yt="[object Int16Array]",gt="[object Int32Array]",mt="[object Uint8Array]",vt="[object Uint8ClampedArray]",_t="[object Uint16Array]",bt="[object Uint32Array]",St=/\b__p \+= '';/g,Ct=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,At=RegExp(wt.source),Pt=RegExp(xt.source),jt=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Mt=/^\./,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ft=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp(Ft.source),Dt=/^\s+|\s+$/g,Nt=/^\s+/,Vt=/\s+$/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wt=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Gt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Jt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,en=/['\n\r\u2028\u2029\\]/g,tn="\\ud800-\\udfff",nn="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",an=nn+rn+on,cn="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",ln="\\xac\\xb1\\xd7\\xf7",un="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pn="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",yn=ln+un+pn+fn,gn="['’]",mn="["+tn+"]",vn="["+yn+"]",_n="["+an+"]",bn="\\d+",Sn="["+cn+"]",Cn="["+sn+"]",kn="[^"+tn+yn+bn+cn+sn+dn+"]",wn="\\ud83c[\\udffb-\\udfff]",xn="(?:"+_n+"|"+wn+")",An="[^"+tn+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",jn="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+dn+"]",En="\\u200d",In="(?:"+Cn+"|"+kn+")",On="(?:"+Tn+"|"+kn+")",Mn="(?:"+gn+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+gn+"(?:D|LL|M|RE|S|T|VE))?",Fn=xn+"?",Bn="["+hn+"]?",Dn="(?:"+En+"(?:"+[An,Pn,jn].join("|")+")"+Bn+Fn+")*",Nn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Vn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ln=Bn+Fn+Dn,Wn="(?:"+[Sn,Pn,jn].join("|")+")"+Ln,zn="(?:"+[An+_n+"?",_n,Pn,jn,mn].join("|")+")",Gn=RegExp(gn,"g"),Un=RegExp(_n,"g"),Hn=RegExp(wn+"(?="+wn+")|"+zn+Ln,"g"),qn=RegExp([Tn+"?"+Cn+"+"+Mn+"(?="+[vn,Tn,"$"].join("|")+")",On+"+"+Rn+"(?="+[vn,Tn+In,"$"].join("|")+")",Tn+"?"+In+"+"+Mn,Tn+"+"+Rn,Vn,Nn,bn,Wn].join("|"),"g"),Jn=RegExp("["+En+tn+an+hn+"]"),$n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kn=-1,Xn={};Xn[ft]=Xn[dt]=Xn[ht]=Xn[yt]=Xn[gt]=Xn[mt]=Xn[vt]=Xn[_t]=Xn[bt]=!0,Xn[ze]=Xn[Ge]=Xn[ut]=Xn[He]=Xn[pt]=Xn[qe]=Xn[$e]=Xn[Ye]=Xn[Xe]=Xn[Ze]=Xn[et]=Xn[rt]=Xn[ot]=Xn[it]=Xn[st]=!1;var Zn={};Zn[ze]=Zn[Ge]=Zn[ut]=Zn[pt]=Zn[He]=Zn[qe]=Zn[ft]=Zn[dt]=Zn[ht]=Zn[yt]=Zn[gt]=Zn[Xe]=Zn[Ze]=Zn[et]=Zn[rt]=Zn[ot]=Zn[it]=Zn[at]=Zn[mt]=Zn[vt]=Zn[_t]=Zn[bt]=!0,Zn[$e]=Zn[Ye]=Zn[st]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,or=parseInt,ir="object"==typeof e&&e&&e.Object===Object&&e,ar="object"==typeof self&&self&&self.Object===Object&&self,cr=ir||ar||Function("return this")(),sr="object"==typeof t&&t&&!t.nodeType&&t,lr=sr&&"object"==typeof r&&r&&!r.nodeType&&r,ur=lr&&lr.exports===sr,pr=ur&&ir.process,fr=function(){try{return pr&&pr.binding&&pr.binding("util")}catch(e){}}(),dr=fr&&fr.isArrayBuffer,hr=fr&&fr.isDate,yr=fr&&fr.isMap,gr=fr&&fr.isRegExp,mr=fr&&fr.isSet,vr=fr&&fr.isTypedArray,_r=j("length"),br=T(Qn),Sr=T(er),Cr=T(tr),kr=function e(t){function n(e){if(ls(e)&&!Sf(e)&&!(e instanceof b)){if(e instanceof o)return e;if(bu.call(e,"__wrapped__"))return aa(e)}return new o(e)}function r(){}function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=oe}function b(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function T(){var e=new b(this.__wrapped__);return e.__actions__=Wo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Wo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Wo(this.__views__),e}function X(){if(this.__filtered__){var e=new b(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),t=this.__dir__,n=Sf(e),r=t<0,o=n?e.length:0,i=Ei(0,o,this.__views__),a=i.start,c=i.end,s=c-a,l=r?c:a-1,u=this.__iteratees__,p=u.length,f=0,d=Ku(s,this.__takeCount__);if(!n||!r&&o==s&&d==s)return Co(e,this.__actions__);var h=[];e:for(;s--&&f<d;){l+=t;for(var y=-1,g=e[l];++y<p;){var m=u[y],v=m.iteratee,_=m.type,b=v(g);if(_==Oe)g=b;else if(!b){if(_==Ie)continue e;break e}}h[f++]=g}return h}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gt(){this.__data__=ap?ap(null):{},this.size=0}function tn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function nn(e){var t=this.__data__;if(ap){var n=t[e];return n===le?oe:n}return bu.call(t,e)?t[e]:oe}function rn(e){var t=this.__data__;return ap?t[e]!==oe:bu.call(t,e)}function on(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ap&&t===oe?le:t,this}function an(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cn(){this.__data__=[],this.size=0}function sn(e){var t=this.__data__,n=Mn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ru.call(t,n,1),--this.size,!0)}function ln(e){var t=this.__data__,n=Mn(t,e);return n<0?oe:t[n][1]}function un(e){return Mn(this.__data__,e)>-1}function pn(e,t){var n=this.__data__,r=Mn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dn(){this.size=0,this.__data__={hash:new ne,map:new(np||an),string:new ne}}function hn(e){var t=Ai(this,e).delete(e);return this.size-=t?1:0,t}function yn(e){return Ai(this,e).get(e)}function gn(e){return Ai(this,e).has(e)}function mn(e,t){var n=Ai(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new fn;++t<n;)this.add(e[t])}function _n(e){return this.__data__.set(e,le),this}function bn(e){return this.__data__.has(e)}function Sn(e){var t=this.__data__=new an(e);this.size=t.size}function Cn(){this.__data__=new an,this.size=0}function kn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function wn(e){return this.__data__.get(e)}function xn(e){return this.__data__.has(e)}function An(e,t){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!np||r.length<ae-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fn(r)}return n.set(e,t),this.size=n.size,this}function Pn(e,t){var n=Sf(e),r=!n&&bf(e),o=!n&&!r&&kf(e),i=!n&&!r&&!o&&jf(e),a=n||r||o||i,c=a?M(e.length,du):[],s=c.length;for(var l in e)!t&&!bu.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ni(l,s))||c.push(l);return c}function jn(e){var t=e.length;return t?e[no(0,t-1)]:oe}function Tn(e,t){return na(Wo(e),Vn(t,0,e.length))}function En(e){return na(Wo(e))}function In(e,t,n){(n===oe||Yc(e[t],n))&&(n!==oe||t in e)||Dn(e,t,n)}function On(e,t,n){var r=e[t];bu.call(e,t)&&Yc(r,n)&&(n!==oe||t in e)||Dn(e,t,n)}function Mn(e,t){for(var n=e.length;n--;)if(Yc(e[n][0],t))return n;return-1}function Rn(e,t,n,r){return vp(e,function(e,o,i){t(r,e,n(e),i)}),r}function Fn(e,t){return e&&zo(t,Us(t),e)}function Bn(e,t){return e&&zo(t,Hs(t),e)}function Dn(e,t,n){"__proto__"==t&&Nu?Nu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Nn(e,t){for(var n=-1,r=t.length,o=au(r),i=null==e;++n<r;)o[n]=i?oe:Ws(e,t[n]);return o}function Vn(e,t,n){return e===e&&(n!==oe&&(e=e<=n?e:n),t!==oe&&(e=e>=t?e:t)),e}function Ln(e,t,n,r,o,i){var a,c=t&fe,s=t&de,u=t&he;if(n&&(a=o?n(e,r,o,i):n(e)),a!==oe)return a;if(!ss(e))return e;var p=Sf(e);if(p){if(a=Mi(e),!c)return Wo(e,a)}else{var f=Ep(e),d=f==Ye||f==Ke;if(kf(e))return To(e,c);if(f==et||f==ze||d&&!o){if(a=s||d?{}:Ri(e),!c)return s?Uo(e,Bn(a,e)):Go(e,Fn(a,e))}else{if(!Zn[f])return o?e:{};a=Fi(e,f,Ln,c)}}i||(i=new Sn);var h=i.get(e);if(h)return h;i.set(e,a);var y=u?s?Ci:Si:s?Hs:Us,g=p?oe:y(e);return l(g||e,function(r,o){g&&(o=r,r=e[o]),On(a,o,Ln(r,t,n,o,e,i))}),a}function Wn(e){var t=Us(e);return function(n){return zn(n,e,t)}}function zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pu(e);r--;){var o=n[r],i=t[o],a=e[o];if(a===oe&&!(o in e)||!i(a))return!1}return!0}function Hn(e,t,n){if("function"!=typeof e)throw new hu(se);return Mp(function(){e.apply(oe,n)},t)}function qn(e,t,n,r){var o=-1,i=d,a=!0,c=e.length,s=[],l=t.length;if(!c)return s;n&&(t=y(t,F(n))),r?(i=h,a=!1):t.length>=ae&&(i=D,a=!1,t=new vn(t));e:for(;++o<c;){var u=e[o],p=null==n?u:n(u);if(u=r||0!==u?u:0,a&&p===p){for(var f=l;f--;)if(t[f]===p)continue e;s.push(u)}else i(t,p,r)||s.push(u)}return s}function Jn(e,t){var n=!0;return vp(e,function(e,r,o){return n=!!t(e,r,o)}),n}function $n(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(c===oe?a===a&&!bs(a):n(a,c)))var c=a,s=i}return s}function Qn(e,t,n,r){var o=e.length;for(n=As(n),n<0&&(n=-n>o?0:o+n),r=r===oe||r>o?o:As(r),r<0&&(r+=o),r=n>r?0:Ps(r);n<r;)e[n++]=t;return e}function er(e,t){var n=[];return vp(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function tr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Di),o||(o=[]);++i<a;){var c=e[i];t>0&&n(c)?t>1?tr(c,t-1,n,r,o):g(o,c):r||(o[o.length]=c)}return o}function nr(e,t){return e&&bp(e,t,Us)}function ir(e,t){return e&&Sp(e,t,Us)}function ar(e,t){return f(t,function(t){return is(e[t])})}function sr(e,t){t=Po(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[ra(t[n++])];return n&&n==r?e:oe}function lr(e,t,n){var r=t(e);return Sf(e)?r:g(r,n(e))}function pr(e){return null==e?e===oe?ct:Qe:Du&&Du in pu(e)?Ti(e):Ki(e)}function fr(e,t){return e>t}function _r(e,t){return null!=e&&bu.call(e,t)}function kr(e,t){return null!=e&&t in pu(e)}function xr(e,t,n){return e>=Ku(t,n)&&e<Yu(t,n)}function Ar(e,t,n){for(var r=n?h:d,o=e[0].length,i=e.length,a=i,c=au(i),s=1/0,l=[];a--;){var u=e[a];a&&t&&(u=y(u,F(t))),s=Ku(u.length,s),c[a]=!n&&(t||o>=120&&u.length>=120)?new vn(a&&u):oe}u=e[0];var p=-1,f=c[0];e:for(;++p<o&&l.length<s;){var g=u[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?D(f,m):r(l,m,n))){for(a=i;--a;){var v=c[a];if(!(v?D(v,m):r(e[a],m,n)))continue e}f&&f.push(m),l.push(g)}}return l}function Pr(e,t,n,r){return nr(e,function(e,o,i){t(r,n(e),o,i)}),r}function jr(e,t,n){t=Po(t,e),e=Zi(e,t);var r=null==e?e:e[ra(xa(t))];return null==r?oe:c(r,e,n)}function Tr(e){return ls(e)&&pr(e)==ze}function Er(e){return ls(e)&&pr(e)==ut}function Ir(e){return ls(e)&&pr(e)==qe}function Or(e,t,n,r,o){return e===t||(null==e||null==t||!ls(e)&&!ls(t)?e!==e&&t!==t:Mr(e,t,n,r,Or,o))}function Mr(e,t,n,r,o,i){var a=Sf(e),c=Sf(t),s=a?Ge:Ep(e),l=c?Ge:Ep(t);s=s==ze?et:s,l=l==ze?et:l;var u=s==et,p=l==et,f=s==l;if(f&&kf(e)){if(!kf(t))return!1;a=!0,u=!1}if(f&&!u)return i||(i=new Sn),a||jf(e)?mi(e,t,n,r,o,i):vi(e,t,s,n,r,o,i);if(!(n&ye)){var d=u&&bu.call(e,"__wrapped__"),h=p&&bu.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,g=h?t.value():t;return i||(i=new Sn),o(y,g,n,r,i)}}return!!f&&(i||(i=new Sn),_i(e,t,n,r,o,i))}function Rr(e){return ls(e)&&Ep(e)==Xe}function Fr(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=pu(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){c=n[o];var s=c[0],l=e[s],u=c[1];if(a&&c[2]){if(l===oe&&!(s in e))return!1}else{var p=new Sn;if(r)var f=r(l,u,s,e,t,p);if(!(f===oe?Or(u,l,ye|ge,r,p):f))return!1}}return!0}function Br(e){return!(!ss(e)||Gi(e))&&(is(e)?Au:Yt).test(oa(e))}function Dr(e){return ls(e)&&pr(e)==rt}function Nr(e){return ls(e)&&Ep(e)==ot}function Vr(e){return ls(e)&&cs(e.length)&&!!Xn[pr(e)]}function Lr(e){return"function"==typeof e?e:null==e?Rl:"object"==typeof e?Sf(e)?qr(e[0],e[1]):Hr(e):zl(e)}function Wr(e){if(!Ui(e))return $u(e);var t=[];for(var n in pu(e))bu.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zr(e){if(!ss(e))return Yi(e);var t=Ui(e),n=[];for(var r in e)("constructor"!=r||!t&&bu.call(e,r))&&n.push(r);return n}function Gr(e,t){return e<t}function Ur(e,t){var n=-1,r=Kc(e)?au(e.length):[];return vp(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Hr(e){var t=Pi(e);return 1==t.length&&t[0][2]?qi(t[0][0],t[0][1]):function(n){return n===e||Fr(n,e,t)}}function qr(e,t){return Li(e)&&Hi(t)?qi(ra(e),t):function(n){var r=Ws(n,e);return r===oe&&r===t?Gs(n,e):Or(t,r,ye|ge)}}function Jr(e,t,n,r,o){e!==t&&bp(t,function(i,a){if(ss(i))o||(o=new Sn),$r(e,t,a,n,Jr,r,o);else{var c=r?r(e[a],i,a+"",e,t,o):oe;c===oe&&(c=i),In(e,a,c)}},Hs)}function $r(e,t,n,r,o,i,a){var c=e[n],s=t[n],l=a.get(s);if(l)return void In(e,n,l);var u=i?i(c,s,n+"",e,t,a):oe,p=u===oe;if(p){var f=Sf(s),d=!f&&kf(s),h=!f&&!d&&jf(s);u=s,f||d||h?Sf(c)?u=c:Xc(c)?u=Wo(c):d?(p=!1,u=To(s,!0)):h?(p=!1,u=Bo(s,!0)):u=[]:ms(s)||bf(s)?(u=c,bf(c)?u=Ts(c):(!ss(c)||r&&is(c))&&(u=Ri(s))):p=!1}p&&(a.set(s,u),o(u,s,r,i,a),a.delete(s)),In(e,n,u)}function Yr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Ni(t,n)?e[t]:oe}function Kr(e,t,n){var r=-1;return t=y(t.length?t:[Rl],F(xi())),I(Ur(e,function(e,n,o){return{criteria:y(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return No(e,t,n)})}function Xr(e,t){return Zr(e,t,function(t,n){return Gs(e,n)})}function Zr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=sr(e,a);n(c,a)&&so(i,Po(a,e),c)}return i}function Qr(e){return function(t){return sr(t,e)}}function eo(e,t,n,r){var o=r?x:w,i=-1,a=t.length,c=e;for(e===t&&(t=Wo(t)),n&&(c=y(e,F(n)));++i<a;)for(var s=0,l=t[i],u=n?n(l):l;(s=o(c,u,s,r))>-1;)c!==e&&Ru.call(c,s,1),Ru.call(e,s,1);return e}function to(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ni(o)?Ru.call(e,o,1):_o(e,o)}}return e}function no(e,t){return e+Gu(Qu()*(t-e+1))}function ro(e,t,n,r){for(var o=-1,i=Yu(zu((t-e)/(n||1)),0),a=au(i);i--;)a[r?i:++o]=e,e+=n;return a}function oo(e,t){var n="";if(!e||t<1||t>Fe)return n;do{t%2&&(n+=e),(t=Gu(t/2))&&(e+=e)}while(t);return n}function io(e,t){return Rp(Xi(e,t,Rl),e+"")}function ao(e){return jn(rl(e))}function co(e,t){var n=rl(e);return na(n,Vn(t,0,n.length))}function so(e,t,n,r){if(!ss(e))return e;t=Po(t,e);for(var o=-1,i=t.length,a=i-1,c=e;null!=c&&++o<i;){var s=ra(t[o]),l=n;if(o!=a){var u=c[s];l=r?r(u,s,c):oe,l===oe&&(l=ss(u)?u:Ni(t[o+1])?[]:{})}On(c,s,l),c=c[s]}return e}function lo(e){return na(rl(e))}function uo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=au(o);++r<o;)i[r]=e[r+t];return i}function po(e,t){var n;return vp(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function fo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=Le){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!bs(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ho(e,t,Rl,n)}function ho(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,a=t!==t,c=null===t,s=bs(t),l=t===oe;o<i;){var u=Gu((o+i)/2),p=n(e[u]),f=p!==oe,d=null===p,h=p===p,y=bs(p);if(a)var g=r||h;else g=l?h&&(r||f):c?h&&f&&(r||!d):s?h&&f&&!d&&(r||!y):!d&&!y&&(r?p<=t:p<t);g?o=u+1:i=u}return Ku(i,Ve)}function yo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],c=t?t(a):a;if(!n||!Yc(c,s)){var s=c;i[o++]=0===a?0:a}}return i}function go(e){return"number"==typeof e?e:bs(e)?De:+e}function mo(e){if("string"==typeof e)return e;if(Sf(e))return y(e,mo)+"";if(bs(e))return gp?gp.call(e):"";var t=e+"";return"0"==t&&1/e==-Re?"-0":t}function vo(e,t,n){var r=-1,o=d,i=e.length,a=!0,c=[],s=c;if(n)a=!1,o=h;else if(i>=ae){var l=t?null:Ap(e);if(l)return Y(l);a=!1,o=D,s=new vn}else s=t?[]:c;e:for(;++r<i;){var u=e[r],p=t?t(u):u;if(u=n||0!==u?u:0,a&&p===p){for(var f=s.length;f--;)if(s[f]===p)continue e;t&&s.push(p),c.push(u)}else o(s,p,n)||(s!==c&&s.push(p),c.push(u))}return c}function _o(e,t){return t=Po(t,e),null==(e=Zi(e,t))||delete e[ra(xa(t))]}function bo(e,t,n,r){return so(e,t,n(sr(e,t)),r)}function So(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?uo(e,r?0:i,r?i+1:o):uo(e,r?i+1:0,r?o:i)}function Co(e,t){var n=e;return n instanceof b&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function ko(e,t,n){var r=e.length;if(r<2)return r?vo(e[0]):[];for(var o=-1,i=au(r);++o<r;)for(var a=e[o],c=-1;++c<r;)c!=o&&(i[o]=qn(i[o]||a,e[c],t,n));return vo(tr(i,1),t,n)}function wo(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var c=r<i?t[r]:oe;n(a,e[r],c)}return a}function xo(e){return Xc(e)?e:[]}function Ao(e){return"function"==typeof e?e:Rl}function Po(e,t){return Sf(e)?e:Li(e,t)?[e]:Fp(Is(e))}function jo(e,t,n){var r=e.length;return n=n===oe?r:n,!t&&n>=r?e:uo(e,t,n)}function To(e,t){if(t)return e.slice();var n=e.length,r=Eu?Eu(n):new e.constructor(n);return e.copy(r),r}function Eo(e){var t=new e.constructor(e.byteLength);return new Tu(t).set(new Tu(e)),t}function Io(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Oo(e,t,n){return m(t?n(q(e),fe):q(e),i,new e.constructor)}function Mo(e){var t=new e.constructor(e.source,qt.exec(e));return t.lastIndex=e.lastIndex,t}function Ro(e,t,n){return m(t?n(Y(e),fe):Y(e),a,new e.constructor)}function Fo(e){return yp?pu(yp.call(e)):{}}function Bo(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Do(e,t){if(e!==t){var n=e!==oe,r=null===e,o=e===e,i=bs(e),a=t!==oe,c=null===t,s=t===t,l=bs(t);if(!c&&!l&&!i&&e>t||i&&a&&s&&!c&&!l||r&&a&&s||!n&&s||!o)return 1;if(!r&&!i&&!l&&e<t||l&&n&&o&&!r&&!i||c&&n&&o||!a&&o||!s)return-1}return 0}function No(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,c=n.length;++r<a;){var s=Do(o[r],i[r]);if(s){if(r>=c)return s;return s*("desc"==n[r]?-1:1)}}return e.index-t.index}function Vo(e,t,n,r){for(var o=-1,i=e.length,a=n.length,c=-1,s=t.length,l=Yu(i-a,0),u=au(s+l),p=!r;++c<s;)u[c]=t[c];for(;++o<a;)(p||o<i)&&(u[n[o]]=e[o]);for(;l--;)u[c++]=e[o++];return u}function Lo(e,t,n,r){for(var o=-1,i=e.length,a=-1,c=n.length,s=-1,l=t.length,u=Yu(i-c,0),p=au(u+l),f=!r;++o<u;)p[o]=e[o];for(var d=o;++s<l;)p[d+s]=t[s];for(;++a<c;)(f||o<i)&&(p[d+n[a]]=e[o++]);return p}function Wo(e,t){var n=-1,r=e.length;for(t||(t=au(r));++n<r;)t[n]=e[n];return t}function zo(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],s=r?r(n[c],e[c],c,n,e):oe;s===oe&&(s=e[c]),o?Dn(n,c,s):On(n,c,s)}return n}function Go(e,t){return zo(e,jp(e),t)}function Uo(e,t){return zo(e,Tp(e),t)}function Ho(e,t){return function(n,r){var o=Sf(n)?s:Rn,i=t?t():{};return o(n,e,xi(r,2),i)}}function qo(e){return io(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:oe,a=o>2?n[2]:oe;for(i=e.length>3&&"function"==typeof i?(o--,i):oe,a&&Vi(n[0],n[1],a)&&(i=o<3?oe:i,o=1),t=pu(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}function Jo(e,t){return function(n,r){if(null==n)return n;if(!Kc(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=pu(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function $o(e){return function(t,n,r){for(var o=-1,i=pu(t),a=r(t),c=a.length;c--;){var s=a[e?c:++o];if(n(i[s],s,i)===!1)break}return t}}function Yo(e,t,n){function r(){return(this&&this!==cr&&this instanceof r?i:e).apply(o?n:this,arguments)}var o=t&me,i=Zo(e);return r}function Ko(e){return function(t){t=Is(t);var n=G(t)?ee(t):oe,r=n?n[0]:t.charAt(0),o=n?jo(n,1).join(""):t.slice(1);return r[e]()+o}}function Xo(e){return function(t){return m(Tl(ll(t).replace(Gn,"")),e,"")}}function Zo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mp(e.prototype),r=e.apply(n,t);return ss(r)?r:n}}function Qo(e,t,n){function r(){for(var i=arguments.length,a=au(i),s=i,l=wi(r);s--;)a[s]=arguments[s];var u=i<3&&a[0]!==l&&a[i-1]!==l?[]:$(a,l);return(i-=u.length)<n?ui(e,t,ni,r.placeholder,oe,a,u,oe,oe,n-i):c(this&&this!==cr&&this instanceof r?o:e,this,a)}var o=Zo(e);return r}function ei(e){return function(t,n,r){var o=pu(t);if(!Kc(t)){var i=xi(n,3);t=Us(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:oe}}function ti(e){return bi(function(t){var n=t.length,r=n,i=o.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new hu(se);if(i&&!c&&"wrapper"==ki(a))var c=new o([],!0)}for(r=c?r:n;++r<n;){a=t[r];var s=ki(a),l="wrapper"==s?Pp(a):oe;c=l&&zi(l[0])&&l[1]==(we|be|Ce|xe)&&!l[4].length&&1==l[9]?c[ki(l[0])].apply(c,l[3]):1==a.length&&zi(a)?c[s]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Sf(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function ni(e,t,n,r,o,i,a,c,s,l){function u(){for(var m=arguments.length,v=au(m),_=m;_--;)v[_]=arguments[_];if(h)var b=wi(u),S=L(v,b);if(r&&(v=Vo(v,r,o,h)),i&&(v=Lo(v,i,a,h)),m-=S,h&&m<l){var C=$(v,b);return ui(e,t,ni,u.placeholder,n,v,C,c,s,l-m)}var k=f?n:this,w=d?k[e]:e;return m=v.length,c?v=Qi(v,c):y&&m>1&&v.reverse(),p&&s<m&&(v.length=s),this&&this!==cr&&this instanceof u&&(w=g||Zo(w)),w.apply(k,v)}var p=t&we,f=t&me,d=t&ve,h=t&(be|Se),y=t&Ae,g=d?oe:Zo(e);return u}function ri(e,t){return function(n,r){return Pr(n,e,t(r),{})}}function oi(e,t){return function(n,r){var o;if(n===oe&&r===oe)return t;if(n!==oe&&(o=n),r!==oe){if(o===oe)return r;"string"==typeof n||"string"==typeof r?(n=mo(n),r=mo(r)):(n=go(n),r=go(r)),o=e(n,r)}return o}}function ii(e){return bi(function(t){return t=y(t,F(xi())),io(function(n){var r=this;return e(t,function(e){return c(e,r,n)})})})}function ai(e,t){t=t===oe?" ":mo(t);var n=t.length;if(n<2)return n?oo(t,e):t;var r=oo(t,zu(e/Q(t)));return G(t)?jo(ee(r),0,e).join(""):r.slice(0,e)}function ci(e,t,n,r){function o(){for(var t=-1,s=arguments.length,l=-1,u=r.length,p=au(u+s),f=this&&this!==cr&&this instanceof o?a:e;++l<u;)p[l]=r[l];for(;s--;)p[l++]=arguments[++t];return c(f,i?n:this,p)}var i=t&me,a=Zo(e);return o}function si(e){return function(t,n,r){return r&&"number"!=typeof r&&Vi(t,n,r)&&(n=r=oe),t=xs(t),n===oe?(n=t,t=0):n=xs(n),r=r===oe?t<n?1:-1:xs(r),ro(t,n,r,e)}}function li(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=js(t),n=js(n)),e(t,n)}}function ui(e,t,n,r,o,i,a,c,s,l){var u=t&be,p=u?a:oe,f=u?oe:a,d=u?i:oe,h=u?oe:i;t|=u?Ce:ke,(t&=~(u?ke:Ce))&_e||(t&=~(me|ve));var y=[e,t,o,d,p,h,f,c,s,l],g=n.apply(oe,y);return zi(e)&&Op(g,y),g.placeholder=r,ea(g,e,t)}function pi(e){var t=uu[e];return function(e,n){if(e=js(e),n=null==n?0:Ku(As(n),292)){var r=(Is(e)+"e").split("e");return r=(Is(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function fi(e){return function(t){var n=Ep(t);return n==Xe?q(t):n==ot?K(t):R(t,e(t))}}function di(e,t,n,r,o,i,a,c){var s=t&ve;if(!s&&"function"!=typeof e)throw new hu(se);var l=r?r.length:0;if(l||(t&=~(Ce|ke),r=o=oe),a=a===oe?a:Yu(As(a),0),c=c===oe?c:As(c),l-=o?o.length:0,t&ke){var u=r,p=o;r=o=oe}var f=s?oe:Pp(e),d=[e,t,n,r,o,u,p,i,a,c];if(f&&$i(d,f),e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],c=d[9]=d[9]===oe?s?0:e.length:Yu(d[9]-l,0),!c&&t&(be|Se)&&(t&=~(be|Se)),t&&t!=me)h=t==be||t==Se?Qo(e,t,c):t!=Ce&&t!=(me|Ce)||o.length?ni.apply(oe,d):ci(e,t,n,r);else var h=Yo(e,t,n);return ea((f?Cp:Op)(h,d),e,t)}function hi(e,t,n,r){return e===oe||Yc(e,mu[n])&&!bu.call(r,n)?t:e}function yi(e,t,n,r,o,i){return ss(e)&&ss(t)&&(i.set(t,e),Jr(e,t,oe,yi,i),i.delete(t)),e}function gi(e){return ms(e)?oe:e}function mi(e,t,n,r,o,i){var a=n&ye,c=e.length,s=t.length;if(c!=s&&!(a&&s>c))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,p=!0,f=n&ge?new vn:oe;for(i.set(e,t),i.set(t,e);++u<c;){var d=e[u],h=t[u];if(r)var y=a?r(h,d,u,t,e,i):r(d,h,u,e,t,i);if(y!==oe){if(y)continue;p=!1;break}if(f){if(!_(t,function(e,t){if(!D(f,t)&&(d===e||o(d,e,n,r,i)))return f.push(t)})){p=!1;break}}else if(d!==h&&!o(d,h,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function vi(e,t,n,r,o,i,a){switch(n){case pt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ut:return!(e.byteLength!=t.byteLength||!i(new Tu(e),new Tu(t)));case He:case qe:case Ze:return Yc(+e,+t);case $e:return e.name==t.name&&e.message==t.message;case rt:case it:return e==t+"";case Xe:var c=q;case ot:var s=r&ye;if(c||(c=Y),e.size!=t.size&&!s)return!1;var l=a.get(e);if(l)return l==t;r|=ge,a.set(e,t);var u=mi(c(e),c(t),r,o,i,a);return a.delete(e),u;case at:if(yp)return yp.call(e)==yp.call(t)}return!1}function _i(e,t,n,r,o,i){var a=n&ye,c=Si(e),s=c.length;if(s!=Si(t).length&&!a)return!1;for(var l=s;l--;){var u=c[l];if(!(a?u in t:bu.call(t,u)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);for(var d=a;++l<s;){u=c[l];var h=e[u],y=t[u];if(r)var g=a?r(y,h,u,t,e,i):r(h,y,u,e,t,i);if(!(g===oe?h===y||o(h,y,n,r,i):g)){f=!1;break}d||(d="constructor"==u)}if(f&&!d){var m=e.constructor,v=t.constructor;m!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v)&&(f=!1)}return i.delete(e),i.delete(t),f}function bi(e){return Rp(Xi(e,oe,ma),e+"")}function Si(e){return lr(e,Us,jp)}function Ci(e){return lr(e,Hs,Tp)}function ki(e){for(var t=e.name+"",n=sp[t],r=bu.call(sp,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function wi(e){return(bu.call(n,"placeholder")?n:e).placeholder}function xi(){var e=n.iteratee||Fl;return e=e===Fl?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ai(e,t){var n=e.__data__;return Wi(t)?n["string"==typeof t?"string":"hash"]:n.map}function Pi(e){for(var t=Us(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Hi(o)]}return t}function ji(e,t){var n=z(e,t);return Br(n)?n:oe}function Ti(e){var t=bu.call(e,Du),n=e[Du];try{e[Du]=oe;var r=!0}catch(e){}var o=ku.call(e);return r&&(t?e[Du]=n:delete e[Du]),o}function Ei(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ku(t,e+a);break;case"takeRight":e=Yu(e,t-a)}}return{start:e,end:t}}function Ii(e){var t=e.match(Wt);return t?t[1].split(zt):[]}function Oi(e,t,n){t=Po(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=ra(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&cs(o)&&Ni(a,o)&&(Sf(e)||bf(e))}function Mi(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&bu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ri(e){return"function"!=typeof e.constructor||Ui(e)?{}:mp(Iu(e))}function Fi(e,t,n,r){var o=e.constructor;switch(t){case ut:return Eo(e);case He:case qe:return new o(+e);case pt:return Io(e,r);case ft:case dt:case ht:case yt:case gt:case mt:case vt:case _t:case bt:return Bo(e,r);case Xe:return Oo(e,r,n);case Ze:case it:return new o(e);case rt:return Mo(e);case ot:return Ro(e,r,n);case at:return Fo(e)}}function Bi(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Lt,"{\n/* [wrapped with "+t+"] */\n")}function Di(e){return Sf(e)||bf(e)||!!(Fu&&e&&e[Fu])}function Ni(e,t){return!!(t=null==t?Fe:t)&&("number"==typeof e||Xt.test(e))&&e>-1&&e%1==0&&e<t}function Vi(e,t,n){if(!ss(n))return!1;var r=typeof t;return!!("number"==r?Kc(n)&&Ni(t,n.length):"string"==r&&t in n)&&Yc(n[t],e)}function Li(e,t){if(Sf(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!bs(e))||(Ot.test(e)||!It.test(e)||null!=t&&e in pu(t))}function Wi(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function zi(e){var t=ki(e),r=n[t];if("function"!=typeof r||!(t in b.prototype))return!1;if(e===r)return!0;var o=Pp(r);return!!o&&e===o[0]}function Gi(e){return!!Cu&&Cu in e}function Ui(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||mu)}function Hi(e){return e===e&&!ss(e)}function qi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==oe||e in pu(n)))}}function Ji(e){var t=Fc(e,function(e){return n.size===ue&&n.clear(),e}),n=t.cache;return t}function $i(e,t){var n=e[1],r=t[1],o=n|r,i=o<(me|ve|we),a=r==we&&n==be||r==we&&n==xe&&e[7].length<=t[8]||r==(we|xe)&&t[7].length<=t[8]&&n==be;if(!i&&!a)return e;r&me&&(e[2]=t[2],o|=n&me?0:_e);var c=t[3];if(c){var s=e[3];e[3]=s?Vo(s,c,t[4]):c,e[4]=s?$(e[3],pe):t[4]}return c=t[5],c&&(s=e[5],e[5]=s?Lo(s,c,t[6]):c,e[6]=s?$(e[5],pe):t[6]),c=t[7],c&&(e[7]=c),r&we&&(e[8]=null==e[8]?t[8]:Ku(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Yi(e){var t=[];if(null!=e)for(var n in pu(e))t.push(n);return t}function Ki(e){return ku.call(e)}function Xi(e,t,n){return t=Yu(t===oe?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Yu(r.length-t,0),a=au(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=au(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),c(e,this,s)}}function Zi(e,t){return t.length<2?e:sr(e,uo(t,0,-1))}function Qi(e,t){for(var n=e.length,r=Ku(t.length,n),o=Wo(e);r--;){var i=t[r];e[r]=Ni(i,n)?o[i]:oe}return e}function ea(e,t,n){var r=t+"";return Rp(e,Bi(r,ia(Ii(r),n)))}function ta(e){var t=0,n=0;return function(){var r=Xu(),o=Ee-(r-n);if(n=r,o>0){if(++t>=Te)return arguments[0]}else t=0;return e.apply(oe,arguments)}}function na(e,t){var n=-1,r=e.length,o=r-1;for(t=t===oe?r:t;++n<t;){var i=no(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function ra(e){if("string"==typeof e||bs(e))return e;var t=e+"";return"0"==t&&1/e==-Re?"-0":t}function oa(e){if(null!=e){try{return _u.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ia(e,t){return l(We,function(n){var r="_."+n[0];t&n[1]&&!d(e,r)&&e.push(r)}),e.sort()}function aa(e){if(e instanceof b)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=Wo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ca(e,t,n){t=(n?Vi(e,t,n):t===oe)?1:Yu(As(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=au(zu(r/t));o<r;)a[i++]=uo(e,o,o+=t);return a}function sa(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function la(){var e=arguments.length;if(!e)return[];for(var t=au(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return g(Sf(n)?Wo(n):[n],tr(t,1))}function ua(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===oe?1:As(t),uo(e,t<0?0:t,r)):[]}function pa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===oe?1:As(t),t=r-t,uo(e,0,t<0?0:t)):[]}function fa(e,t){return e&&e.length?So(e,xi(t,3),!0,!0):[]}function da(e,t){return e&&e.length?So(e,xi(t,3),!0):[]}function ha(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Vi(e,t,n)&&(n=0,r=o),Qn(e,t,n,r)):[]}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:As(n);return o<0&&(o=Yu(r+o,0)),k(e,xi(t,3),o)}function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==oe&&(o=As(n),o=n<0?Yu(r+o,0):Ku(o,r-1)),k(e,xi(t,3),o,!0)}function ma(e){return(null==e?0:e.length)?tr(e,1):[]}function va(e){return(null==e?0:e.length)?tr(e,Re):[]}function _a(e,t){return(null==e?0:e.length)?(t=t===oe?1:As(t),tr(e,t)):[]}function ba(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Sa(e){return e&&e.length?e[0]:oe}function Ca(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:As(n);return o<0&&(o=Yu(r+o,0)),w(e,t,o)}function ka(e){return(null==e?0:e.length)?uo(e,0,-1):[]}function wa(e,t){return null==e?"":Ju.call(e,t)}function xa(e){var t=null==e?0:e.length;return t?e[t-1]:oe}function Aa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==oe&&(o=As(n),o=o<0?Yu(r+o,0):Ku(o,r-1)),t===t?Z(e,t,o):k(e,A,o,!0)}function Pa(e,t){return e&&e.length?Yr(e,As(t)):oe}function ja(e,t){return e&&e.length&&t&&t.length?eo(e,t):e}function Ta(e,t,n){return e&&e.length&&t&&t.length?eo(e,t,xi(n,2)):e}function Ea(e,t,n){return e&&e.length&&t&&t.length?eo(e,t,oe,n):e}function Ia(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=xi(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return to(e,o),n}function Oa(e){return null==e?e:ep.call(e)}function Ma(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Vi(e,t,n)?(t=0,n=r):(t=null==t?0:As(t),n=n===oe?r:As(n)),uo(e,t,n)):[]}function Ra(e,t){return fo(e,t)}function Fa(e,t,n){return ho(e,t,xi(n,2))}function Ba(e,t){var n=null==e?0:e.length;if(n){var r=fo(e,t);if(r<n&&Yc(e[r],t))return r}return-1}function Da(e,t){return fo(e,t,!0)}function Na(e,t,n){return ho(e,t,xi(n,2),!0)}function Va(e,t){if(null==e?0:e.length){var n=fo(e,t,!0)-1;if(Yc(e[n],t))return n}return-1}function La(e){return e&&e.length?yo(e):[]}function Wa(e,t){return e&&e.length?yo(e,xi(t,2)):[]}function za(e){var t=null==e?0:e.length;return t?uo(e,1,t):[]}function Ga(e,t,n){return e&&e.length?(t=n||t===oe?1:As(t),uo(e,0,t<0?0:t)):[]}function Ua(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===oe?1:As(t),t=r-t,uo(e,t<0?0:t,r)):[]}function Ha(e,t){return e&&e.length?So(e,xi(t,3),!1,!0):[]}function qa(e,t){return e&&e.length?So(e,xi(t,3)):[]}function Ja(e){return e&&e.length?vo(e):[]}function $a(e,t){return e&&e.length?vo(e,xi(t,2)):[]}function Ya(e,t){return t="function"==typeof t?t:oe,e&&e.length?vo(e,oe,t):[]}function Ka(e){if(!e||!e.length)return[];var t=0;return e=f(e,function(e){if(Xc(e))return t=Yu(e.length,t),!0}),M(t,function(t){return y(e,j(t))})}function Xa(e,t){if(!e||!e.length)return[];var n=Ka(e);return null==t?n:y(n,function(e){return c(t,oe,e)})}function Za(e,t){return wo(e||[],t||[],On)}function Qa(e,t){return wo(e||[],t||[],so)}function ec(e){var t=n(e);return t.__chain__=!0,t}function tc(e,t){return t(e),e}function nc(e,t){return t(e)}function rc(){return ec(this)}function oc(){return new o(this.value(),this.__chain__)}function ic(){this.__values__===oe&&(this.__values__=ws(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?oe:this.__values__[this.__index__++]}}function ac(){return this}function cc(e){for(var t,n=this;n instanceof r;){var o=aa(n);o.__index__=0,o.__values__=oe,t?i.__wrapped__=o:t=o;var i=o;n=n.__wrapped__}return i.__wrapped__=e,t}function sc(){var e=this.__wrapped__;if(e instanceof b){var t=e;return this.__actions__.length&&(t=new b(this)),t=t.reverse(),t.__actions__.push({func:nc,args:[Oa],thisArg:oe}),new o(t,this.__chain__)}return this.thru(Oa)}function lc(){return Co(this.__wrapped__,this.__actions__)}function uc(e,t,n){var r=Sf(e)?p:Jn;return n&&Vi(e,t,n)&&(t=oe),r(e,xi(t,3))}function pc(e,t){return(Sf(e)?f:er)(e,xi(t,3))}function fc(e,t){return tr(vc(e,t),1)}function dc(e,t){return tr(vc(e,t),Re)}function hc(e,t,n){return n=n===oe?1:As(n),tr(vc(e,t),n)}function yc(e,t){return(Sf(e)?l:vp)(e,xi(t,3))}function gc(e,t){return(Sf(e)?u:_p)(e,xi(t,3))}function mc(e,t,n,r){e=Kc(e)?e:rl(e),n=n&&!r?As(n):0;var o=e.length;return n<0&&(n=Yu(o+n,0)),_s(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&w(e,t,n)>-1}function vc(e,t){return(Sf(e)?y:Ur)(e,xi(t,3))}function _c(e,t,n,r){return null==e?[]:(Sf(t)||(t=null==t?[]:[t]),n=r?oe:n,Sf(n)||(n=null==n?[]:[n]),Kr(e,t,n))}function bc(e,t,n){var r=Sf(e)?m:E,o=arguments.length<3;return r(e,xi(t,4),n,o,vp)}function Sc(e,t,n){var r=Sf(e)?v:E,o=arguments.length<3;return r(e,xi(t,4),n,o,_p)}function Cc(e,t){return(Sf(e)?f:er)(e,Bc(xi(t,3)))}function kc(e){return(Sf(e)?jn:ao)(e)}function wc(e,t,n){return t=(n?Vi(e,t,n):t===oe)?1:As(t),(Sf(e)?Tn:co)(e,t)}function xc(e){return(Sf(e)?En:lo)(e)}function Ac(e){if(null==e)return 0;if(Kc(e))return _s(e)?Q(e):e.length;var t=Ep(e);return t==Xe||t==ot?e.size:Wr(e).length}function Pc(e,t,n){var r=Sf(e)?_:po;return n&&Vi(e,t,n)&&(t=oe),r(e,xi(t,3))}function jc(e,t){if("function"!=typeof t)throw new hu(se);return e=As(e),function(){if(--e<1)return t.apply(this,arguments)}}function Tc(e,t,n){return t=n?oe:t,t=e&&null==t?e.length:t,di(e,we,oe,oe,oe,oe,t)}function Ec(e,t){var n;if("function"!=typeof t)throw new hu(se);return e=As(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=oe),n}}function Ic(e,t,n){t=n?oe:t;var r=di(e,be,oe,oe,oe,oe,oe,t);return r.placeholder=Ic.placeholder,r}function Oc(e,t,n){t=n?oe:t;var r=di(e,Se,oe,oe,oe,oe,oe,t);return r.placeholder=Oc.placeholder,r}function Mc(e,t,n){function r(t){var n=f,r=d;return f=d=oe,v=t,y=e.apply(r,n)}function o(e){return v=e,g=Mp(c,t),_?r(e):y}function i(e){var n=e-m,r=e-v,o=t-n;return b?Ku(o,h-r):o}function a(e){var n=e-m,r=e-v;return m===oe||n>=t||n<0||b&&r>=h}function c(){var e=lf();if(a(e))return s(e);g=Mp(c,i(e))}function s(e){return g=oe,S&&f?r(e):(f=d=oe,y)}function l(){g!==oe&&xp(g),v=0,f=m=d=g=oe}function u(){return g===oe?y:s(lf())}function p(){var e=lf(),n=a(e);if(f=arguments,d=this,m=e,n){if(g===oe)return o(m);if(b)return g=Mp(c,t),r(m)}return g===oe&&(g=Mp(c,t)),y}var f,d,h,y,g,m,v=0,_=!1,b=!1,S=!0;if("function"!=typeof e)throw new hu(se);return t=js(t)||0,ss(n)&&(_=!!n.leading,b="maxWait"in n,h=b?Yu(js(n.maxWait)||0,t):h,S="trailing"in n?!!n.trailing:S),p.cancel=l,p.flush=u,p}function Rc(e){return di(e,Ae)}function Fc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new hu(se);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Fc.Cache||fn),n}function Bc(e){if("function"!=typeof e)throw new hu(se);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Dc(e){return Ec(2,e)}function Nc(e,t){if("function"!=typeof e)throw new hu(se);return t=t===oe?t:As(t),io(e,t)}function Vc(e,t){if("function"!=typeof e)throw new hu(se);return t=null==t?0:Yu(As(t),0),io(function(n){var r=n[t],o=jo(n,0,t);return r&&g(o,r),c(e,this,o)})}function Lc(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new hu(se);return ss(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Mc(e,t,{leading:r,maxWait:t,trailing:o})}function Wc(e){return Tc(e,1)}function zc(e,t){return yf(Ao(t),e)}function Gc(){if(!arguments.length)return[];var e=arguments[0];return Sf(e)?e:[e]}function Uc(e){return Ln(e,he)}function Hc(e,t){return t="function"==typeof t?t:oe,Ln(e,he,t)}function qc(e){return Ln(e,fe|he)}function Jc(e,t){return t="function"==typeof t?t:oe,Ln(e,fe|he,t)}function $c(e,t){return null==t||zn(e,t,Us(t))}function Yc(e,t){return e===t||e!==e&&t!==t}function Kc(e){return null!=e&&cs(e.length)&&!is(e)}function Xc(e){return ls(e)&&Kc(e)}function Zc(e){return e===!0||e===!1||ls(e)&&pr(e)==He}function Qc(e){return ls(e)&&1===e.nodeType&&!ms(e)}function es(e){if(null==e)return!0;if(Kc(e)&&(Sf(e)||"string"==typeof e||"function"==typeof e.splice||kf(e)||jf(e)||bf(e)))return!e.length;var t=Ep(e);if(t==Xe||t==ot)return!e.size;if(Ui(e))return!Wr(e).length;for(var n in e)if(bu.call(e,n))return!1;return!0}function ts(e,t){return Or(e,t)}function ns(e,t,n){n="function"==typeof n?n:oe;var r=n?n(e,t):oe;return r===oe?Or(e,t,oe,n):!!r}function rs(e){if(!ls(e))return!1;var t=pr(e);return t==$e||t==Je||"string"==typeof e.message&&"string"==typeof e.name&&!ms(e)}function os(e){return"number"==typeof e&&qu(e)}function is(e){if(!ss(e))return!1;var t=pr(e);return t==Ye||t==Ke||t==Ue||t==nt}function as(e){return"number"==typeof e&&e==As(e)}function cs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Fe}function ss(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ls(e){return null!=e&&"object"==typeof e}function us(e,t){return e===t||Fr(e,t,Pi(t))}function ps(e,t,n){return n="function"==typeof n?n:oe,Fr(e,t,Pi(t),n)}function fs(e){return gs(e)&&e!=+e}function ds(e){if(Ip(e))throw new su(ce);return Br(e)}function hs(e){return null===e}function ys(e){return null==e}function gs(e){return"number"==typeof e||ls(e)&&pr(e)==Ze}function ms(e){if(!ls(e)||pr(e)!=et)return!1;var t=Iu(e);if(null===t)return!0;var n=bu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_u.call(n)==wu}function vs(e){return as(e)&&e>=-Fe&&e<=Fe}function _s(e){return"string"==typeof e||!Sf(e)&&ls(e)&&pr(e)==it}function bs(e){return"symbol"==typeof e||ls(e)&&pr(e)==at}function Ss(e){return e===oe}function Cs(e){return ls(e)&&Ep(e)==st}function ks(e){return ls(e)&&pr(e)==lt}function ws(e){if(!e)return[];if(Kc(e))return _s(e)?ee(e):Wo(e);if(Bu&&e[Bu])return H(e[Bu]());var t=Ep(e);return(t==Xe?q:t==ot?Y:rl)(e)}function xs(e){if(!e)return 0===e?e:0;if((e=js(e))===Re||e===-Re){return(e<0?-1:1)*Be}return e===e?e:0}function As(e){var t=xs(e),n=t%1;return t===t?n?t-n:t:0}function Ps(e){return e?Vn(As(e),0,Ne):0}function js(e){if("number"==typeof e)return e;if(bs(e))return De;if(ss(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ss(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Dt,"");var n=$t.test(e);return n||Kt.test(e)?or(e.slice(2),n?2:8):Jt.test(e)?De:+e}function Ts(e){return zo(e,Hs(e))}function Es(e){return e?Vn(As(e),-Fe,Fe):0===e?e:0}function Is(e){return null==e?"":mo(e)}function Os(e,t){var n=mp(e);return null==t?n:Fn(n,t)}function Ms(e,t){return C(e,xi(t,3),nr)}function Rs(e,t){return C(e,xi(t,3),ir)}function Fs(e,t){return null==e?e:bp(e,xi(t,3),Hs)}function Bs(e,t){return null==e?e:Sp(e,xi(t,3),Hs)}function Ds(e,t){return e&&nr(e,xi(t,3))}function Ns(e,t){return e&&ir(e,xi(t,3))}function Vs(e){return null==e?[]:ar(e,Us(e))}function Ls(e){return null==e?[]:ar(e,Hs(e))}function Ws(e,t,n){var r=null==e?oe:sr(e,t);return r===oe?n:r}function zs(e,t){return null!=e&&Oi(e,t,_r)}function Gs(e,t){return null!=e&&Oi(e,t,kr)}function Us(e){return Kc(e)?Pn(e):Wr(e)}function Hs(e){return Kc(e)?Pn(e,!0):zr(e)}function qs(e,t){var n={};return t=xi(t,3),nr(e,function(e,r,o){Dn(n,t(e,r,o),e)}),n}function Js(e,t){var n={};return t=xi(t,3),nr(e,function(e,r,o){Dn(n,r,t(e,r,o))}),n}function $s(e,t){return Ys(e,Bc(xi(t)))}function Ys(e,t){if(null==e)return{};var n=y(Ci(e),function(e){return[e]});return t=xi(t),Zr(e,n,function(e,n){return t(e,n[0])})}function Ks(e,t,n){t=Po(t,e);var r=-1,o=t.length;for(o||(o=1,e=oe);++r<o;){var i=null==e?oe:e[ra(t[r])];i===oe&&(r=o,i=n),e=is(i)?i.call(e):i}return e}function Xs(e,t,n){return null==e?e:so(e,t,n)}function Zs(e,t,n,r){return r="function"==typeof r?r:oe,null==e?e:so(e,t,n,r)}function Qs(e,t,n){var r=Sf(e),o=r||kf(e)||jf(e);if(t=xi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ss(e)&&is(i)?mp(Iu(e)):{}}return(o?l:nr)(e,function(e,r,o){return t(n,e,r,o)}),n}function el(e,t){return null==e||_o(e,t)}function tl(e,t,n){return null==e?e:bo(e,t,Ao(n))}function nl(e,t,n,r){return r="function"==typeof r?r:oe,null==e?e:bo(e,t,Ao(n),r)}function rl(e){return null==e?[]:B(e,Us(e))}function ol(e){return null==e?[]:B(e,Hs(e))}function il(e,t,n){return n===oe&&(n=t,t=oe),n!==oe&&(n=js(n),n=n===n?n:0),t!==oe&&(t=js(t),t=t===t?t:0),Vn(js(e),t,n)}function al(e,t,n){return t=xs(t),n===oe?(n=t,t=0):n=xs(n),e=js(e),xr(e,t,n)}function cl(e,t,n){if(n&&"boolean"!=typeof n&&Vi(e,t,n)&&(t=n=oe),n===oe&&("boolean"==typeof t?(n=t,t=oe):"boolean"==typeof e&&(n=e,e=oe)),e===oe&&t===oe?(e=0,t=1):(e=xs(e),t===oe?(t=e,e=0):t=xs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Qu();return Ku(e+o*(t-e+rr("1e-"+((o+"").length-1))),t)}return no(e,t)}function sl(e){return ed(Is(e).toLowerCase())}function ll(e){return(e=Is(e))&&e.replace(Zt,br).replace(Un,"")}function ul(e,t,n){e=Is(e),t=mo(t);var r=e.length;n=n===oe?r:Vn(As(n),0,r);var o=n;return(n-=t.length)>=0&&e.slice(n,o)==t}function pl(e){return e=Is(e),e&&Pt.test(e)?e.replace(xt,Sr):e}function fl(e){return e=Is(e),e&&Bt.test(e)?e.replace(Ft,"\\$&"):e}function dl(e,t,n){e=Is(e),t=As(t);var r=t?Q(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return ai(Gu(o),n)+e+ai(zu(o),n)}function hl(e,t,n){e=Is(e),t=As(t);var r=t?Q(e):0;return t&&r<t?e+ai(t-r,n):e}function yl(e,t,n){e=Is(e),t=As(t);var r=t?Q(e):0;return t&&r<t?ai(t-r,n)+e:e}function gl(e,t,n){return n||null==t?t=0:t&&(t=+t),Zu(Is(e).replace(Nt,""),t||0)}function ml(e,t,n){return t=(n?Vi(e,t,n):t===oe)?1:As(t),oo(Is(e),t)}function vl(){var e=arguments,t=Is(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function _l(e,t,n){return n&&"number"!=typeof n&&Vi(e,t,n)&&(t=n=oe),(n=n===oe?Ne:n>>>0)?(e=Is(e),e&&("string"==typeof t||null!=t&&!Af(t))&&!(t=mo(t))&&G(e)?jo(ee(e),0,n):e.split(t,n)):[]}function bl(e,t,n){return e=Is(e),n=null==n?0:Vn(As(n),0,e.length),t=mo(t),e.slice(n,n+t.length)==t}function Sl(e,t,r){var o=n.templateSettings;r&&Vi(e,t,r)&&(t=oe),e=Is(e),t=Mf({},t,o,hi);var i,a,c=Mf({},t.imports,o.imports,hi),s=Us(c),l=B(c,s),u=0,p=t.interpolate||Qt,f="__p += '",d=fu((t.escape||Qt).source+"|"+p.source+"|"+(p===Et?Ht:Qt).source+"|"+(t.evaluate||Qt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Kn+"]")+"\n";e.replace(d,function(t,n,r,o,c,s){return r||(r=o),f+=e.slice(u,s).replace(en,W),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),c&&(a=!0,f+="';\n"+c+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),f+="';\n";var y=t.variable;y||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(St,""):f).replace(Ct,"$1").replace(kt,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=td(function(){return lu(s,h+"return "+f).apply(oe,l)});if(g.source=f,rs(g))throw g;return g}function Cl(e){return Is(e).toLowerCase()}function kl(e){return Is(e).toUpperCase()}function wl(e,t,n){if((e=Is(e))&&(n||t===oe))return e.replace(Dt,"");if(!e||!(t=mo(t)))return e;var r=ee(e),o=ee(t);return jo(r,N(r,o),V(r,o)+1).join("")}function xl(e,t,n){if((e=Is(e))&&(n||t===oe))return e.replace(Vt,"");if(!e||!(t=mo(t)))return e;var r=ee(e);return jo(r,0,V(r,ee(t))+1).join("")}function Al(e,t,n){if((e=Is(e))&&(n||t===oe))return e.replace(Nt,"");if(!e||!(t=mo(t)))return e;var r=ee(e);return jo(r,N(r,ee(t))).join("")}function Pl(e,t){var n=Pe,r=je;if(ss(t)){var o="separator"in t?t.separator:o;n="length"in t?As(t.length):n,r="omission"in t?mo(t.omission):r}e=Is(e);var i=e.length;if(G(e)){var a=ee(e);i=a.length}if(n>=i)return e;var c=n-Q(r);if(c<1)return r;var s=a?jo(a,0,c).join(""):e.slice(0,c);if(o===oe)return s+r;if(a&&(c+=s.length-c),Af(o)){if(e.slice(c).search(o)){var l,u=s;for(o.global||(o=fu(o.source,Is(qt.exec(o))+"g")),o.lastIndex=0;l=o.exec(u);)var p=l.index;s=s.slice(0,p===oe?c:p)}}else if(e.indexOf(mo(o),c)!=c){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+r}function jl(e){return e=Is(e),e&&At.test(e)?e.replace(wt,Cr):e}function Tl(e,t,n){return e=Is(e),t=n?oe:t,t===oe?U(e)?re(e):S(e):e.match(t)||[]}function El(e){var t=null==e?0:e.length,n=xi();return e=t?y(e,function(e){if("function"!=typeof e[1])throw new hu(se);return[n(e[0]),e[1]]}):[],io(function(n){for(var r=-1;++r<t;){var o=e[r];if(c(o[0],this,n))return c(o[1],this,n)}})}function Il(e){return Wn(Ln(e,fe))}function Ol(e){return function(){return e}}function Ml(e,t){return null==e||e!==e?t:e}function Rl(e){return e}function Fl(e){return Lr("function"==typeof e?e:Ln(e,fe))}function Bl(e){return Hr(Ln(e,fe))}function Dl(e,t){return qr(e,Ln(t,fe))}function Nl(e,t,n){var r=Us(t),o=ar(t,r);null!=n||ss(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=ar(t,Us(t)));var i=!(ss(n)&&"chain"in n&&!n.chain),a=is(e);return l(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Wo(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,g([this.value()],arguments))})}),e}function Vl(){return cr._===this&&(cr._=xu),this}function Ll(){}function Wl(e){return e=As(e),io(function(t){return Yr(t,e)})}function zl(e){return Li(e)?j(ra(e)):Qr(e)}function Gl(e){return function(t){return null==e?oe:sr(e,t)}}function Ul(){return[]}function Hl(){return!1}function ql(){return{}}function Jl(){return""}function $l(){return!0}function Yl(e,t){if((e=As(e))<1||e>Fe)return[];var n=Ne,r=Ku(e,Ne);t=xi(t),e-=Ne;for(var o=M(r,t);++n<e;)t(n);return o}function Kl(e){return Sf(e)?y(e,ra):bs(e)?[e]:Wo(Fp(Is(e)))}function Xl(e){var t=++Su;return Is(e)+t}function Zl(e){return e&&e.length?$n(e,Rl,fr):oe}function Ql(e,t){return e&&e.length?$n(e,xi(t,2),fr):oe}function eu(e){return P(e,Rl)}function tu(e,t){return P(e,xi(t,2))}function nu(e){return e&&e.length?$n(e,Rl,Gr):oe}function ru(e,t){return e&&e.length?$n(e,xi(t,2),Gr):oe}function ou(e){return e&&e.length?O(e,Rl):0}function iu(e,t){return e&&e.length?O(e,xi(t,2)):0}t=null==t?cr:wr.defaults(cr.Object(),t,wr.pick(cr,Yn));var au=t.Array,cu=t.Date,su=t.Error,lu=t.Function,uu=t.Math,pu=t.Object,fu=t.RegExp,du=t.String,hu=t.TypeError,yu=au.prototype,gu=lu.prototype,mu=pu.prototype,vu=t["__core-js_shared__"],_u=gu.toString,bu=mu.hasOwnProperty,Su=0,Cu=function(){var e=/[^.]+$/.exec(vu&&vu.keys&&vu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ku=mu.toString,wu=_u.call(pu),xu=cr._,Au=fu("^"+_u.call(bu).replace(Ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pu=ur?t.Buffer:oe,ju=t.Symbol,Tu=t.Uint8Array,Eu=Pu?Pu.allocUnsafe:oe,Iu=J(pu.getPrototypeOf,pu),Ou=pu.create,Mu=mu.propertyIsEnumerable,Ru=yu.splice,Fu=ju?ju.isConcatSpreadable:oe,Bu=ju?ju.iterator:oe,Du=ju?ju.toStringTag:oe,Nu=function(){try{var e=ji(pu,"defineProperty");return e({},"",{}),e}catch(e){}}(),Vu=t.clearTimeout!==cr.clearTimeout&&t.clearTimeout,Lu=cu&&cu.now!==cr.Date.now&&cu.now,Wu=t.setTimeout!==cr.setTimeout&&t.setTimeout,zu=uu.ceil,Gu=uu.floor,Uu=pu.getOwnPropertySymbols,Hu=Pu?Pu.isBuffer:oe,qu=t.isFinite,Ju=yu.join,$u=J(pu.keys,pu),Yu=uu.max,Ku=uu.min,Xu=cu.now,Zu=t.parseInt,Qu=uu.random,ep=yu.reverse,tp=ji(t,"DataView"),np=ji(t,"Map"),rp=ji(t,"Promise"),op=ji(t,"Set"),ip=ji(t,"WeakMap"),ap=ji(pu,"create"),cp=ip&&new ip,sp={},lp=oa(tp),up=oa(np),pp=oa(rp),fp=oa(op),dp=oa(ip),hp=ju?ju.prototype:oe,yp=hp?hp.valueOf:oe,gp=hp?hp.toString:oe,mp=function(){function e(){}return function(t){if(!ss(t))return{};if(Ou)return Ou(t);e.prototype=t;var n=new e;return e.prototype=oe,n}}();n.templateSettings={escape:jt,evaluate:Tt,interpolate:Et,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,o.prototype=mp(r.prototype),o.prototype.constructor=o,b.prototype=mp(r.prototype),b.prototype.constructor=b,ne.prototype.clear=Gt,ne.prototype.delete=tn,ne.prototype.get=nn,ne.prototype.has=rn,ne.prototype.set=on,an.prototype.clear=cn,an.prototype.delete=sn,an.prototype.get=ln,an.prototype.has=un,an.prototype.set=pn,fn.prototype.clear=dn,fn.prototype.delete=hn,fn.prototype.get=yn,fn.prototype.has=gn,fn.prototype.set=mn,vn.prototype.add=vn.prototype.push=_n,vn.prototype.has=bn,Sn.prototype.clear=Cn,Sn.prototype.delete=kn,Sn.prototype.get=wn,Sn.prototype.has=xn,Sn.prototype.set=An;var vp=Jo(nr),_p=Jo(ir,!0),bp=$o(),Sp=$o(!0),Cp=cp?function(e,t){return cp.set(e,t),e}:Rl,kp=Nu?function(e,t){return Nu(e,"toString",{configurable:!0,enumerable:!1,value:Ol(t),writable:!0})}:Rl,wp=io,xp=Vu||function(e){return cr.clearTimeout(e)},Ap=op&&1/Y(new op([,-0]))[1]==Re?function(e){return new op(e)}:Ll,Pp=cp?function(e){return cp.get(e)}:Ll,jp=Uu?function(e){return null==e?[]:(e=pu(e),f(Uu(e),function(t){return Mu.call(e,t)}))}:Ul,Tp=Uu?function(e){for(var t=[];e;)g(t,jp(e)),e=Iu(e);return t}:Ul,Ep=pr;(tp&&Ep(new tp(new ArrayBuffer(1)))!=pt||np&&Ep(new np)!=Xe||rp&&Ep(rp.resolve())!=tt||op&&Ep(new op)!=ot||ip&&Ep(new ip)!=st)&&(Ep=function(e){var t=pr(e),n=t==et?e.constructor:oe,r=n?oa(n):"";if(r)switch(r){case lp:return pt;case up:return Xe;case pp:return tt;case fp:return ot;case dp:return st}return t});var Ip=vu?is:Hl,Op=ta(Cp),Mp=Wu||function(e,t){return cr.setTimeout(e,t)},Rp=ta(kp),Fp=Ji(function(e){var t=[];return Mt.test(e)&&t.push(""),e.replace(Rt,function(e,n,r,o){t.push(r?o.replace(Ut,"$1"):n||e)}),t}),Bp=io(function(e,t){return Xc(e)?qn(e,tr(t,1,Xc,!0)):[]}),Dp=io(function(e,t){var n=xa(t);return Xc(n)&&(n=oe),Xc(e)?qn(e,tr(t,1,Xc,!0),xi(n,2)):[]}),Np=io(function(e,t){var n=xa(t);return Xc(n)&&(n=oe),Xc(e)?qn(e,tr(t,1,Xc,!0),oe,n):[]}),Vp=io(function(e){var t=y(e,xo);return t.length&&t[0]===e[0]?Ar(t):[]}),Lp=io(function(e){var t=xa(e),n=y(e,xo);return t===xa(n)?t=oe:n.pop(),n.length&&n[0]===e[0]?Ar(n,xi(t,2)):[]}),Wp=io(function(e){var t=xa(e),n=y(e,xo);return t="function"==typeof t?t:oe,t&&n.pop(),n.length&&n[0]===e[0]?Ar(n,oe,t):[]}),zp=io(ja),Gp=bi(function(e,t){var n=null==e?0:e.length,r=Nn(e,t);return to(e,y(t,function(e){return Ni(e,n)?+e:e}).sort(Do)),r}),Up=io(function(e){return vo(tr(e,1,Xc,!0))}),Hp=io(function(e){var t=xa(e);return Xc(t)&&(t=oe),vo(tr(e,1,Xc,!0),xi(t,2))}),qp=io(function(e){var t=xa(e);return t="function"==typeof t?t:oe,vo(tr(e,1,Xc,!0),oe,t)}),Jp=io(function(e,t){return Xc(e)?qn(e,t):[]}),$p=io(function(e){return ko(f(e,Xc))}),Yp=io(function(e){var t=xa(e);return Xc(t)&&(t=oe),ko(f(e,Xc),xi(t,2))}),Kp=io(function(e){var t=xa(e);return t="function"==typeof t?t:oe,ko(f(e,Xc),oe,t)}),Xp=io(Ka),Zp=io(function(e){var t=e.length,n=t>1?e[t-1]:oe;return n="function"==typeof n?(e.pop(),n):oe,Xa(e,n)}),Qp=bi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Nn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof b&&Ni(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:nc,args:[i],thisArg:oe}),new o(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(oe),e})):this.thru(i)}),ef=Ho(function(e,t,n){bu.call(e,n)?++e[n]:Dn(e,n,1)}),tf=ei(ya),nf=ei(ga),rf=Ho(function(e,t,n){bu.call(e,n)?e[n].push(t):Dn(e,n,[t])}),of=io(function(e,t,n){var r=-1,o="function"==typeof t,i=Kc(e)?au(e.length):[];return vp(e,function(e){i[++r]=o?c(t,e,n):jr(e,t,n)}),i}),af=Ho(function(e,t,n){Dn(e,n,t)}),cf=Ho(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),sf=io(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vi(e,t[0],t[1])?t=[]:n>2&&Vi(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,tr(t,1),[])}),lf=Lu||function(){return cr.Date.now()},uf=io(function(e,t,n){var r=me;if(n.length){var o=$(n,wi(uf));r|=Ce}return di(e,r,t,n,o)}),pf=io(function(e,t,n){var r=me|ve;if(n.length){var o=$(n,wi(pf));r|=Ce}return di(t,r,e,n,o)}),ff=io(function(e,t){return Hn(e,1,t)}),df=io(function(e,t,n){return Hn(e,js(t)||0,n)});Fc.Cache=fn;var hf=wp(function(e,t){t=1==t.length&&Sf(t[0])?y(t[0],F(xi())):y(tr(t,1),F(xi()));var n=t.length;return io(function(r){for(var o=-1,i=Ku(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return c(e,this,r)})}),yf=io(function(e,t){return di(e,Ce,oe,t,$(t,wi(yf)))}),gf=io(function(e,t){return di(e,ke,oe,t,$(t,wi(gf)))}),mf=bi(function(e,t){return di(e,xe,oe,oe,oe,t)}),vf=li(fr),_f=li(function(e,t){return e>=t}),bf=Tr(function(){return arguments}())?Tr:function(e){return ls(e)&&bu.call(e,"callee")&&!Mu.call(e,"callee")},Sf=au.isArray,Cf=dr?F(dr):Er,kf=Hu||Hl,wf=hr?F(hr):Ir,xf=yr?F(yr):Rr,Af=gr?F(gr):Dr,Pf=mr?F(mr):Nr,jf=vr?F(vr):Vr,Tf=li(Gr),Ef=li(function(e,t){return e<=t}),If=qo(function(e,t){if(Ui(t)||Kc(t))return void zo(t,Us(t),e);for(var n in t)bu.call(t,n)&&On(e,n,t[n])}),Of=qo(function(e,t){zo(t,Hs(t),e)}),Mf=qo(function(e,t,n,r){zo(t,Hs(t),e,r)}),Rf=qo(function(e,t,n,r){zo(t,Us(t),e,r)}),Ff=bi(Nn),Bf=io(function(e){return e.push(oe,hi),c(Mf,oe,e)}),Df=io(function(e){return e.push(oe,yi),c(zf,oe,e)}),Nf=ri(function(e,t,n){e[t]=n},Ol(Rl)),Vf=ri(function(e,t,n){bu.call(e,t)?e[t].push(n):e[t]=[n]},xi),Lf=io(jr),Wf=qo(function(e,t,n){Jr(e,t,n)}),zf=qo(function(e,t,n,r){Jr(e,t,n,r)}),Gf=bi(function(e,t){var n={};if(null==e)return n;var r=!1;t=y(t,function(t){return t=Po(t,e),r||(r=t.length>1),t}),zo(e,Ci(e),n),r&&(n=Ln(n,fe|de|he,gi));for(var o=t.length;o--;)_o(n,t[o]);return n}),Uf=bi(function(e,t){return null==e?{}:Xr(e,t)}),Hf=fi(Us),qf=fi(Hs),Jf=Xo(function(e,t,n){return t=t.toLowerCase(),e+(n?sl(t):t)}),$f=Xo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Yf=Xo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Kf=Ko("toLowerCase"),Xf=Xo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zf=Xo(function(e,t,n){return e+(n?" ":"")+ed(t)}),Qf=Xo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ed=Ko("toUpperCase"),td=io(function(e,t){try{return c(e,oe,t)}catch(e){return rs(e)?e:new su(e)}}),nd=bi(function(e,t){return l(t,function(t){t=ra(t),Dn(e,t,uf(e[t],e))}),e}),rd=ti(),od=ti(!0),id=io(function(e,t){return function(n){return jr(n,e,t)}}),ad=io(function(e,t){return function(n){return jr(e,n,t)}}),cd=ii(y),sd=ii(p),ld=ii(_),ud=si(),pd=si(!0),fd=oi(function(e,t){return e+t},0),dd=pi("ceil"),hd=oi(function(e,t){return e/t},1),yd=pi("floor"),gd=oi(function(e,t){return e*t},1),md=pi("round"),vd=oi(function(e,t){return e-t},0);return n.after=jc,n.ary=Tc,n.assign=If,n.assignIn=Of,n.assignInWith=Mf,n.assignWith=Rf,n.at=Ff,n.before=Ec,n.bind=uf,n.bindAll=nd,n.bindKey=pf,n.castArray=Gc,n.chain=ec,n.chunk=ca,n.compact=sa,n.concat=la,n.cond=El,n.conforms=Il,n.constant=Ol,n.countBy=ef,n.create=Os,n.curry=Ic,n.curryRight=Oc,n.debounce=Mc,n.defaults=Bf,n.defaultsDeep=Df,n.defer=ff,n.delay=df,n.difference=Bp,n.differenceBy=Dp,n.differenceWith=Np,n.drop=ua,n.dropRight=pa,n.dropRightWhile=fa,n.dropWhile=da,n.fill=ha,n.filter=pc,n.flatMap=fc,n.flatMapDeep=dc,n.flatMapDepth=hc,n.flatten=ma,n.flattenDeep=va,n.flattenDepth=_a,n.flip=Rc,n.flow=rd,n.flowRight=od,n.fromPairs=ba,n.functions=Vs,n.functionsIn=Ls,n.groupBy=rf,n.initial=ka,n.intersection=Vp,n.intersectionBy=Lp,n.intersectionWith=Wp,n.invert=Nf,n.invertBy=Vf,n.invokeMap=of,n.iteratee=Fl,n.keyBy=af,n.keys=Us,n.keysIn=Hs,n.map=vc,n.mapKeys=qs,n.mapValues=Js,n.matches=Bl,n.matchesProperty=Dl,n.memoize=Fc,n.merge=Wf,n.mergeWith=zf,n.method=id,n.methodOf=ad,n.mixin=Nl,n.negate=Bc,n.nthArg=Wl,n.omit=Gf,n.omitBy=$s,n.once=Dc,n.orderBy=_c,n.over=cd,n.overArgs=hf,n.overEvery=sd,n.overSome=ld,n.partial=yf,n.partialRight=gf,n.partition=cf,n.pick=Uf,n.pickBy=Ys,n.property=zl,n.propertyOf=Gl,n.pull=zp,n.pullAll=ja,n.pullAllBy=Ta,n.pullAllWith=Ea,n.pullAt=Gp,n.range=ud,n.rangeRight=pd,n.rearg=mf,n.reject=Cc,n.remove=Ia,n.rest=Nc,n.reverse=Oa,n.sampleSize=wc,n.set=Xs,n.setWith=Zs,n.shuffle=xc,n.slice=Ma,n.sortBy=sf,n.sortedUniq=La,n.sortedUniqBy=Wa,n.split=_l,n.spread=Vc,n.tail=za,n.take=Ga,n.takeRight=Ua,n.takeRightWhile=Ha,n.takeWhile=qa,n.tap=tc,n.throttle=Lc,n.thru=nc,n.toArray=ws,n.toPairs=Hf,n.toPairsIn=qf,n.toPath=Kl,n.toPlainObject=Ts,n.transform=Qs,n.unary=Wc,n.union=Up,n.unionBy=Hp,n.unionWith=qp,n.uniq=Ja,n.uniqBy=$a,n.uniqWith=Ya,n.unset=el,n.unzip=Ka,n.unzipWith=Xa,n.update=tl,n.updateWith=nl,n.values=rl,n.valuesIn=ol,n.without=Jp,n.words=Tl,n.wrap=zc,n.xor=$p,n.xorBy=Yp,n.xorWith=Kp,n.zip=Xp,n.zipObject=Za,n.zipObjectDeep=Qa,n.zipWith=Zp,n.entries=Hf,n.entriesIn=qf,n.extend=Of,n.extendWith=Mf,Nl(n,n),n.add=fd,n.attempt=td,n.camelCase=Jf,n.capitalize=sl,n.ceil=dd,n.clamp=il,n.clone=Uc,n.cloneDeep=qc,n.cloneDeepWith=Jc,n.cloneWith=Hc,n.conformsTo=$c,n.deburr=ll,n.defaultTo=Ml,n.divide=hd,n.endsWith=ul,n.eq=Yc,n.escape=pl,n.escapeRegExp=fl,n.every=uc,n.find=tf,n.findIndex=ya,n.findKey=Ms,n.findLast=nf,n.findLastIndex=ga,n.findLastKey=Rs,n.floor=yd,n.forEach=yc,n.forEachRight=gc,n.forIn=Fs,n.forInRight=Bs,n.forOwn=Ds,n.forOwnRight=Ns,n.get=Ws,n.gt=vf,n.gte=_f,n.has=zs,n.hasIn=Gs,n.head=Sa,n.identity=Rl,n.includes=mc,n.indexOf=Ca,n.inRange=al,n.invoke=Lf,n.isArguments=bf,n.isArray=Sf,n.isArrayBuffer=Cf,n.isArrayLike=Kc,n.isArrayLikeObject=Xc,n.isBoolean=Zc,n.isBuffer=kf,n.isDate=wf,n.isElement=Qc,n.isEmpty=es,n.isEqual=ts,n.isEqualWith=ns,n.isError=rs,n.isFinite=os,n.isFunction=is,n.isInteger=as,n.isLength=cs,n.isMap=xf,n.isMatch=us,n.isMatchWith=ps,n.isNaN=fs,n.isNative=ds,n.isNil=ys,n.isNull=hs,n.isNumber=gs,n.isObject=ss,n.isObjectLike=ls,n.isPlainObject=ms,n.isRegExp=Af,n.isSafeInteger=vs,n.isSet=Pf,n.isString=_s,n.isSymbol=bs,n.isTypedArray=jf,n.isUndefined=Ss,n.isWeakMap=Cs,n.isWeakSet=ks,n.join=wa,n.kebabCase=$f,n.last=xa,n.lastIndexOf=Aa,n.lowerCase=Yf,n.lowerFirst=Kf,n.lt=Tf,n.lte=Ef,n.max=Zl,n.maxBy=Ql,n.mean=eu,n.meanBy=tu,n.min=nu,n.minBy=ru,n.stubArray=Ul,n.stubFalse=Hl,n.stubObject=ql,n.stubString=Jl,n.stubTrue=$l,n.multiply=gd,n.nth=Pa,n.noConflict=Vl,n.noop=Ll,n.now=lf,n.pad=dl,n.padEnd=hl,n.padStart=yl,n.parseInt=gl,n.random=cl,n.reduce=bc,n.reduceRight=Sc,n.repeat=ml,n.replace=vl,n.result=Ks,n.round=md,n.runInContext=e,n.sample=kc,n.size=Ac,n.snakeCase=Xf,n.some=Pc,n.sortedIndex=Ra,n.sortedIndexBy=Fa,n.sortedIndexOf=Ba,n.sortedLastIndex=Da,n.sortedLastIndexBy=Na,n.sortedLastIndexOf=Va,n.startCase=Zf,n.startsWith=bl,n.subtract=vd,n.sum=ou,n.sumBy=iu,n.template=Sl,n.times=Yl,n.toFinite=xs,n.toInteger=As,n.toLength=Ps,n.toLower=Cl,n.toNumber=js,n.toSafeInteger=Es,n.toString=Is,n.toUpper=kl,n.trim=wl,n.trimEnd=xl,n.trimStart=Al,n.truncate=Pl,n.unescape=jl,n.uniqueId=Xl,n.upperCase=Qf,n.upperFirst=ed,n.each=yc,n.eachRight=gc,n.first=Sa,Nl(n,function(){var e={};return nr(n,function(t,r){bu.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION=ie,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),l(["drop","take"],function(e,t){b.prototype[e]=function(n){n=n===oe?1:Yu(As(n),0);var r=this.__filtered__&&!t?new b(this):this.clone();return r.__filtered__?r.__takeCount__=Ku(n,r.__takeCount__):r.__views__.push({size:Ku(n,Ne),type:e+(r.__dir__<0?"Right":"")}),r},b.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),l(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ie||n==Me;b.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:xi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),l(["head","last"],function(e,t){var n="take"+(t?"Right":"");b.prototype[e]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");b.prototype[e]=function(){return this.__filtered__?new b(this):this[n](1)}}),b.prototype.compact=function(){return this.filter(Rl)},b.prototype.find=function(e){return this.filter(e).head()},b.prototype.findLast=function(e){return this.reverse().find(e)},b.prototype.invokeMap=io(function(e,t){return"function"==typeof e?new b(this):this.map(function(n){return jr(n,e,t)})}),b.prototype.reject=function(e){return this.filter(Bc(xi(e)))},b.prototype.slice=function(e,t){e=As(e);var n=this;return n.__filtered__&&(e>0||t<0)?new b(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==oe&&(t=As(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},b.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},b.prototype.toArray=function(){return this.take(Ne)},nr(b.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=n[i?"take"+("last"==t?"Right":""):t],c=i||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof b,u=s[0],p=l||Sf(t),f=function(e){var t=a.apply(n,g([e],s));return i&&d?t[0]:t};p&&r&&"function"==typeof u&&1!=u.length&&(l=p=!1);var d=this.__chain__,h=!!this.__actions__.length,y=c&&!d,m=l&&!h;if(!c&&p){t=m?t:new b(this);var v=e.apply(t,s);return v.__actions__.push({func:nc,args:[f],thisArg:oe}),new o(v,d)}return y&&m?e.apply(this,s):(v=this.thru(f),y?i?v.value()[0]:v.value():v)})}),l(["pop","push","shift","sort","splice","unshift"],function(e){var t=yu[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(Sf(n)?n:[],e)}return this[r](function(n){return t.apply(Sf(n)?n:[],e)})}}),nr(b.prototype,function(e,t){var r=n[t];if(r){var o=r.name+"";(sp[o]||(sp[o]=[])).push({name:t,func:r})}}),sp[ni(oe,ve).name]=[{name:"wrapper",func:oe}],b.prototype.clone=T,b.prototype.reverse=X,b.prototype.value=te,n.prototype.at=Qp,n.prototype.chain=rc,n.prototype.commit=oc,n.prototype.next=ic,n.prototype.plant=cc,n.prototype.reverse=sc,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=lc,n.prototype.first=n.prototype.head,Bu&&(n.prototype[Bu]=ac),n},wr=kr();cr._=wr,(o=function(){return wr}.call(t,n,t,r))!==oe&&(r.exports=o)}).call(this)}).call(t,n(9),n(235)(e))},156:function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}t=e.exports=n(834),t.log=a,t.formatArgs=i,t.save=c,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(103))},157:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(8),a=function(){function e(){this.cardHoverSubject=new i.Subject}return e.prototype.cardHover=function(e){this.cardHoverSubject.next(e)},e.prototype.onCardHover=function(){return this.cardHoverSubject.asObservable()},e}();a=r([o.Injectable()],a),t.CardImageService=a},158:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(849),l=n(851),u=n(850),p=function(){function e(){}return e}();p=r([o.NgModule({declarations:[s.CardComponent,l.JackMenuComponent],bootstrap:[s.CardComponent],exports:[s.CardComponent,l.JackMenuComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule],providers:[u.CardService]})],p),t.CardModule=p},16:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=n(1),a=function(){function e(){this.player={id:null,name:"Player1"},this.playerState={player:this.player,completed:[],stockpile:[],underConstruction:[],vault:[],clientelles:[],functionAvailable:[],influence:2,maxHandSize:5,maxVault:2,maxClientelles:2,cardsInHand:5,actionCard:null,action:null,additionalActions:[],jackCards:null,loot:[],hasLooted:!1,gloryToRome:!1},this.isPlayersTurn=!1,this.isPlayersLead=!1,this.isFollowing=!1}return e.prototype.getPlayerState=function(){return this.playerState},e.prototype.setPlayerState=function(e){var t=this.getThisPlayer(e);o.extend(this.playerState,t)},e.prototype.updatePlayerState=function(e){var t=this.getThisPlayer(e);o.extend(t,this.playerState)},e.prototype.saveActionCardToPlayerState=function(e){this.playerState.actionCard=e},e.prototype.saveCardsInHand=function(e){this.playerState.cardsInHand=e},e.prototype.getThisPlayer=function(e){var t=this;return o.find(e.playerStates,function(e){return e.player.id==t.player.id})},e}();a=r([i.Injectable()],a),t.PlayerInfoService=a},17:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),c=n(1),s=n(8),l=n(10),u=n(327),p=n(29),f=n(20),d=n(28),h=n(26),y=n(16),g=n(80),m=function(){function e(e,t,n,r,o,i){var c=this;this._cardFactoryService=e,this._gameMechanicsService=t,this._gameService=n,this._playerInfoService=r,this._socketService=o,this._messageService=i,this.handSize=u.handSize,this.cardsToPlayJack=u.cardsToPlayJack,this.handCards=[],this.allExtorted=!1,this.resolvingCard=!1,this.addCards=function(e){a.forEach(e,function(e){c.handCards.push(e)})},this.drawCard=function(e){c.handCards.push(c._cardFactoryService.getCard(e))},this.discardHand=function(){c._messageService.discardMessage(c.handCards),a.forEach(c.handCards,function(e){e.role==l.eWorkerType.jack?c._gameService.addJack():c._gameService.addToPool([e])}),c.handCards=[]},this.getNumCardsInHand=function(){return c.handCards.length},this.getCardsToMax=function(){var e=c._playerInfoService.getPlayerState().maxHandSize-c.getNumCardsInHand();return e<=0?1:e},this.canPlayCardsAsJack=function(){return c.hasCompletedBuilding(l.eCardEffect.circus)?c._hasNumCards(2):c._hasNumCards(3)},this.typesForJack=null,this.jackTypeSelected=null,this.selectCardAsJack=function(e){var t=c._playerInfoService.getPlayerState().jackCards;if(t.push(e),t.length==c.cardsToPlayJack){c._messageService.petitionMessage(t),a.forEach(t,function(e){e.selected=!1,a.remove(c.handCards,e)});var n=c._cardFactoryService.getJack();n.mode=c.jackTypeSelected,c.playCard(n),c.typesForJack=null}},this.deselectCardAsJack=function(e){a.remove(c._playerInfoService.getPlayerState().jackCards,e)},this.canAddToBuilding=function(e){var t=c._gameService.gameState.mode;return!(!c.hasCompletedBuilding(l.eCardEffect.road)||!c.selectedBuilding||c.selectedBuilding.building.role!=l.eWorkerType.merchant)||!(!c.selectedBuilding||t!=l.eWorkerType.craftsman&&t!=l.eWorkerType.architect||c.selectedBuilding.building.role!=e.role)},this.dumpHand=function(){var e=a.remove(c.handCards,function(e){return e.role!=l.eWorkerType.jack});c._gameService.addToPool(e);a.remove(c.handCards,function(e){return c._gameService.addJack(),e.role==l.eWorkerType.jack})},this.actionFinishedSubject=new s.Subject,this.actionFinishTrigger=null,this.actionPerformTrigger=null,this.additionalActionTrigger=null,this.activeActionTrigger=null,this.actionStack=[],this.activeActionItem=null,this.additionalActionTriggered=!1,this.additionalActionPerformed=!1,this.palaceSubject=new s.Subject,this._legionaryTriggerCount=0,this.completedSelectedBuilding=null,this.fountainCard=null,this.buildingCompletedSubject=new s.Subject,this.completionActionSubject=new s.Subject,this.addBuildingSubject=new s.Subject,this.selectedBuilding=null,this.buildingSubject=new s.Subject,this.hoverNewBuildingSubject=new s.Subject,this.hoverAddMaterialSubject=new s.Subject,this.cardIsHoveredAddMaterial=function(e){c.hoverAddMaterialSubject.next(e)},this.notHoverSubject=new s.Subject,this.cardIsNotHovered=function(e){c.notHoverSubject.next(e)},this.latrineSubject=new s.Subject,this.latrineTriggered=function(){c.latrineSubject.next()},this.onLatrineTriggered=function(){return c.latrineSubject.asObservable()},this.foundationCost=function(e){return 0==a.find(c._gameService.gameState.foundations,function(t){return t.foundation.role===e}).inTown?c.hasCompletedBuilding(l.eCardEffect.tower)?1:2:1},this._initListeners()}return e.prototype.setupForCompletion=function(e){var t=this._cardFactoryService.getCard(e),n=[];t.role===l.eWorkerType.architect||t.role===l.eWorkerType.legionary?n=[t]:t.role!==l.eWorkerType.merchant&&t.role!==l.eWorkerType.patron||(n=[t,t]),this._playerInfoService.getPlayerState().underConstruction.push(this._cardFactoryService.createFoundation(t,t.role,n))},e.prototype.setupCompletion=function(e){var t=this._cardFactoryService.getCard(e),n=this._cardFactoryService.createCompletedFoundation(t,this._cardFactoryService.getCardSite(t.role),[]);this._playerInfoService.getPlayerState().completed.push(n)},e.prototype._initListeners=function(){var e=this,t=this._socketService;t.onGameStarted().subscribe(function(t){var n=a.findLastIndex(t.playerOrder,function(t){return t.id==e._playerInfoService.player.id});e.addCards(a.concat(t.startingHand[n],e._cardFactoryService.getJack())),e.configurePlayersTurn(t),e.configurePlayersLead(t.playerLead);e._cardFactoryService.getCard(l.eCardEffect.palisade),e._cardFactoryService.createCard(l.eCardEffect.palisade),e._cardFactoryService.getCard(l.eCardEffect.amphitheatre)}),t.onTurnStarted().subscribe(function(t){e._playerInfoService.isFollowing&&(e._playerInfoService.isFollowing=!1),e.configurePlayersTurn(t),e.configurePlayersLead(t.playerLead)}),t.onTurnEnd().subscribe(function(t){if(e.configurePlayersTurn(t),e._playerInfoService.isPlayersTurn){var n=e.isBuildingCompleted(l.eCardEffect.academy),r=e.isBuildingCompleted(l.eCardEffect.sewer),o=e.isBuildingCompleted(l.eCardEffect.senate);n?e.actionFinishTrigger=l.eCardEffect.academy:r&&e._playerInfoService.getPlayerState().actionCard&&e._playerInfoService.getPlayerState().actionCard.role!=l.eWorkerType.jack?e.actionFinishTrigger=l.eCardEffect.sewer:o&&e._canTakeJacks()?e.actionFinishTrigger=l.eCardEffect.senate:(e._messageService.addLine(),e.turnFinished())}}),t.onExtortMaterial().subscribe(function(t){if(e._playerInfoService.isPlayersTurn){var n=a.filter(t.playerStates,function(t){var n=e._gameService.getPlayerIndex(t);return e.canLegionaryFrom(n,t)&&e._playerInfoService.player.id!==t.player.id});a.every(n,function(e){return e.loot.length>0||e.gloryToRome})&&e._takeFromPool()}}),t.onRomeDemands().subscribe(function(t){var n=e._playerInfoService.getPlayerState(),r=a.some(t.romeDemands,function(t){return e.hasCardTypeInHand(t.role)});e.canLegionaryFrom(e._gameService.getPlayerIndex(n),n)?r||(n.gloryToRome=!0):e.extortMaterial()}),t.onAllPlayersChosen().subscribe(function(){e._gameService.gameState.mode===l.eWorkerType.legionary&&(e._gameService.gameState.legionaryStage=f.eLegionaryStage.declare);var t=e._gameService.gameState.mode;e.hasCompletedBuilding(l.eCardEffect.atrium)&&t==l.eWorkerType.merchant?e.actionPerformTrigger=l.eCardEffect.atrium:e.hasCompletedBuilding(l.eCardEffect.bar)&&t==l.eWorkerType.patron?e.actionPerformTrigger=l.eCardEffect.bar:e.hasCompletedBuilding(l.eCardEffect.stairway)&&t==l.eWorkerType.architect&&(e.actionPerformTrigger=l.eCardEffect.stairway)})},e.prototype.updatePlayerState=function(){this._playerInfoService.saveCardsInHand(this.handCards.length)},e.prototype.removeFromHand=function(e){for(var t=0;t<this.handCards.length;t++)this.handCards[t].uid==e.uid&&(this.handCards.splice(t,1),t--)},e.prototype.drawCards=function(e){var t=this._gameService.drawCards(e);t&&this.addCards(t)},e.prototype.drawCardsFromDeck=function(e){var t=this._gameService.drawCards(e);return null===t&&this._endGame(),t},e.prototype.takeOpponentsJacks=function(){var e=this,t=this._playerInfoService.getPlayerState();a.forEach(this._gameService.gameState.playerStates,function(n){n.actionCard&&n.actionCard.role==l.eWorkerType.jack&&n.player.id!==t.player.id&&(e.handCards.push(n.actionCard),n.actionCard=null)})},e.prototype._canTakeJacks=function(){var e=this._gameService.gameState.playerStates;return a.some(e,function(e){return e.actionCard&&e.actionCard.role==l.eWorkerType.jack})},e.prototype.playCardsAsJack=function(e){this._playerInfoService.getPlayerState().jackCards=[],this.jackTypeSelected=e,this.typesForJack=this.canPlayCardsAsJack()},e.prototype.configurePlayersTurn=function(e){this._playerInfoService.isPlayersTurn=e.playerOrder[e.playerTurn].id==this._playerInfoService.player.id},e.prototype.configurePlayersLead=function(e){this._playerInfoService.isPlayersLead=e.id==this._playerInfoService.player.id},e.prototype.playCard=function(e){this._gameMechanicsService.changeActiveCard(e),this._gameService.gameState.mode=null!=e.mode?e.mode:e.role,a.remove(this.handCards,e),this._playerInfoService.saveActionCardToPlayerState(e),this._playerInfoService.getPlayerState().action=f.eActions.playCard,this.updatePlayerState(),this._gameService.updateGameState(),this.hasCompletedBuilding(l.eCardEffect.palace)&&this._palaceCondition(e)?(this.resolvingCard=!0,this.actionPerformTrigger=l.eCardEffect.palace):(this._playerInfoService.isPlayersTurn=!1,this._playerInfoService.isPlayersLead&&this._messageService.addLeadMessage(e),this._socketService.cardPlayed(e))},e.prototype._hasNumCards=function(e){for(var t={},n=[],r=0;r<this.handCards.length;r++){var o=this.handCards[r].role;t[o]=void 0==t[o]?1:t[o]+1,t[o]==e&&o!=l.eWorkerType.jack&&n.push(o)}return n},e.prototype._gateOnCompleted=function(){var e=this,t=this._playerInfoService.getPlayerState();a.forEach(t.underConstruction,function(n){var r=n.building;r.role==l.eWorkerType.patron&&(t.functionAvailable.push(r),e._resolveCompletedFunction(r))})},e.prototype.resolveNextActionState=function(){0==this.actionStack.length?this.actionFinished():(this.activeActionItem=this.actionStack.pop(),this.resolveActionState())},e.prototype.resolveActionState=function(){if(0===this.activeActionItem.numActions&&0==this.actionStack.length)this.actionFinished();else{var e=this._cardFactoryService.getJack();e.setMode(this.activeActionItem.action),this._gameService.gameState.mode=this.activeActionItem.action,this._playerInfoService.saveActionCardToPlayerState(e)}},e.prototype._createCompletedStackItem=function(e,t,n){return{numActions:e,action:t,cardEffect:n}},e.prototype.thinkCheck=function(){if(this._playerInfoService.getPlayerState().action=f.eActions.think,this.hasClientelleType(this._gameService.gameState.mode)){var e=this._cardFactoryService.getJack();e.setMode(this._gameService.gameState.mode),this._gameMechanicsService.changeActiveCard(e),this._playerInfoService.saveActionCardToPlayerState(e)}},e.prototype.think=function(){var e=this.getCardsToMax(),t=this.drawCardsFromDeck(e);t&&this.addCards(t)},e.prototype.thinkAction=function(){this.activeActionTrigger=null,this.actionPerformTrigger=null,this.actionFinishTrigger=null,this.thinkCheck(),this.think(),this._playerInfoService.isPlayersTurn=!1,this._messageService.addTextMessage("THINKS"),this._gameService.updateGameState(),this._socketService.think()},e.prototype.hasCardTypeInHand=function(e){return!!a.find(this.handCards,function(t){return t.role==e})},e.prototype.actionFinished=function(){this.activeActionTrigger=null,this.actionPerformTrigger=null,this.actionFinishTrigger=null,this.activeActionItem=null,this.additionalActionPerformed=!1,this.actionStack=[],this.selectedBuilding&&(this.selectedBuilding.building.selected=!1,this.selectedBuilding=null),this.updatePlayerState(),this._gameService.updateGameState(),this._playerInfoService.isPlayersTurn=!1,this._socketService.cardPlayed(null)},e.prototype.turnFinished=function(){this.activeActionTrigger=null,this.actionPerformTrigger=null,this.actionFinishTrigger=null,this.activeActionItem=null,this.additionalActionPerformed=!1,this.actionStack=[],this.jackTypeSelected=null,this._gameService.gameState.legionaryStage=null,this.updatePlayerState(),this._gameService.updateGameState(),this._gameMechanicsService.actionEnd(),this._socketService.turnEnd()},e.prototype.inAddition=function(){this.activeActionTrigger=null,this.additionalActionPerformed=!0,this._actionLimit()?this.actionFinished():this.resolveActionState()},e.prototype._hasAdditionalAction=function(){if(this.additionalActionPerformed)return!1;var e=this._gameService.gameState.mode;return e===l.eWorkerType.patron&&this.hasCompletedBuilding(l.eCardEffect.aqueduct)&&this.canAddToClientelles()?(this.resolvingCard=!0,this.additionalActionTrigger=l.eCardEffect.aqueduct,!0):this.hasCompletedBuilding(l.eCardEffect.basilica)&&e===l.eWorkerType.merchant?(this.resolvingCard=!0,this.additionalActionTrigger=l.eCardEffect.basilica,!0):!(!this.hasCompletedBuilding(l.eCardEffect.dock)||e!==l.eWorkerType.laborer)&&(this.resolvingCard=!0,this.additionalActionTrigger=l.eCardEffect.dock,!0)},e.prototype.decrementActions=function(e){if(this.activeActionItem.numActions--,null===this.activeActionItem&&e)this.actionStack.push(e),this.resolveActionStack(),this.completionActionSubject.next(this.activeActionItem);else if(e){var t=this.activeActionItem.numActions,n=this._gameService.gameState.mode;t>0&&e.action!==n?this.actionStack.push({numActions:t,action:n,cardEffect:null}):t>0&&(e.numActions+=t),this.actionStack.push(e),this.resolveActionStack(),this.completionActionSubject.next(this.activeActionItem)}else this._hasAdditionalAction()||(this._actionLimit()?this.resolveNextActionState():this.resolveActionStack());this.actionFinishedSubject.next()},e.prototype.resolveActionStack=function(){if(this.actionStack.length>0){var e=this.actionStack[this.actionStack.length-1];null!==e.cardEffect?(this.actionPerformTrigger=e.cardEffect,this.resolvingCard=!0):this.resolveNextActionState()}else 0==this.activeActionItem.numActions&&this.actionFinished()},e.prototype._actionLimit=function(){var e=this._gameService.gameState.mode,t=this._playerInfoService.getPlayerState();return e===l.eWorkerType.patron&&t.clientelles.length==t.maxClientelles||e===l.eWorkerType.merchant&&(t.vault.length==t.maxVault||this.actionPerformTrigger!==l.eCardEffect.atrium&&(t.stockpile.length,!0))},e.prototype.onActionFinished=function(){return this.actionFinishedSubject.asObservable()},e.prototype.palaceResolved=function(){this.palaceSubject.next()},e.prototype.onPalaceResolved=function(){return this.palaceSubject.asObservable()},e.prototype._palaceCondition=function(e){return this.hasCardTypeInHand(e.role)||this.hasCardTypeInHand(l.eWorkerType.jack)||e.role==l.eWorkerType.jack&&this.hasCardTypeInHand(e.mode)},e.prototype.addAdditionalAction=function(e){a.remove(this.handCards,e);var t=this._playerInfoService.getPlayerState();t.additionalActions.push(e),this._palaceCondition(t.actionCard)||this.actionFinished()},e.prototype.canLegionaryFrom=function(e,t){var n=this._gameService.gameState,r=n.playerTurn,o=n.playerOrder.length,i=n.playerStates[r];return this.hasCompletedBuilding(l.eCardEffect.bridge,i)?!this.hasCompletedBuilding(l.eCardEffect.wall,t):(r-1<0?n.playerOrder.length-1:r-1)%o==e||(r+1)%o==e?!this.hasCompletedBuilding(l.eCardEffect.palisade,t)&&!this.hasCompletedBuilding(l.eCardEffect.wall,t):void 0},e.prototype.romeDemands=function(){a.forEach(this._gameService.gameState.romeDemands,function(e){return e.selected=!1}),this._gameService.updateGameState(),this.hasCompletedBuilding(l.eCardEffect.bridge)?(this.actionPerformTrigger=l.eCardEffect.bridge,this.resolvingCard=!0):this.hasCompletedBuilding(l.eCardEffect.coliseum)?(this.actionPerformTrigger=l.eCardEffect.coliseum,this.resolvingCard=!0):(this._messageService.romeDemandsMessage(this._gameService.gameState.romeDemands),this._socketService.romeDemands())},e.prototype.extortMaterial=function(){var e=this._playerInfoService.getPlayerState();this.updatePlayerState(),this._gameService.updateGameState();var t=this._gameService.gameState.actionTriggers;t.length>0&&this._legionaryTriggerCount<t.length?t[this._legionaryTriggerCount]===l.eCardEffect.bridge?this.hasCardsToLoot(e.stockpile)?(this._legionaryTriggerCount++,this._gameService.gameState.legionaryStage=f.eLegionaryStage.bridge):this._socketService.extortMaterial():t[this._legionaryTriggerCount]===l.eCardEffect.coliseum&&(this.hasCardsToLoot(e.clientelles)&&this.canPutIntoVault()?(this._legionaryTriggerCount++,this._gameService.gameState.legionaryStage=f.eLegionaryStage.coliseum):this._socketService.extortMaterial()):(this._legionaryTriggerCount=0,this._socketService.extortMaterial())},e.prototype._takeFromPool=function(){var e=this._gameService.gameState;a.some(e.pool,function(t){return!!a.find(e.romeDemands,function(e){return e.role===t.role})})?this.allExtorted=!0:this.legionaryFromPool(null)},e.prototype.legionaryFromPool=function(e){var t=a(this._gameService.gameState.playerStates).map(function(e){return e.loot.length>0?e.loot:null}).remove(null).flatten().value();e&&t.push(e);var n=this._playerInfoService.getPlayerState().stockpile;n.push.apply(n,t),this._gameService.gameState.romeDemands=[],this._gameService.gameState.legionaryStage=f.eLegionaryStage.declare,this.allExtorted=!1,this.actionFinished()},e.prototype.addRemoveFromLoot=function(e){var t=this._playerInfoService.getPlayerState();a.find(t.loot,function(t){return t.uid==e.uid})?(e.selected=!1,f.removeFromList(e,t.loot)):(e.selected=!0,t.loot.push(e))},e.prototype.hasCardsToLoot=function(e){var t=this._playerInfoService.getPlayerState(),n=(t.loot,[]);a.forEach(this._gameService.gameState.romeDemands,function(e){n[e.role]=n[e.role]?n[e.role]+1:1});var r=[];a.forEach(e,function(e){e.selected&&(r[e.role]=r[e.role]?r[e.role]+1:1)});var o=[];a.forEach(e,function(e){o[e.role]=o[e.role]?o[e.role]+1:1});for(var i=[],c=0;c<6;c++)if(n[c]){var s=void 0===r[c]?0:r[c];i[c]=s<n[c]&&s<o[c]}else i[c]=!1;return a.some(i)},e.prototype.hasTypeToLoot=function(e,t){return a.sumBy(t,function(t){return e===t.role&&t.selected?1:0})<a.sumBy(this._gameService.gameState.romeDemands,function(t){return e===t.role?1:0})},e.prototype.hasClientelleType=function(e){return!!a.find(this._playerInfoService.getPlayerState().clientelles,function(t){return t.role===e})},e.prototype.coliseumResolved=function(e,t){a.remove(e.clientelles,t),this._playerInfoService.getPlayerState().vault.push(t),this.hasClientsToTakeForColiseum()||this._takeFromPool()},e.prototype.hasClientsToTakeForColiseum=function(){var e=this,t=this._gameService.gameState,n=t.romeDemands;return a.some(t.playerStates,function(t){return a.find(t.clientelles,function(r){return!t.hasLooted&&a.find(n,function(e){return e.role===r.role})&&t.player.id!==e._playerInfoService.getPlayerState().player.id})})},e.prototype._calcMaxClientelles=function(){var e=this._playerInfoService.getPlayerState(),t=e.completed,n=a.find(t,function(e){return e.building.id==l.eCardEffect.insula})?2:0,r=a.find(t,function(e){return e.building.id==l.eCardEffect.aqueduct})?2:1;e.maxClientelles=(e.influence+n)*r},e.prototype.addToClientelles=function(e){return this._playerInfoService.getPlayerState().clientelles.push(e),this._messageService.addClientelleMessage(e),this.forumCondition(this._playerInfoService.getPlayerState())?(this._endGame(),!1):!this.hasCompletedBuilding(l.eCardEffect.bath)||!(this._gameService.gameState.mode===l.eWorkerType.patron&&!this.canAddToClientelles())&&(this.selectedBuilding=null,this.resolvingCard=!0,this.actionPerformTrigger=l.eCardEffect.bath,!1)},e.prototype.getClientelleOfType=function(e){return a.filter(this._playerInfoService.getPlayerState().clientelles,function(t){return e==t.role})},e.prototype.removeFromClientelles=function(e){f.removeFromList(e,this._playerInfoService.getPlayerState().clientelles)},e.prototype.canAddToClientelles=function(){var e=this._playerInfoService.getPlayerState();return e.clientelles.length<e.maxClientelles},e.prototype.fountainCondition=function(){return this._playerInfoService.isPlayersTurn&&this._gameService.gameState.mode===l.eWorkerType.craftsman&&this._gameService.gameState.actionMode===f.eActionMode.resolveCardMode&&this.hasCompletedBuilding(l.eCardEffect.fountain)&&this.activeActionTrigger!==l.eCardEffect.fountain},e.prototype.isBuildingCompleted=function(e){return!!a.find(this._playerInfoService.getPlayerState().completed,function(t){return t.building.id==e})},e.prototype.addToCompleted=function(e){e.building.selected=!1;var t=this._playerInfoService.getPlayerState();t.completed.push(this._cardFactoryService.createCompletedFromFoundation(e)),this._messageService.addCompletedMessage(e.building);var n=this.getInfluence(e);t.influence+=n,t.maxVault+=n,this._calcMaxClientelles(),this.buildingIsCompleted(e.building)},e.prototype.getInfluence=function(e){switch(e.site.id){case l.eCardEffect.rubble:case l.eCardEffect.wood:return 1;case l.eCardEffect.brick:case l.eCardEffect.concrete:return 2;case l.eCardEffect.marble:case l.eCardEffect.stone:return 3}},e.prototype.getInfluenceByType=function(e){switch(e){case l.eWorkerType.laborer:case l.eWorkerType.craftsman:return 1;case l.eWorkerType.architect:case l.eWorkerType.legionary:return 2;case l.eWorkerType.merchant:case l.eWorkerType.patron:return 3}},e.prototype.removeFromCompleted=function(e){a.remove(this._playerInfoService.getPlayerState().completed,e)},e.prototype.prisonResolved=function(e,t){a.remove(e.completed,function(e){return e.building.id==t.building.id});var n=this._playerInfoService.getPlayerState();n.completed.push(this._cardFactoryService.createCompletedFromFoundation(t)),this._resolveCompletedFunction(t.building),n.influence=n.influence-3},e.prototype.anyPlayerForumCondition=function(){var e=this,t=this._gameService.gameState.playerStates;return a.some(t,function(t){return e.forumCondition(t)})},e.prototype.forumCondition=function(e){var t=[];if(a.forEach(e.clientelles,function(e){t[e.role]=t[e.role]?t[e.role]+1:1}),this.hasCompletedBuilding(l.eCardEffect.forum))return this.satisfiesForum(t)},e.prototype.satisfiesForum=function(e){return a.every(e,function(e){return void 0!==e&&e>0})||this.hasCompletedBuilding(l.eCardEffect.ludusMagna)&&this.satisfiesForumLudusMagna(e)||this.hasCompletedBuilding(l.eCardEffect.storeroom)&&this.satisfiesForumStoreroom(e)},e.prototype.satisfiesForumLudusMagna=function(e){return a.filter(e,function(e){return e>0}).length+e[l.eWorkerType.merchant]-1>=6},e.prototype.satisfiesForumStoreroom=function(e){return 5===a.filter(e,function(e,t){return t!=l.eWorkerType.laborer&&e>0}).length},e.prototype.hasCompletedBuilding=function(e,t){var n=t?t:this._playerInfoService.getPlayerState();return!!a.find(n.completed,function(t){return t.building.id===e})||!!a.find(n.completed,function(e){return e.building.id===l.eCardEffect.gate})&&!!a.find(n.underConstruction,function(t){return t.building.id===e})||!!a.find(this._gameService.gameState.publicBuildings,function(t){return t.id===e})},e.prototype.roadInteractionCondition=function(e){return this.hasCompletedBuilding(l.eCardEffect.road)&&e.role!=l.eWorkerType.jack&&this.selectedBuilding&&this.selectedBuilding.building.role==l.eWorkerType.merchant},e.prototype.roadCondition=function(){return this.selectedBuilding&&this.selectedBuilding.building.role==l.eWorkerType.merchant&&this.hasCompletedBuilding(l.eCardEffect.road)},e.prototype.scriptoriumCondition=function(){return this.hasCompletedBuilding(l.eCardEffect.scriptorium)&&!!a.find(this.handCards,function(e){return e.role==l.eWorkerType.patron&&!e.phantom})},e.prototype.statueCondition=function(e){return e.building.id===l.eCardEffect.statue&&!!a.find(this.handCards,function(t){return t.role==l.eWorkerType.patron||t.role==e.site.role})},e.prototype.isInActionStack=function(e){return!!a.find(this.actionStack,function(t){return t.cardEffect&&t.cardEffect==e})},e.prototype.buildingIsCompleted=function(e){var t=this._resolveCompletedFunction(e);this.selectedBuilding=null,this.buildingCompletedSubject.next(e),this.decrementActions(t)},e.prototype._resolveCompletedFunction=function(e){var t=null,n=this._playerInfoService.getPlayerState(),r=n.influence;switch(e.id){case l.eCardEffect.amphitheatre:t=this._createCompletedStackItem(r,l.eWorkerType.craftsman,e.id);break;case l.eCardEffect.catacomb:return void this._endGame();case l.eCardEffect.circus:this.cardsToPlayJack=2;break;case l.eCardEffect.foundry:t=this._createCompletedStackItem(r,l.eWorkerType.laborer,e.id);break;case l.eCardEffect.forum:if(this.forumCondition(n))return void this._endGame();break;case l.eCardEffect.garden:t=this._createCompletedStackItem(r,l.eWorkerType.patron,e.id);break;case l.eCardEffect.gate:this._gateOnCompleted();break;case l.eCardEffect.insula:this._calcMaxClientelles();break;case l.eCardEffect.market:n.maxVault+=2;break;case l.eCardEffect.prison:t=this._createCompletedStackItem(0,null,e.id);break;case l.eCardEffect.school:t=this._createCompletedStackItem(1,null,e.id);break;case l.eCardEffect.shrine:n.maxHandSize+=2;break;case l.eCardEffect.temple:n.maxHandSize+=4}return t},e.prototype.onBuildingCompleted=function(){return this.buildingCompletedSubject.asObservable()},e.prototype.onCompletionAction=function(){return this.completionActionSubject.asObservable()},e.prototype._endGame=function(){this._socketService.endGame()},e.prototype.addToStockpile=function(e){this._playerInfoService.getPlayerState().stockpile.push(e),this._messageService.addStockpileMessage(e)},e.prototype.removeFromStockpile=function(e){f.removeFromList(e,this._playerInfoService.getPlayerState().stockpile)},e.prototype.hasCardTypeInStockpile=function(e){return!!a.find(this._playerInfoService.getPlayerState().stockpile,function(t){return t.role==e})},e.prototype.hasStockpileToTakeForBridge=function(){var e=this,t=this._gameService.gameState,n=t.romeDemands;return a.some(t.playerStates,function(t){return a.find(t.stockpile,function(r){return!t.hasLooted&&a.find(n,function(e){return e.role===r.role})&&t.player.id!==e._playerInfoService.getPlayerState().player.id})})},e.prototype.stairwayAction=function(e){f.removeFromList(e,this._playerInfoService.getPlayerState().stockpile),this.completedSelectedBuilding.stairway=!0,this.completedSelectedBuilding.building.selected=!1,this._gameService.gameState.publicBuildings.push(e),this.anyPlayerForumCondition()?this._endGame():this.decrementActions()},e.prototype.addToVault=function(e){var t=this;a.forEach(e,function(e){t._playerInfoService.getPlayerState().vault.push(e)}),this._messageService.addCustomMessage([{player:this._playerInfoService.player},{text:"adds a card into their VAULT"}])},e.prototype.canPutIntoVault=function(){var e=this._playerInfoService.getPlayerState();return e.vault.length<e.maxVault},e.prototype.canAddNewBuilding=function(e){if(null===e||void 0===e)return!1;var t=this._cardFactoryService.getRoleFromId(e);return this.activeActionItem&&this.activeActionItem.numActions>=this.foundationCost(t)&&this._gameService.hasFoundationToLay(t)&&!this.hasCompletedBuilding(e)&&!this.hasBuildingUnderConstruction(e)},e.prototype.hasBuildingUnderConstruction=function(e){if(this.actionPerformTrigger===l.eCardEffect.statue)return!1;var t=this._playerInfoService.getPlayerState().underConstruction;return!!a.find(t,function(t){return t.building.id===e&&!t.building.phantom})},e.prototype.removePhantomCard=function(e){for(var t=this._playerInfoService.getPlayerState().underConstruction,n=0;n<t.length;n++)e.uid==t[n].building.uid&&(t.splice(n,1),n--)},e.prototype.addToUnderConstruction=function(e){var t=this._playerInfoService.getPlayerState(),n=t.underConstruction;if(this.removePhantomCard(e),e.id==l.eCardEffect.statue){this.addBuildingSubject.next(e);var r=this._cardFactoryService.createFoundation(e,null,[]);n.push(r),this.actionPerformTrigger=l.eCardEffect.statue,this._gameService.noMoreInTownFoundations()&&this._endGame()}else n.push(this._cardFactoryService.createFoundation(e,e.role,[])),e.role==l.eWorkerType.patron&&this.hasCompletedBuilding(l.eCardEffect.gate)&&(t.functionAvailable.push(e),this._resolveCompletedFunction(e)),2!=this.foundationCost(e.role)||this.hasCompletedBuilding(l.eCardEffect.tower)||this.activeActionItem.numActions--,this.addBuildingSubject.next(e),this._gameService.noMoreInTownFoundations()?this._endGame():(this._messageService.addUnderConstructionMessage(e),this.decrementActions())},e.prototype.onNewBuilding=function(){return this.addBuildingSubject.asObservable()},e.prototype.foundationChosen=function(e){a.last(this._playerInfoService.getPlayerState().underConstruction).site=this._cardFactoryService.getCardSite(e.foundation.role),this.decrementActions()},e.prototype.removeFromUnderConstruction=function(e){a.remove(this._playerInfoService.getPlayerState().underConstruction,e)},e.prototype.buildingSelected=function(e){e===this.selectedBuilding?(this.selectedBuilding.building.selected=!1,this.selectedBuilding=null):(null!==this.selectedBuilding&&(this.selectedBuilding.building.selected=!1),e.building.selected=!0,this.selectedBuilding=e)},e.prototype.addMaterialToConstruction=function(e){var t=this.selectedBuilding;t.building.selected=!1,this._gameService.gameState.mode==l.eWorkerType.craftsman&&a.remove(this.handCards,e),a.remove(t.materials,function(e){return e.phantom}),t.materials.push(e),this._messageService.addMaterialMessage(e,t.building),t.building.id==l.eCardEffect.villa&&this._gameService.gameState.mode==l.eWorkerType.architect?(this.resolvingCard=!0,this.actionPerformTrigger=l.eCardEffect.villa):this._isCompleted()||this._scriptoriumCompleted(e)?(this.removeFromUnderConstruction(t),this.addToCompleted(t)):this.decrementActions(),this.selectedBuilding=null},e.prototype._isCompleted=function(){var e=this.selectedBuilding.site.id,t=this.selectedBuilding.materials.length;switch(e){case l.eCardEffect.rubble:case l.eCardEffect.wood:return 1==t;case l.eCardEffect.brick:case l.eCardEffect.concrete:return 2==t;case l.eCardEffect.marble:case l.eCardEffect.stone:return 3==t}},e.prototype._scriptoriumCompleted=function(e){return e.role==l.eWorkerType.patron&&this.hasCompletedBuilding(l.eCardEffect.scriptorium)},e.prototype.villaCanBeCompleted=function(){var e=this.getVillaFromUnderConstruction();return e&&this.getNonPhantomCards(e.materials).length>0&&!(this._gameService.gameState.mode!=l.eWorkerType.architect)},e.prototype.getNonPhantomCards=function(e){return a.filter(e,function(e){return!e.phantom})},e.prototype.getVillaFromUnderConstruction=function(){return a.find(this._playerInfoService.getPlayerState().underConstruction,function(e){return e.building.id==l.eCardEffect.villa})},e.prototype.onNewBuildingHover=function(){return this.hoverNewBuildingSubject.asObservable()},e.prototype.cardIsHoveredNewBuilding=function(e){this.hoverNewBuildingSubject.next(e)},e.prototype.onAddMaterialHover=function(){return this.hoverAddMaterialSubject.asObservable()},e.prototype.onNotHover=function(){return this.notHoverSubject.asObservable()},e.prototype._gateCondition=function(){return a.find(this._playerInfoService.getPlayerState().underConstruction,function(e){return e.building.role==l.eWorkerType.patron})},e.prototype.cardCanInteractAsMaterial=function(e){var t=this._gameService.gameState.mode;return(t===l.eWorkerType.craftsman||t===l.eWorkerType.architect)&&(this.selectedBuilding?!(this.selectedBuilding.building.role!==l.eWorkerType.merchant||!this.hasCompletedBuilding(l.eCardEffect.road))||(!(!this.hasCompletedBuilding(l.eCardEffect.tower)||e.role!==l.eWorkerType.laborer)||(!(!this.hasCompletedBuilding(l.eCardEffect.scriptorium)||e.role!==l.eWorkerType.patron)||(this.selectedBuilding.building.id===l.eCardEffect.statue&&(e.role===l.eWorkerType.patron||e.role===this.selectedBuilding.site.role)||this.selectedBuilding.site.role===e.role))):!(this.activeActionItem&&this.foundationCost(e.role)>this.activeActionItem.numActions))},e}();m=r([c.Injectable(),i(0,c.Inject(d.CardFactoryService)),i(1,c.Inject(p.GameMechanicsService)),i(2,c.Inject(f.GameService)),i(3,c.Inject(y.PlayerInfoService)),i(4,c.Inject(h.SocketService)),i(5,c.Inject(g.MessageService)),o("design:paramtypes",[d.CardFactoryService,p.GameMechanicsService,f.GameService,y.PlayerInfoService,h.SocketService,g.MessageService])],m),t.PlayerService=m},194:function(e,t,n){"use strict";n.d(t,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function e(){}return Object.defineProperty(e.prototype,"control",{get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return void 0===t&&(t=null),!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return void 0===t&&(t=null),this.control?this.control.getError(e,t):null},e}()},195:function(e,t,n){"use strict";var r=n(1),o=n(45),i=n(64);n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},c=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}(),s={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},l=function(e){function t(t){e.call(this,t)}return a(t,e),t.decorators=[{type:r.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:s}]}],t.ctorParameters=function(){return[{type:i.a,decorators:[{type:r.Self}]}]},t}(c),u=function(e){function t(t){e.call(this,t)}return a(t,e),t.decorators=[{type:r.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:s}]}],t.ctorParameters=function(){return[{type:o.a,decorators:[{type:r.Self}]}]},t}(c)},196:function(e,t,n){"use strict";var r=n(1),o=n(72),i=n(139),a=n(41),c=n(94),s=n(45),l=n(36),u=n(64),p=n(95),f=n(135),d=n(55),h=n(293);n.d(t,"a",function(){return v});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var y=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},g={provide:u.a,useExisting:n.i(r.forwardRef)(function(){return v})},m=Promise.resolve(null),v=function(e){function t(t,r,a,c){e.call(this),this._control=new i.c,this._registered=!1,this.update=new o.a,this._parent=t,this._rawValidators=r||[],this._rawAsyncValidators=a||[],this.valueAccessor=n.i(d.g)(this,c)}return y(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),n.i(d.h)(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?n.i(d.c)(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return n.i(d.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return n.i(d.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},t.prototype._setUpStandalone=function(){n.i(d.d)(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof f.a)&&this._parent instanceof c.a?h.a.formGroupNameException():this._parent instanceof f.a||this._parent instanceof p.a||h.a.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||h.a.missingNameException()},t.prototype._updateValue=function(e){var t=this;m.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;m.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})},t.decorators=[{type:r.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[g],exportAs:"ngModel"}]}],t.ctorParameters=function(){return[{type:s.a,decorators:[{type:r.Optional},{type:r.Host}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[l.a]}]}]},t.propDecorators={name:[{type:r.Input}],isDisabled:[{type:r.Input,args:["disabled"]}],model:[{type:r.Input,args:["ngModel"]}],options:[{type:r.Input,args:["ngModelOptions"]}],update:[{type:r.Output,args:["ngModelChange"]}]},t}(u.a)},197:function(e,t,n){"use strict";var r=n(1),o=n(36);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=null==e?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:r.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[i]}]}],e.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},e}()},198:function(e,t,n){"use strict";var r=n(1),o=n(36);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:r.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[i]}]}],e.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},e}()},199:function(e,t,n){"use strict";var r=n(1),o=n(72),i=n(41),a=n(36),c=n(64),s=n(136),l=n(55);n.d(t,"a",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},p={provide:c.a,useExisting:n.i(r.forwardRef)(function(){return f})},f=function(e){function t(t,r,i){e.call(this),this.update=new o.a,this._rawValidators=t||[],this._rawAsyncValidators=r||[],this.valueAccessor=n.i(l.g)(this,i)}return u(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){s.a.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(n.i(l.d)(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),n.i(l.h)(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return n.i(l.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return n.i(l.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._isControlChanged=function(e){return e.hasOwnProperty("form")},t.decorators=[{type:r.Directive,args:[{selector:"[formControl]",providers:[p],exportAs:"ngForm"}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.a]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},t.propDecorators={form:[{type:r.Input,args:["formControl"]}],model:[{type:r.Input,args:["ngModel"]}],update:[{type:r.Output,args:["ngModelChange"]}],isDisabled:[{type:r.Input,args:["disabled"]}]},t}(c.a)},20:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++)e.uid==t[n].uid&&(t.splice(n,1),n--)}var o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),c=n(1),s=n(10),l=n(28),u=n(16);n(327);!function(e){e[e.actionCardMode=0]="actionCardMode",e[e.resolveCardMode=1]="resolveCardMode",e[e.turnEndMode=2]="turnEndMode"}(t.eActionMode||(t.eActionMode={}));!function(e){e[e.playCard=0]="playCard",e[e.think=1]="think"}(t.eActions||(t.eActions={}));!function(e){e[e.declare=0]="declare",e[e.romeDemanding=1]="romeDemanding",e[e.bridge=2]="bridge",e[e.coliseum=3]="coliseum",e[e.takeFromPool=4]="takeFromPool"}(t.eLegionaryStage||(t.eLegionaryStage={}));var p=function(){function e(e,t){var n=this;this._cardFactoryService=e,this._playerInfoService=t,this.players=2,this.playedCards=[],this.foundationMap={},this.noMoreInTownFoundations=function(){return a.every(n.gameState.foundations,function(e){return 0==e.inTown})},this._init()}return e.prototype._init=function(){this.deckList=this._cardFactoryService.getCardArray()},e.prototype.playerHasActioned=function(e){this.playedCards.push(e),1==this.playedCards.length&&this.playedCards.splice(0,this.playedCards.length)},e.prototype.updateGameState=function(){this._playerInfoService.updatePlayerState(this.gameState)},e.prototype.romeDemands=function(e){this.gameState.romeDemands.push(e)},e.prototype.getPlayerIndex=function(e){return a.findLastIndex(this.gameState.playerOrder,function(t){return t.id==e.player.id})},e.prototype.addToPool=function(e){var t=this;a.forEach(e,function(e){t.gameState.pool.push(e)})},e.prototype.replacePool=function(e){this.gameState.pool=[],this.addToPool(e)},e.prototype.removeFromPool=function(e){a.remove(this.gameState.pool,e)},e.prototype.hasSameTypeInPool=function(e){return!!a.find(this.gameState.pool,function(t){return t.role==e})},e.prototype.createDeck=function(){var e=this,t=this._cardFactoryService.cards,n=[];return a.forEach(t,function(t){for(var r=t.count,o=0;o<r;o++)n.push(e._cardFactoryService.createCard(t.id))}),a.shuffle(n)},e.prototype.getDeck=function(){return this.gameState.deck},e.prototype.shuffleDeck=function(){this.gameState.deck=a.shuffle(this.gameState.deck)},e.prototype.getDeckSize=function(){return this.gameState.deck.length},e.prototype.drawCards=function(e){var t=this.gameState.deck.slice(0,e);if(0===this.gameState.deck.length)return null;for(var n=0;n<e;n++)this.gameState.deck.shift();return t},e.prototype.drawJack=function(){return this.gameState.jacks=this.gameState.jacks>0?this.gameState.jacks-1:0,[this._cardFactoryService.getJack()]},e.prototype.addJack=function(){this.gameState.jacks=this.gameState.jacks<6?this.gameState.jacks+1:6},e.prototype.drawStartGameCards=function(){return this.drawCards(4).concat(this._cardFactoryService.getJack())},e.prototype.hasFoundationToLay=function(e){return a.find(this.gameState.foundations,function(t){return t.foundation.role==e}).outOfTown>0},e.prototype.getNameOfAction=function(e){switch(e){case s.eWorkerType.architect:return"architect";case s.eWorkerType.craftsman:return"craftsman";case s.eWorkerType.jack:return"jack";case s.eWorkerType.laborer:return"laborer";case s.eWorkerType.legionary:return"legionary";case s.eWorkerType.merchant:return"merchant";case s.eWorkerType.patron:return"patron"}},e.prototype.materialsToComplete=function(e){switch(e){case s.eWorkerType.craftsman:case s.eWorkerType.laborer:return 1;case s.eWorkerType.legionary:case s.eWorkerType.architect:return 2;case s.eWorkerType.patron:case s.eWorkerType.merchant:return 3}},e}();p=o([c.Injectable(),i("design:paramtypes",[l.CardFactoryService,u.PlayerInfoService])],p),t.GameService=p,t.removeFromList=r},200:function(e,t,n){"use strict";var r=n(1),o=n(72),i=n(41),a=n(94),c=n(45),s=n(36),l=n(64),u=n(136),p=n(55),f=n(97),d=n(98);n.d(t,"a",function(){return g});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},y={provide:l.a,useExisting:n.i(r.forwardRef)(function(){return g})},g=function(e){function t(t,r,i,a){e.call(this),this._added=!1,this.update=new o.a,this._parent=t,this._rawValidators=r||[],this._rawAsyncValidators=i||[],this.valueAccessor=n.i(p.g)(this,a)}return h(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){u.a.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){this._added||this._setUpControl(),n.i(p.h)(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(t.prototype,"path",{get:function(){return n.i(p.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return n.i(p.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return n.i(p.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){!(this._parent instanceof d.b)&&this._parent instanceof a.a?u.a.ngModelGroupException():this._parent instanceof d.b||this._parent instanceof f.a||this._parent instanceof d.a||u.a.controlParentException()},t.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},t.decorators=[{type:r.Directive,args:[{selector:"[formControlName]",providers:[y]}]}],t.ctorParameters=function(){return[{type:c.a,decorators:[{type:r.Optional},{type:r.Host},{type:r.SkipSelf}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.a]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[s.a]}]}]},t.propDecorators={name:[{type:r.Input,args:["formControlName"]}],model:[{type:r.Input,args:["ngModel"]}],update:[{type:r.Output,args:["ngModelChange"]}],isDisabled:[{type:r.Input,args:["disabled"]}]},t}(l.a)},214:function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=n(76),i=n(216);e.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},215:function(e,t,n){(function(t){var r=n(540);e.exports=function(e){var n=e.xdomain,o=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,n(9))},216:function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},217:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},232:function(e,t,n){function r(){}function o(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=f.stringify(e.data)),p("encoded %j as %s",e,n),n}function i(e,t){function n(e){var n=h.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}h.removeBlobs(e,n)}function a(){this.reconstructor=null}function c(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return u();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"==e.charAt(r+1))for(n.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(n.nsp+=i,r==e.length)break}else n.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}return e.charAt(++r)&&(n=s(n,e.substr(r))),p("decoded %s as %j",e,n),n}function s(e,t){try{e.data=f.parse(t)}catch(e){return u()}return e}function l(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:t.ERROR,data:"parser error"}}var p=n(836)("socket.io-parser"),f=n(541),d=n(515),h=n(835),y=n(362);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){if(p("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)i(e,n);else{n([o(e)])}},d(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=c(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!y(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},233:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(846),l=function(){function e(){}return e}();l=r([o.NgModule({declarations:[s.ActionCardComponent],bootstrap:[s.ActionCardComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule],exports:[s.ActionCardComponent]})],l),t.ActionCardModule=l},234:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(853),l=n(158),u=function(){function e(){}return e}();u=r([o.NgModule({declarations:[s.ControlComponent],bootstrap:[s.ControlComponent],imports:[a.BrowserModule,i.HttpModule,l.CardModule,c.CommonModule],exports:[s.ControlComponent]})],u),t.ControlModule=u},235:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},26:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(8),s=n(20),l=n(16),u=n(832),p=function(){function e(e,t){var n=this;this._gameService=e,this._playerInfoService=t,this.io=null,this.roomID=null,this.createRoom=function(e){n.io.emit("create",e)},this.joinRoom=function(e,t){n.roomID=e.id,n.io.emit("join room",{room:e,player:t})},this.leaveRoom=function(e,t){n.io.emit("leave room",{room:e,player:t})},this.cardPlayed=function(e){n.io.emit("card played",{roomID:n.roomID,card:e,gameState:n._gameService.gameState})},this.think=function(){n.io.emit("think",{roomID:n.roomID,gameState:n._gameService.gameState})},this.startGame=function(e,t){n.io.emit("start game",{room:e,deck:t})},this.endGame=function(){n.io.emit("end game",{roomID:n.roomID,gameState:n._gameService.gameState})},this.getAllRooms=function(){n.io.emit("all rooms")},this.turnEnd=function(){n.io.emit("turn end",{roomID:n.roomID,gameState:n._gameService.gameState})},this.romeDemands=function(){n._gameService.gameState.legionaryStage=s.eLegionaryStage.romeDemanding,n.io.emit("rome demands",{roomID:n.roomID,gameState:n._gameService.gameState})},this.extortMaterial=function(){var e=n._playerInfoService.getPlayerState();e.hasLooted=!0,n._gameService.gameState.legionaryStage=s.eLegionaryStage.takeFromPool,i.forEach(e.loot,function(e){e.selected=!1}),n.io.emit("extort material",{roomID:n.roomID,gameState:n._gameService.gameState})},this.roomCreatedSubject=new c.Subject,this.onRoomCreated=function(){return n.roomCreatedSubject.asObservable()},this.roomChangedSubject=new c.Subject,this.onRoomChanged=function(){return n.roomChangedSubject.asObservable()},this.roomJoinedSubject=new c.Subject,this.onRoomJoined=function(){return n.roomJoinedSubject.asObservable()},this.gameStartedSubject=new c.Subject,this.onGameStarted=function(){return n.gameStartedSubject.asObservable()},this.allPlayersChosenSubject=new c.Subject,this.onAllPlayersChosen=function(){return n.allPlayersChosenSubject.asObservable()},this.cardPlayedSubject=new c.Subject,this.onCardPlayed=function(){return n.cardPlayedSubject.asObservable()},this.turnStartedSubject=new c.Subject,this.onTurnStarted=function(){return n.turnStartedSubject.asObservable()},this.turnEndSubject=new c.Subject,this.onTurnEnd=function(){return n.turnEndSubject.asObservable()},this.romeDemandsSubject=new c.Subject,this.onRomeDemands=function(){return n.romeDemandsSubject.asObservable()},this.extortMaterialSubject=new c.Subject,this.onExtortMaterial=function(){return n.extortMaterialSubject.asObservable()},this.gameEndedSubject=new c.Subject,this.onGameEnded=function(){return n.gameEndedSubject.asObservable()},this.receiveMessageSubject=new c.Subject,this.onReceiveMessage=function(){return n.receiveMessageSubject.asObservable()},this.playerChatSubject=new c.Subject,this.onPlayerChat=function(){return n.playerChatSubject.asObservable()},this.hostUrl=window.location.protocol+"//"+window.location.hostname+":"+window.location.port,this.io=u(this.hostUrl),this.initSocketListeners(this.io)}return e.prototype.initSocketListeners=function(e){var t=this;e.on("connected",function(e){t._playerInfoService.player.id=Math.random().toString(36).substring(7)}),e.on("room created",function(e){t.roomID=e.id,t.roomCreatedSubject.next(e)}),e.on("room changed",function(e){t.roomChangedSubject.next(e)}),e.on("game started",function(e){t._gameService.gameState=e,t._onNext(t.gameStartedSubject,e)}),e.on("on all players chosen",function(e){t._onNext(t.allPlayersChosenSubject,e)}),e.on("on card played",function(e){t._onNext(t.cardPlayedSubject,e)}),e.on("on turn end",function(e){t._onNext(t.turnEndSubject,e)}),e.on("on turn started",function(e){t._onNext(t.turnStartedSubject,e)}),e.on("on rome demands",function(e){t._onNext(t.romeDemandsSubject,e)}),e.on("on extort material",function(e){t._onNext(t.extortMaterialSubject,e)}),e.on("receive message",function(e){t.receiveMessageSubject.next(e)}),e.on("on player chat",function(e){t.playerChatSubject.next(e)}),e.on("game ended",function(e){t._onNext(t.gameEndedSubject,e)})},e.prototype._onNext=function(e,t){if(null!==t){var n=this._gameService.gameState;i.extend(n,t),this._playerInfoService.setPlayerState(n),e.next(t)}},e.prototype.sendMessage=function(e){this.io.emit("send message",{roomID:this.roomID,message:e})},e.prototype.sendPlayerChat=function(e){this.io.emit("player chat",{roomID:this.roomID,text:e})},e}();p=r([a.Injectable(),o("design:paramtypes",[s.GameService,l.PlayerInfoService])],p),t.SocketService=p},28:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(15),s=n(47),l=function(){function e(){var e=this;this.cardDictionary={},this.getCardArray=function(){return c.assign(e.cardArray)},this.getCard=function(t){return e.cardArray[t]},this.getCardByName=function(t){return e.cardDictionary[t]},this.getJack=function(){return new a.Card(s.jack)},this._init()}return e.prototype._init=function(){this.cards=s.cards,this._initCards()},e.prototype._initCards=function(){var e=this;this.cardArray=c.map(this.cards,function(t){var n=new a.Card(t);return e.cardDictionary[t.title]=n,n}),this.jackCard=new a.Card(s.jack);var t=s.foundations;this.foundationCards=[new a.Card(t.wood),new a.Card(t.rubble),new a.Card(t.brick),new a.Card(t.concrete),new a.Card(t.marble),new a.Card(t.stone)],c.forEach(this.foundationCards,function(t){e.cardDictionary[t.title]=c.assign(t)})},e.prototype.createCard=function(e){return new a.Card(this.cards[e])},e.prototype.createFoundation=function(e,t,n){return{building:e,site:this.getCardSite(t),materials:n}},e.prototype.createCompletedFoundation=function(e,t,n,r){return c.extend({},this.createFoundation(e,t,n),{stairway:!!r})},e.prototype.createCompletedFromFoundation=function(e,t){return c.extend({},e,{stairway:!!t})},e.prototype.getCardHeight=function(e){switch(e){case a.eCardSize.medium:return s.sprites.medium.cardHeight;case a.eCardSize.large:return s.sprites.large.cardHeight}},e.prototype.getCardWidth=function(e){switch(e){case a.eCardSize.medium:return s.sprites.medium.cardWidth;case a.eCardSize.large:return s.sprites.large.cardWidth}},e.prototype.getCardSite=function(e){switch(e){case a.eWorkerType.architect:return this.cardDictionary.Concrete;case a.eWorkerType.craftsman:return this.cardDictionary.Wood;case a.eWorkerType.laborer:return this.cardDictionary.Rubble;case a.eWorkerType.legionary:return this.cardDictionary.Brick;case a.eWorkerType.merchant:return this.cardDictionary.Stone;case a.eWorkerType.patron:return this.cardDictionary.Marble}},e.prototype.getRole=function(e){switch(e.role){case a.eWorkerType.architect:return"architect";case a.eWorkerType.craftsman:return"craftsman";case a.eWorkerType.jack:return"jack";case a.eWorkerType.laborer:return"laborer";case a.eWorkerType.legionary:return"legionary";case a.eWorkerType.merchant:return"merchant";case a.eWorkerType.patron:return"patron"}},e.prototype.getRoleFromType=function(e){switch(e){case a.eWorkerType.architect:return"architect";case a.eWorkerType.craftsman:return"craftsman";case a.eWorkerType.jack:return"jack";case a.eWorkerType.laborer:return"laborer";case a.eWorkerType.legionary:return"legionary";case a.eWorkerType.merchant:return"merchant";case a.eWorkerType.patron:return"patron"}},e.prototype.getRoleFromId=function(e){c.find(this.cards,function(t){return t.id===e});return this.cards[e].role},e.prototype.getTextColor=function(e){switch(e){case a.eWorkerType.architect:return"architect-text";case a.eWorkerType.craftsman:return"craftsman-text";case a.eWorkerType.laborer:return"laborer-text";case a.eWorkerType.legionary:return"legionary-text";case a.eWorkerType.merchant:return"merchant-text";case a.eWorkerType.patron:return"patron-text"}},e.prototype.mapMaterialName=function(e){switch(e){case a.eWorkerType.architect:return"Concrete";case a.eWorkerType.craftsman:return"Wood";case a.eWorkerType.laborer:return"Rubble";case a.eWorkerType.legionary:return"Brick";case a.eWorkerType.merchant:return"Stone";case a.eWorkerType.patron:return"Marble"}},e}();l=r([i.Injectable(),o("design:paramtypes",[])],l),t.CardFactoryService=l},29:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),c=n(1),s=n(8),l=n(10),u=n(28),p=n(20),f=n(26),d=n(16),h=function(){function e(e,t,n,r){var o=this;this._gameService=e,this._cardFactoryService=t,this._socketService=n,this._playerInfoService=r,this.activeCard=new l.Card,this.playedCard=new l.Card,this.getActionMode=function(){return o.actionMode},this.getPlayedCard=function(){return o.playedCard},this.changeActiveCard=function(e){o.activeCard.changeValues(e)},this._architectPlayed=function(e,t){o._onCardNext(l.eWorkerType.architect,e,t)},this._craftsmanPlayed=function(e,t){o._onCardNext(l.eWorkerType.craftsman,e,t)},this._laborerPlayed=function(e,t){o._onCardNext(l.eWorkerType.laborer,e,t)},this._legionaryPlayed=function(e,t){console.log("LEGIONARY PLAYED")},this._merchantPlayed=function(e,t){o._onCardNext(l.eWorkerType.merchant,e,t)},this._patronPlayed=function(e,t){o._onCardNext(l.eWorkerType.patron,e,t)},this._jackPlayed=function(e,t){o._onCardNext(l.eWorkerType.jack,e,t)},this.playCardsAsJackSubject=new s.Subject,this.playCardsAsJack=function(e,t){o.activeCard.changeValues(o._cardFactoryService.getJack()),o._gameService.gameState.mode=t,o.playCardsAsJackSubject.next(e)},this.onPlayCardsAsJack=function(){return o.playCardsAsJackSubject.asObservable()},this.cardsAsJackPlayedSubject=new s.Subject,this.onCardsPlayedAsJack=function(){return o.cardsAsJackPlayedSubject.asObservable()},this.actionEndSubject=new s.Subject,this.drawJackSubject=new s.Subject,this.roleMap=[this._architectPlayed,this._craftsmanPlayed,this._laborerPlayed,this._legionaryPlayed,this._merchantPlayed,this._patronPlayed,this._jackPlayed],this._initListeners()}return e.prototype._initListeners=function(){var e=this,t=this._socketService;t.onGameStarted().subscribe(function(t){e.actionMode=t.actionMode}),t.onTurnStarted().subscribe(function(t){e.actionMode=t.actionMode}),t.onAllPlayersChosen().subscribe(function(t){e._configurePlayerTurn(t)}),t.onCardPlayed().subscribe(function(t){e._configurePlayerTurn(t)})},e.prototype._configurePlayerTurn=function(e){e.playerOrder[e.playerTurn].id==this._playerInfoService.player.id?this._playerInfoService.isPlayersTurn=!0:e.actionMode==p.eActionMode.turnEndMode&&this.actionEnd()},e.prototype._onCardNext=function(e,t,n){this._gameService.playerHasActioned(t)},e.prototype.actionEnd=function(){this._gameService.gameState.mode=null,this.actionEndSubject.next(a.cloneDeep(this.activeCard)),this.activeCard.changeValues(new l.Card)},e.prototype.onActionEnd=function(){return this.actionEndSubject.asObservable()},e.prototype.drawJack=function(){this.drawJackSubject.next()},e.prototype.onDrawJack=function(){return this.drawJackSubject.asObservable()},e}();h=r([c.Injectable(),i(0,c.Inject(p.GameService)),i(1,c.Inject(u.CardFactoryService)),i(2,c.Inject(f.SocketService)),i(3,c.Inject(d.PlayerInfoService)),o("design:paramtypes",[p.GameService,u.CardFactoryService,f.SocketService,d.PlayerInfoService])],h),t.GameMechanicsService=h},292:function(e,t,n){"use strict";n.d(t,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '}},293:function(e,t,n){"use strict";var r=n(292);n.d(t,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+r.a.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+r.a.ngModelWithFormGroup)},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+r.a.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+r.a.ngModelGroup)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+r.a.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+r.a.ngModelGroup)},e}()},294:function(e,t,n){"use strict";var r=n(1),o=n(41);n.d(t,"e",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return y});var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return s}),multi:!0},c={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return l}),multi:!0},s=function(){function e(){}return Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=null!=e&&e!==!1&&""+e!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),e.prototype.validate=function(e){return this.required?o.c.required(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.decorators=[{type:r.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[a],host:{"[attr.required]":'required ? "" : null'}}]}],e.ctorParameters=function(){return[]},e.propDecorators={required:[{type:r.Input}]},e}(),l=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.validate=function(e){return this.required?o.c.requiredTrue(e):null},t.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[c],host:{"[attr.required]":'required ? "" : null'}}]}],t.ctorParameters=function(){return[]},t}(s),u={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return p}),multi:!0},p=function(){function e(){}return e.prototype.ngOnChanges=function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return null==this.minlength?null:this._validator(e)},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=o.c.minLength(parseInt(this.minlength,10))},e.decorators=[{type:r.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[u],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],e.ctorParameters=function(){return[]},e.propDecorators={minlength:[{type:r.Input}]},e}(),f={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return d}),multi:!0},d=function(){function e(){}return e.prototype.ngOnChanges=function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return null!=this.maxlength?this._validator(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=o.c.maxLength(parseInt(this.maxlength,10))},e.decorators=[{type:r.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[f],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],e.ctorParameters=function(){return[]},e.propDecorators={maxlength:[{type:r.Input}]},e}(),h={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return y}),multi:!0},y=function(){function e(){}return e.prototype.ngOnChanges=function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return this._validator(e)},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=o.c.pattern(this.pattern)},e.decorators=[{type:r.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[h],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],e.ctorParameters=function(){return[]},e.propDecorators={pattern:[{type:r.Input}]},e}()},295:function(e,t,n){"use strict";n(73);n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function e(){}return e.merge=function(e,t){for(var n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n[i]=e[i]}for(var a=0,c=Object.keys(t);a<c.length;a++){var i=c[a];n[i]=t[i]}return n},e.equals=function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(e[i]!==t[i])return!1}return!0},e}(),o=function(){function e(){}return e.findLast=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null},e.removeAll=function(e,t){for(var n=0;n<t.length;++n){var r=e.indexOf(t[n]);r>-1&&e.splice(r,1)}},e.remove=function(e,t){var n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},e.flatten=function(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e.flatten(n):n;return t.concat(r)},[])},e}()},296:function(e,t,n){"use strict";var r=n(1),o=n(73),i=n(139);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var r=this._reduceControls(e),a=n.i(o.c)(t)?t.validator:null,c=n.i(o.c)(t)?t.asyncValidator:null;return new i.d(r,a,c)},e.prototype.control=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new i.c(e,t,n)},e.prototype.array=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null);var o=e.map(function(e){return r._createControl(e)});return new i.b(o,t,n)},e.prototype._reduceControls=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){n[r]=t._createControl(e[r])}),n},e.prototype._createControl=function(e){if(e instanceof i.c||e instanceof i.d||e instanceof i.b)return e;if(Array.isArray(e)){var t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}()},297:function(e,t,n){"use strict";var r=n(1);n.d(t,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=r.__core_private__.isPromise},320:function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},322:function(e,t,n){(function(e){function r(t){var n=!1,r=!1,c=!1!==t.jsonp;if(e.location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),n=t.hostname!==location.hostname||l!==t.port,r=t.secure!==s}if(t.xdomain=n,t.xscheme=r,"open"in new o(t)&&!t.forceJSONP)return new i(t);if(!c)throw new Error("JSONP disabled");return new a(t)}var o=n(215),i=n(522),a=n(521),c=n(523);t.polling=r,t.websocket=c}).call(t,n(9))},323:function(e,t,n){function r(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=n(214),i=n(217),a=n(76),c=n(145),s=n(371),l=n(146)("engine.io-client:polling");e.exports=r;var u=function(){return null!=new(n(215))({xdomain:!1}).responseType}();c(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||t()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(this.hostname.indexOf(":")!==-1?"["+this.hostname+"]":this.hostname)+n+this.path+e}},325:function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n(e[i]))return!0}return!1}return n(e)}var o=n(539);e.exports=r}).call(t,n(9))},326:function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},327:function(e,t){e.exports={influence:2,vaultSize:2,clientelleSize:2,handSize:5,cardsToPlayJack:3}},328:function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=s?Math.round(e/s)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,s,"hour")||i(e,c,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,s=60*c,l=24*s,u=365.25*l;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&isNaN(e)===!1)return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},329:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");o!=-1&&i!=-1&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=n.exec(e||""),c={},s=14;s--;)c[r[s]]=a[s]||"";return o!=-1&&i!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c}},330:function(e,t){e.exports=".jack-menu-container {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    padding:5px;\n}\n\n\n.jack-menu {\n    position: relative;\n    height: 100%;\n    width: 100%;\n}\n\n.right-jack-menu, .left-jack-menu {\n    height: 100%;\n    width: 50%;\n    float: left;\n\n    display: flex;\n    flex-flow: column;\n\n    color: white;\n}\n.architect-option,\n.craftsman-option,\n.laborer-option,\n.legionary-option,\n.merchant-option,\n.patron-option {\n    flex: 1;\n    text-align: center;\n    margin: 2px;\n    cursor: pointer;\n    border-radius: 5px;\n}\n.architect-option:hover,\n.craftsman-option:hover,\n.laborer-option:hover,\n.legionary-option:hover,\n.merchant-option:hover,\n.patron-option:hover,\n\n.new-builing-option:hover,\n.add-option:hover {\n    transform: scale(1.05)\n}\n\n.option-text-container {\n    display: table;\n    height: 100%;\n    width: 100%;\n    padding: 3px;\n}\n.option-text {\n    display: table-cell;\n    vertical-align: middle;\n\n    border: 1px solid white;\n    border-radius: 5px;\n}\n\n.architect-option {\n    background-color: #5F5F5F;\n}\n.craftsman-option {\n    background-color: #1E824C;\n}\n.laborer-option {\n    background-color: #F5AB35;\n}\n.legionary-option {\n    background-color: #CF000F;\n}\n.merchant-option {\n    background-color: #22A7F0;\n}\n.patron-option {\n    background-color: #8E44AD;\n}\n\n.cm-options-cont {\n    width: 100%;\n    height: 50%;\n    padding: 10px;\n}\n\n.new-builing-option, .add-option {\n    height: 100%;\n    text-align: center;\n    background-color: beige;\n    border-radius: 5px;\n    color: black;\n    font-weight: bold;\n    cursor: pointer;\n}"},358:function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}var o=n(518),i=n(360),a=n(361),c=n(232),s=n(359),l=n(320),u=n(156)("socket.io-client:manager"),p=n(326),f=n(498),d=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",function(){r.onopen(),e&&e()}),a=s(n,"error",function(t){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(a),this},r.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~p(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.engine.id}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},359:function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},36:function(e,t,n){"use strict";var r=n(1);n.d(t,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=new r.OpaqueToken("NgValueAccessor")},360:function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=n(232),i=n(361),a=n(842),c=n(359),s=n(320),l=n(156)("socket.io-client:socket"),u=n(325);e.exports=r;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[c(e,"open",s(this,"onopen")),c(e,"packet",s(this,"onpacket")),c(e,"close",s(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(p.hasOwnProperty(e))return f.apply(this,arguments),this;var t=a(arguments),n=o.EVENT;u(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){l("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);l("sending ack %j",r);var i=u(r)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},361:function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},362:function(e,t,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,n(9))},365:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(873),l=n(861),u=n(852),p=n(366),f=function(){function e(){}return e}();f=r([o.NgModule({declarations:[u.CardDetailComponent],bootstrap:[u.CardDetailComponent],exports:[u.CardDetailComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule,l.MessageModule,s.UserStatsModule],providers:[p.CardDetailService]})],f),t.CardDetailModule=f},366:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=function(){function e(){var e=this;this.focusedCard=new a.Card,this.focusCard=function(t){e.focusedCard.changeValues(t)}}return e}();c=r([i.Injectable(),o("design:paramtypes",[])],c),t.CardDetailService=c},367:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(855),l=n(854),u=function(){function e(){}return e}();u=r([o.NgModule({declarations:[l.FoundationComponent,s.OutOfTownComponent],bootstrap:[l.FoundationComponent,s.OutOfTownComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule],exports:[l.FoundationComponent,s.OutOfTownComponent]})],u),t.FoundationModule=u},368:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(20),s=n(26),l=n(16),u=n(534),p=function(){function e(e,t,n){var r=this;this._playerInfoService=e,this._socketService=t,this._gameService=n,this.logoURL=u,this.rooms=[],this.playerChoices=[{players:2,selected:!0},{players:3,selected:!1},{players:4,selected:!1},{players:5,selected:!1}],this.nameEditIconVisible=!1,this.nameInputHover=function(){r.nameEditIconVisible=!0},this.nameInputLeave=function(){r.nameEditIconVisible=!1},this.selectNumPlayers=function(e){i.forEach(r.playerChoices,function(t,n){t.selected=!(n!=e)})},this.createRoomClick=function(){r._socketService.createRoom({players:r.getSelectedNumPlayers().players,player:r._playerInfoService.player})},this.joinGame=function(e){e.players.push(r._playerInfoService.player),r._socketService.joinRoom(e,r._playerInfoService.player)},this.leaveRoom=function(e){i.remove(e.players,function(e){return e.id==r._playerInfoService.player.id}),r._socketService.leaveRoom(e,r._playerInfoService.player)},this.startGame=function(e){var t=r._gameService.createDeck();r._socketService.startGame(e,t)},this.hideJoinButton=function(e){return!(e.host.id!=r._playerInfoService.player.id&&!r._inRoom(e))},this.roomIsFull=function(e){return e.numPlayers==e.players.length&&!r._inRoom(e)},this._initListeners()}return e.prototype._initListeners=function(){var e=this,t=this._socketService;t.onRoomChanged().subscribe(function(t){e.rooms=t}),t.onRoomCreated().subscribe(function(t){e.room=t}),t.getAllRooms()},e.prototype.getSelectedNumPlayers=function(){return i.find(this.playerChoices,function(e,t){return e.selected})},e.prototype._inRoom=function(e){var t=this;return i.find(e.players,function(e){return e.id==t._playerInfoService.player.id})},e}();p=r([a.Component({selector:"lobby-component",template:n(558),styles:[n(557)]}),o("design:paramtypes",[l.PlayerInfoService,s.SocketService,c.GameService])],p),t.LobbyComponent=p},369:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(869),l=n(865),u=n(867),p=n(862),f=n(863),d=n(864),h=n(367),y=n(866),g=n(868),m=n(158),v=n(234),_=n(233),b=n(370),S=function(){function e(){}return e}();S=r([o.NgModule({declarations:[s.PlayerTemplateComponent,l.StockpileComponent,f.CompletedComponent,p.ClientelleComponent,d.DetailTabComponent,y.RoleBlockComponent,y.SummaryComponent,u.UnderConstructionComponent,g.VaultComponent],bootstrap:[s.PlayerTemplateComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule,_.ActionCardModule,b.PoolModule,v.ControlModule,m.CardModule,h.FoundationModule],exports:[s.PlayerTemplateComponent,f.CompletedComponent,p.ClientelleComponent,d.DetailTabComponent,y.RoleBlockComponent,y.SummaryComponent,u.UnderConstructionComponent,g.VaultComponent]})],S),t.PlayerTemplateModule=S},37:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(845),s=n(28),l=n(157),u=n(844),p=n(29),f=n(16),d=n(17),h=n(20),y=n(80),g=n(26),m=function(){function e(){}return e}();m=r([o.NgModule({declarations:[c.CardImageComponent,u.CardGroupDirective],bootstrap:[c.CardImageComponent],imports:[a.BrowserModule,i.HttpModule],exports:[c.CardImageComponent,u.CardGroupDirective],providers:[s.CardFactoryService,l.CardImageService,p.GameMechanicsService,f.PlayerInfoService,d.PlayerService,g.SocketService,h.GameService,y.MessageService]})],m),t.CommonModule=m},370:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(870),l=n(871),u=function(){function e(){}return e}();u=r([o.NgModule({declarations:[s.PoolComponent],bootstrap:[s.PoolComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule],exports:[s.PoolComponent],providers:[l.PoolService]})],u),t.PoolModule=u},371:function(e,t,n){"use strict";function r(e){var t="";do{t=c[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function o(e){var t=0;for(p=0;p<e.length;p++)t=t*s+l[e.charAt(p)];return t}function i(){var e=r(+new Date);return e!==a?(u=0,a=e):e+"."+r(u++)}for(var a,c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,l={},u=0,p=0;p<s;p++)l[c[p]]=p;i.encode=r,i.decode=o,e.exports=i},379:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(843),s=n(233),l=n(848),u=n(365),p=n(158),f=n(234),d=n(367),h=n(857),y=n(858),g=n(369);t.AppImports=[a.BrowserModule,i.HttpModule,s.ActionCardModule,l.BoardModule,u.CardDetailModule,p.CardModule,f.ControlModule,d.FoundationModule,h.HandModule,y.LobbyModule,g.PlayerTemplateModule];var m=function(){function e(){}return e}();m=r([o.NgModule({declarations:[c.AppComponent],bootstrap:[c.AppComponent],imports:t.AppImports})],m),t.AppModule=m},41:function(e,t,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(e){return null==e||0===e.length}function o(e){return n.i(f.a)(e)?e:l.toPromise.call(e)}function i(e,t){return t.map(function(t){return t(e)})}function a(e,t){return t.map(function(t){return t(e)})}function c(e){var t=e.reduce(function(e,t){return n.i(p.c)(t)?u.a.merge(e,t):e},{});return 0===Object.keys(t).length?null:t}var s=n(1),l=n(346),u=(n.n(l),n(295)),p=n(73),f=n(297);n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return y});var d=new s.OpaqueToken("NgValidators"),h=new s.OpaqueToken("NgAsyncValidators"),y=function(){function e(){}return e.required=function(e){return r(e.value)?{required:!0}:null},e.requiredTrue=function(e){return e.value===!0?null:{required:!0}},e.minLength=function(e){return function(t){if(r(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){if(!t)return e.nullValidator;var n,o;return"string"==typeof t?(o="^"+t+"$",n=new RegExp(o)):(o=t.toString(),n=t),function(e){if(r(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:o,actualValue:t}}}},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(p.c);return 0==t.length?null:function(e){return c(i(e,t))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(p.c);return 0==t.length?null:function(e){var n=a(e,t).map(o);return Promise.all(n).then(c)}},e}()},45:function(e,t,n){"use strict";var r=n(194);n.d(t,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return o(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(r.a)},458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(462);n.d(t,"AbstractControlDirective",function(){return r.a}),n.d(t,"AbstractFormGroupDirective",function(){return r.b}),n.d(t,"CheckboxControlValueAccessor",function(){return r.c}),n.d(t,"ControlContainer",function(){return r.d}),n.d(t,"NG_VALUE_ACCESSOR",function(){return r.e}),n.d(t,"DefaultValueAccessor",function(){return r.f}),n.d(t,"NgControl",function(){return r.g}),n.d(t,"NgControlStatus",function(){return r.h}),n.d(t,"NgControlStatusGroup",function(){return r.i}),n.d(t,"NgForm",function(){return r.j}),n.d(t,"NgModel",function(){return r.k}),n.d(t,"NgModelGroup",function(){return r.l}),n.d(t,"RadioControlValueAccessor",function(){return r.m}),n.d(t,"FormControlDirective",function(){return r.n}),n.d(t,"FormControlName",function(){return r.o}),n.d(t,"FormGroupDirective",function(){return r.p}),n.d(t,"FormArrayName",function(){return r.q}),n.d(t,"FormGroupName",function(){return r.r}),n.d(t,"NgSelectOption",function(){return r.s}),n.d(t,"SelectControlValueAccessor",function(){return r.t}),n.d(t,"SelectMultipleControlValueAccessor",function(){return r.u}),n.d(t,"CheckboxRequiredValidator",function(){return r.v}),n.d(t,"MaxLengthValidator",function(){return r.w}),n.d(t,"MinLengthValidator",function(){return r.x}),n.d(t,"PatternValidator",function(){return r.y}),n.d(t,"RequiredValidator",function(){return r.z}),n.d(t,"FormBuilder",function(){return r.A}),n.d(t,"AbstractControl",function(){return r.B}),n.d(t,"FormArray",function(){return r.C}),n.d(t,"FormControl",function(){return r.D}),n.d(t,"FormGroup",function(){return r.E}),n.d(t,"NG_ASYNC_VALIDATORS",function(){return r.F}),n.d(t,"NG_VALIDATORS",function(){return r.G}),n.d(t,"Validators",function(){return r.H}),n.d(t,"VERSION",function(){return r.I}),n.d(t,"FormsModule",function(){return r.J}),n.d(t,"ReactiveFormsModule",function(){return r.K})},459:function(e,t,n){"use strict";var r=n(1),o=n(133),i=n(134),a=n(195),c=n(95),s=n(196),l=n(135),u=n(197),p=n(96),f=n(198),d=n(199),h=n(200),y=n(97),g=n(98),m=n(137),v=n(138),_=n(294);n(64);n.d(t,"a",function(){return S}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return k});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var b=[m.a,v.b,i.a,u.a,f.a,o.a,m.b,v.a,p.a,a.a,a.b,_.e,_.c,_.b,_.d,_.a],S=[s.a,l.a,c.a],C=[d.a,y.a,h.a,g.b,g.a],k=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:b,exports:b}]}],e.ctorParameters=function(){return[]},e}()},460:function(e,t,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(e){return e.validate?function(t){return e.validate(t)}:e}function o(e){return e.validate?function(t){return e.validate(t)}:e}t.a=r,t.b=o},461:function(e,t,n){"use strict";var r=n(1),o=n(459),i=n(96),a=n(296);n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:o.a,providers:[i.b],exports:[o.b,o.a]}]}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[o.c],providers:[a.a,i.b],exports:[o.b,o.c]}]}],e.ctorParameters=function(){return[]},e}()},462:function(e,t,n){"use strict";var r=n(194);n.d(t,"a",function(){return r.a});var o=n(94);n.d(t,"b",function(){return o.a});var i=n(133);n.d(t,"c",function(){return i.a});var a=n(45);n.d(t,"d",function(){return a.a});var c=n(36);n.d(t,"e",function(){return c.a});var s=n(134);n.d(t,"f",function(){return s.a});var l=n(64);n.d(t,"g",function(){return l.a});var u=n(195);n.d(t,"h",function(){return u.a}),n.d(t,"i",function(){return u.b});var p=n(95);n.d(t,"j",function(){return p.a});var f=n(196);n.d(t,"k",function(){return f.a});var d=n(135);n.d(t,"l",function(){return d.a});var h=n(96);n.d(t,"m",function(){return h.a});var y=n(199);n.d(t,"n",function(){return y.a});var g=n(200);n.d(t,"o",function(){return g.a});var m=n(97);n.d(t,"p",function(){return m.a});var v=n(98);n.d(t,"q",function(){return v.a}),n.d(t,"r",function(){return v.b});var _=n(137);n.d(t,"s",function(){return _.a}),n.d(t,"t",function(){return _.b});var b=n(138);n.d(t,"u",function(){return b.a});var S=n(294);n.d(t,"v",function(){return S.a}),n.d(t,"w",function(){return S.b}),n.d(t,"x",function(){return S.c}),n.d(t,"y",function(){return S.d}),n.d(t,"z",function(){return S.e});var C=n(296);n.d(t,"A",function(){return C.a});var k=n(139);n.d(t,"B",function(){return k.a}),n.d(t,"C",function(){return k.b}),n.d(t,"D",function(){return k.c}),n.d(t,"E",function(){return k.d});var w=n(41);n.d(t,"F",function(){return w.a}),n.d(t,"G",function(){return w.b}),n.d(t,"H",function(){return w.c});var x=n(463);n.d(t,"I",function(){return x.a});var A=n(461);n.d(t,"J",function(){return A.a}),n.d(t,"K",function(){return A.b})},463:function(e,t,n){"use strict";var r=n(1);n.d(t,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=new r.Version("2.4.2")},47:function(e,t){e.exports={sprites:{large:{cardWidth:216,cardHeight:301,cardOffsetH:-44,cardOffsetV:-49},medium:{cardWidth:88.8,cardHeight:123.8,cardOffsetH:-17,cardOffsetV:-18}},foundations:{brick:{id:40,title:"Brick",count:6,role:3,x:0,y:1,asset:"card-sprite2"},concrete:{id:41,title:"Concrete",count:6,role:0,x:3,y:0},marble:{id:42,title:"Marble",count:6,role:5,x:0,y:3,asset:"card-sprite2"},rubble:{id:43,title:"Rubble",count:6,role:2,x:1,y:1,asset:"card-sprite2"},stone:{id:44,title:"Stone",count:6,role:4,x:0,y:2,asset:"card-sprite2"},wood:{id:45,title:"Wood",count:6,role:1,x:0,y:0,asset:"card-sprite2"}},workerType:{architect:0,craftsman:1,laborer:2,legionary:3,merchant:4,patron:5,jack:6},effectType:{endRound:0,endTurn:1,passive:0,resolveAction:0,winCondition:0},jack:{title:"Jack",count:6,role:6,desc:"Lead or follow any role",x:5,y:0},cards:[{id:0,title:"Academy",value:2,count:3,role:3,timing:"",desc:"May perform one THINKER action after turn during which you performed CRAFTSMAN action",type:"Additional Action",x:0,y:2},{id:1,title:"Amphitheatre",value:2,count:3,role:0,timing:"Upon Completion",desc:"May perform one CRAFTSMAN action for each INFLUENCE",type:"Additional Action (Influence)",x:6,y:4},{id:2,title:"Aqueduct",value:2,count:3,role:0,timing:"In Addition",desc:"When performing PATRON action may take client from HAND.  Maximum CLIENTELE x 2",type:"Increase Limit",x:5,y:4},{id:3,title:"Archway",value:2,count:3,role:3,timing:"",desc:"When performing ARCHITECT action may take material from POOL",type:"Change Source",x:6,y:3},{id:4,title:"Atrium",value:2,count:3,role:3,timing:"",desc:"When performing MERCHANT action may take from DECK (do not look at card)",type:"Change Source",x:5,y:3},{id:5,title:"Bar",value:1,count:6,role:2,timing:"",desc:"When performing PATRON action may take card from DECK",type:"Change Source",x:0,y:1},{id:6,title:"Basilica",value:3,count:3,role:5,timing:"In Addition",desc:"When performing MERCHANT action may take material from HAND",type:"Change Source",x:4,y:6},{id:7,title:"Bath",value:2,count:3,role:3,timing:"",desc:"When performing PATRON action each client you hire may perform its action once as it enters CLIENTELE",type:"Additional Action",x:4,y:3},{id:8,title:"Bridge",value:2,count:3,role:0,timing:"In Addition",desc:"When performing LEGIONARY action may take material from STOCKPILE.  Ignore Palisades.  May take from all opponents",type:"Change source",x:4,y:4},{id:9,title:"Catacomb",value:3,count:3,role:4,timing:"Upon Completion",desc:"Game ends immediately.  Score as usual",type:"End Game",x:5,y:5},{id:10,title:"Circus",value:1,count:6,role:1,timing:"",desc:"May play two cards of same role as JACK",type:"Wildcards",x:0,y:5,asset:"card-sprite2"},{id:11,title:"Circus Maximus",value:3,count:3,role:4,timing:"",desc:"Each client may perform its action twice when you lead or follow its role",type:"Additional Action",x:4,y:5},{id:12,title:"Coliseum",value:3,count:3,role:4,timing:"In Addition",desc:"When performing LEGIONARY action may take opponent's client and place in VAULT as material",type:"Change Destination",x:0,y:6,asset:"card-sprite2"},{id:13,title:"Dock",value:1,count:6,role:1,timing:"In Addition",desc:"When performing LABORER action may take material from HAND",type:"Change Source",x:0,y:0},{id:14,title:"Forum",value:3,count:3,role:5,timing:"",desc:"One client of each role wins game",type:"Winner",x:4,y:7,asset:"card-sprite2"},{id:15,title:"Foundry",value:2,count:3,role:3,timing:"Upon Completion",desc:"May perform one LABORER action for each INFLUENCE",type:"Additional Action (Influence)",x:3,y:3},{id:16,title:"Fountain",value:3,count:3,role:5,timing:"",desc:"When performing CRAFTSMAN action may use cards from DECK.  Retain any unused cards in HAND",type:"Change Source",x:2,y:6},{id:17,title:"Garden",value:3,count:3,role:4,timing:"Upon Completion",desc:"May perform one PATRON action for each INFLUENCE",type:"Additional Action (Influence)",x:2,y:5},{id:18,title:"Gate",value:2,count:3,role:3,timing:"",desc:"Incomplete MARBLE structures provide FUNCTION",type:"Building Shortcut",x:2,y:3},{id:19,title:"Insula",value:1,count:6,role:2,timing:"",desc:"Maximum CLIENTELE + 2",type:"Increase Limit",x:5,y:2},{id:20,title:"Latrine",value:1,count:6,role:2,timing:"",desc:"Before performing THINKER action may discard one card to POOL",type:"Discard",x:3,y:2},{id:21,title:"Ludus Magna",value:3,count:3,role:5,timing:"",desc:"Each MERCHANT client counts as any role",type:"Wildcards",x:1,y:6},{id:22,title:"Market",value:1,count:6,role:1,timing:"",desc:"Maximum VAULT + 2",type:"Increase Limit",x:5,y:1},{id:23,title:"Palace",value:3,count:3,role:5,timing:"",desc:"May play multiple cards of same role in order to perform additional actions",type:"Additional Action",x:0,y:6},{id:24,title:"Palisade",value:1,count:6,role:1,timing:"",desc:"Immune to LEGIONARY",type:"Immunity",x:2,y:1},{id:25,title:"Prison",value:3,count:3,role:4,timing:"Upon Completion",desc:"May exchange INFLUENCE for opponent's completed structure",type:"Influence Exchange",x:1,y:5},{id:26,title:"Road",value:1,count:6,role:2,timing:"",desc:"When adding to STONE structure may use any material",type:"Building Shortcut",x:1,y:2},{id:27,title:"School",value:2,count:3,role:3,timing:"Upon Completion",desc:"May perform one THINKER action for each INFLUENCE",type:"Additional Action (Influence)",x:1,y:3},{id:28,title:"Scriptorium",value:3,count:3,role:4,timing:"",desc:"May use one MARBLE material to complete any structure",type:"Building Shortcut",x:6,y:6},{id:29,title:"Senate",value:2,count:3,role:0,timing:"",desc:"May take opponent's JACK into HAND at end of turn in which it is played",type:"Change Destination",x:3,y:6,asset:"card-sprite2"},{id:30,title:"Sewer",value:3,count:3,role:4,timing:"",desc:"May place Orders cards used to lead or follow into STOCKPILE at end of turn",type:"Change Destination",x:5,y:6},{id:31,title:"Shrine",value:2,count:3,role:3,timing:"",desc:"Maximum HAND +2",type:"Increase Limit",x:0,y:3},{id:32,title:"Stairway",value:3,count:3,role:5,timing:"",desc:"When performing ARCHITECT action may add material to opponent's completed STRUCTURE to make function available to all players",type:"Building Shortcut",x:6,y:7},{id:33,title:"Statue",value:3,count:3,role:5,timing:"",desc:"+3 VP. May place Statue on any SITE",type:"Victory Points",x:5,y:7},{id:34,title:"Storeroom",value:2,count:3,role:0,timing:"",desc:"All clients count as LABORERS",type:"Wildcards",x:2,y:4},{id:35,title:"Temple",value:3,count:3,role:5,timing:"",desc:"Maximum HAND + 4",type:"Increase Limit",x:4,y:7},{id:36,title:"Tower",value:2,count:3,role:0,timing:"",desc:"May use RUBBLE in any STRUCTURE.  May lay foundation onto any out of town SITE at no extra cost",type:"Building Shortcut",x:1,y:4},{id:37,title:"Villa",value:3,count:3,role:4,timing:"Early Completion",desc:"When performing ARCHITECT action may complete Villa with one material",type:"Building Shortcut",x:0,y:5},{id:38,title:"Vomitorium",value:2,count:3,role:0,timing:"",desc:"Before performing THINKER action may discard all cards to POOL",type:"Discard",x:0,y:4},{id:39,title:"Wall",value:2,count:3,role:0,timing:"",desc:"Immune to LEGIONARY. +1 VP for every two materials in STOCKPILE",type:"Immunity/Victory Points",x:6,y:5}]}},496:function(e,t){function n(e,t,n){function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}var i=!1;return n=n||r,o.count=e,0===e?t():o}function r(){}e.exports=n},497:function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,c=0;a<n;a++,c++)i[c]=o[a];return i.buffer}},498:function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},499:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,c=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(c--,"="===e[e.length-2]&&c--);var u=new ArrayBuffer(c),p=new Uint8Array(u);for(t=0;t<s;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],p[l++]=r<<2|o>>4,p[l++]=(15&o)<<4|i>>2,p[l++]=(3&i)<<6|63&a;return u}}()},500:function(e,t,n){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),c=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),s=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return a?c?t.Blob:o:s?r:void 0}()}).call(t,n(9))},515:function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},518:function(e,t,n){e.exports=n(519)},519:function(e,t,n){e.exports=n(520),e.exports.parser=n(76)},520:function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=u(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var o="object"==typeof t&&t;o.global===o&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=n(322),a=n(216),c=n(146)("engine.io-client:socket"),s=n(326),l=n(76),u=n(329),p=n(542),f=n(217);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=n(214),r.transports=n(322),r.parser=n(76),r.prototype.createTransport=function(e){c('creating transport "%s"',e);var t=o(this.query);return t.EIO=l.protocol,t.transport=e,this.id&&(t.sid=this.id),new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){c("setting transport %s",e.name);var t=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;p=p||t}p||(c('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!p)if("pong"===t.type&&"probe"===t.data){if(c('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"===u.name,c('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){p||"closed"!==f.readyState&&(c("changing transport and sending upgrade packet"),l(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{c('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,f.emit("upgradeError",n)}}))}function n(){p||(p=!0,l(),u.close(),u=null)}function o(t){var r=new Error("probe error: "+t);r.transport=u.name,n(),c('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",r)}function i(){o("transport closed")}function a(){o("socket closed")}function s(e){u&&e.name!==u.name&&(c('"%s" works - aborting "%s"',e.name,u.name),n())}function l(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",i),f.removeListener("close",a),f.removeListener("upgrading",s)}c('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),p=!1,f=this;r.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",i),this.once("close",a),this.once("upgrading",s),u.open()},r.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else c('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),c("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){c("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,n(9))},521:function(e,t,n){(function(t){function r(){}function o(e){i.call(this,e),this.query=this.query||{},c||(t.___eio||(t.___eio=[]),c=t.___eio),this.index=c.length;var n=this;c.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var i=n(323),a=n(145);e.exports=o;var c,s=/\n/g,l=/\\n/g;a(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,a=document.createElement("form"),c=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),c.name="d",a.appendChild(c),document.body.appendChild(a),this.form=a,this.area=c}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,n(9))},522:function(e,t,n){(function(t){function r(){}function o(e){if(s.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var c=n(215),s=n(323),l=n(216),u=n(145),p=n(146)("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=i,u(o,s),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},o.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},l(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new c(e),r=this;try{p("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},p("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}t.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}t.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,i=n.length;o<i;o++)r.push(n[o]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,n(9))},523:function(e,t,n){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=p&&!e.forceNode,this.usingBrowserWebSocket||(f=o),i.call(this,e)}var o,i=n(214),a=n(76),c=n(217),s=n(145),l=n(371),u=n(146)("engine.io-client:websocket"),p=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{o=n(878)}catch(e){}var f=p;f||"undefined"!=typeof window||(f=o),e.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(e):new f(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=e.length,i=0,c=o;i<c;i++)!function(e){a.encodePacket(e,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate){("string"==typeof i?t.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(a.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,a)}catch(e){u("websocket closed before onclose event")}--o||n()})}(e[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=c.encode(e),e.length&&(e="?"+e),t+"://"+(this.hostname.indexOf(":")!==-1?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}}).call(t,n(9))},524:function(e,t,n){function r(){return t.colors[u++%t.colors.length]}function o(e){function n(){}function o(){var e=o,n=+new Date,i=n-(l||n);e.diff=i,e.prev=l,e.curr=n,l=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var o=t.formatters[r];if("function"==typeof o){var i=a[s];n=o.call(e,i),a.splice(s,1),s--}return n}),a=t.formatArgs.apply(e,a),(o.log||t.log||console.log.bind(console)).apply(e,a)}n.enabled=!1,o.enabled=!0;var i=t.enabled(e)?o:n;return i.namespace=e,i}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function c(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=c,t.humanize=n(328),t.names=[],t.skips=[],t.formatters={};var l,u=0},525:function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},534:function(e,t,n){e.exports=n.p+"8f0ce7316a3678947509a08114a81e8d.png"},535:function(e,t,n){e.exports=n.p+"71abbfb327166c8dc72019d95646765e.jpg"},536:function(e,t,n){e.exports=n.p+"817c121904b2a44fdcacc4904f2dcf1e.jpg"},537:function(e,t,n){e.exports=n.p+"d5bd67916391ec2723bf7c8cd4258f86.jpg"},538:function(e,t,n){e.exports=n.p+"d9fc9cde1b1544c0a9e06ef113f996f3.jpg"},539:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},540:function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},541:function(e,t,n){(function(e,r){var o;(function(){function i(e,t){function n(e){if(n[e]!==g)return n[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=n("json-stringify")&&n("json-parse");else{var a,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&_;if(u){(a=function(){return 1}).toJSON=a;try{u="0"===l(0)&&"0"===l(new r)&&'""'==l(new o)&&l(v)===g&&l(g)===g&&l()===g&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,v,null])&&l({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new s(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new s(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new s(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new s(-1))}catch(e){u=!1}}i=u}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){a=p(c);var f=5==a.a.length&&1===a.a[0];if(f){try{f=!p('"\t"')}catch(e){}if(f)try{f=1!==p("01")}catch(e){}if(f)try{f=1!==p("1.")}catch(e){}}}}catch(e){f=!1}i=f}}return n[e]=!!i}e||(e=l.Object()),t||(t=l.Object());var r=e.Number||l.Number,o=e.String||l.String,a=e.Object||l.Object,s=e.Date||l.Date,u=e.SyntaxError||l.SyntaxError,p=e.TypeError||l.TypeError,f=e.Math||l.Math,d=e.JSON||l.JSON;"object"==typeof d&&d&&(t.stringify=d.stringify,t.parse=d.parse);var h,y,g,m=a.prototype,v=m.toString,_=new s(-0xc782b5b800cec);try{_=_.getUTCFullYear()==-109252&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(e){}if(!n("json")){var b="[object Function]",S="[object Date]",C="[object Number]",k="[object String]",w="[object Array]",x="[object Boolean]",A=n("bug-string-char-index");if(!_)var P=f.floor,j=[0,31,59,90,120,151,181,212,243,273,304,334],T=function(e,t){return j[t]+365*(e-1970)+P((e-1969+(t=+(t>1)))/4)-P((e-1901+t)/100)+P((e-1601+t)/400)};if((h=m.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),y=function(e,t){var n,r,o,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)h.call(r,o)&&i++;return n=r=null,i?y=2==i?function(e,t){var n,r={},o=v.call(e)==b;for(n in e)o&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,o=v.call(e)==b;for(n in e)o&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(e,t){var n,o,i=v.call(e)==b,a=!i&&"function"!=typeof e.constructor&&c[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)i&&"prototype"==n||!a.call(e,n)||t(n);for(o=r.length;n=r[--o];a.call(e,n)&&t(n));}),y(e,t)},!n("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",O=function(e,t){return(I+(t||0)).slice(-e)},M="\\u00",R=function(e){for(var t='"',n=0,r=e.length,o=!A||r>10,i=o&&(A?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[a];break;default:if(a<32){t+=M+O(2,a.toString(16));break}t+=o?i[n]:e.charAt(n)}}return t+'"'},F=function(e,t,n,r,o,i,a){var c,s,l,u,f,d,m,_,b,A,j,E,I,M,B,D;try{c=t[e]}catch(e){}if("object"==typeof c&&c)if((s=v.call(c))!=S||h.call(c,"toJSON"))"function"==typeof c.toJSON&&(s!=C&&s!=k&&s!=w||h.call(c,"toJSON"))&&(c=c.toJSON(e));else if(c>-1/0&&c<1/0){if(T){for(f=P(c/864e5),l=P(f/365.2425)+1970-1;T(l+1,0)<=f;l++);for(u=P((f-T(l,0))/30.42);T(l,u+1)<=f;u++);f=1+f-T(l,u),d=(c%864e5+864e5)%864e5,m=P(d/36e5)%24,_=P(d/6e4)%60,b=P(d/1e3)%60,A=d%1e3}else l=c.getUTCFullYear(),u=c.getUTCMonth(),f=c.getUTCDate(),m=c.getUTCHours(),_=c.getUTCMinutes(),b=c.getUTCSeconds(),A=c.getUTCMilliseconds();c=(l<=0||l>=1e4?(l<0?"-":"+")+O(6,l<0?-l:l):O(4,l))+"-"+O(2,u+1)+"-"+O(2,f)+"T"+O(2,m)+":"+O(2,_)+":"+O(2,b)+"."+O(3,A)+"Z"}else c=null;if(n&&(c=n.call(t,e,c)),null===c)return"null";if((s=v.call(c))==x)return""+c;if(s==C)return c>-1/0&&c<1/0?""+c:"null";if(s==k)return R(""+c);if("object"==typeof c){for(M=a.length;M--;)if(a[M]===c)throw p();if(a.push(c),j=[],B=i,i+=o,s==w){for(I=0,M=c.length;I<M;I++)E=F(I,c,n,r,o,i,a),j.push(E===g?"null":E);D=j.length?o?"[\n"+i+j.join(",\n"+i)+"\n"+B+"]":"["+j.join(",")+"]":"[]"}else y(r||c,function(e){var t=F(e,c,n,r,o,i,a);t!==g&&j.push(R(e)+":"+(o?" ":"")+t)}),D=j.length?o?"{\n"+i+j.join(",\n"+i)+"\n"+B+"}":"{"+j.join(",")+"}":"{}";return a.pop(),D}};t.stringify=function(e,t,n){var r,o,i,a;if(c[typeof t]&&t)if((a=v.call(t))==b)o=t;else if(a==w){i={};for(var s,l=0,u=t.length;l<u;s=t[l++],((a=v.call(s))==k||a==C)&&(i[s]=1));}if(n)if((a=v.call(n))==C){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==k&&(r=n.length<=10?n:n.slice(0,10));return F("",(s={},s[""]=e,s),o,i,r,"",[])}}if(!n("json-parse")){var B,D,N=o.fromCharCode,V={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw B=D=null,u()},W=function(){for(var e,t,n,r,o,i=D,a=i.length;B<a;)switch(o=i.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=A?i.charAt(B):i[B],B++,e;case 34:for(e="@",B++;B<a;)if((o=i.charCodeAt(B))<32)L();else if(92==o)switch(o=i.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=V[o],B++;break;case 117:for(t=++B,n=B+4;B<n;B++)(o=i.charCodeAt(B))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||L();e+=N("0x"+i.slice(t,B));break;default:L()}else{if(34==o)break;for(o=i.charCodeAt(B),t=B;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++B);e+=i.slice(t,B)}if(34==i.charCodeAt(B))return B++,e;L();default:if(t=B,45==o&&(r=!0,o=i.charCodeAt(++B)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(B+1))>=48&&o<=57&&L(),r=!1;B<a&&(o=i.charCodeAt(B))>=48&&o<=57;B++);if(46==i.charCodeAt(B)){for(n=++B;n<a&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==B&&L(),B=n}if(101==(o=i.charCodeAt(B))||69==o){for(o=i.charCodeAt(++B),43!=o&&45!=o||B++,n=B;n<a&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==B&&L(),B=n}return+i.slice(t,B)}if(r&&L(),"true"==i.slice(B,B+4))return B+=4,!0;if("false"==i.slice(B,B+5))return B+=5,!1;if("null"==i.slice(B,B+4))return B+=4,null;L()}return"$"},z=function(e){var t,n;if("$"==e&&L(),"string"==typeof e){if("@"==(A?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=W());n||(n=!0))n&&(","==e?"]"==(e=W())&&L():L()),","==e&&L(),t.push(z(e));return t}if("{"==e){for(t={};"}"!=(e=W());n||(n=!0))n&&(","==e?"}"==(e=W())&&L():L()),","!=e&&"string"==typeof e&&"@"==(A?e.charAt(0):e[0])&&":"==W()||L(),t[e.slice(1)]=z(W());return t}L()}return e},G=function(e,t,n){var r=U(e,t,n);r===g?delete e[t]:e[t]=r},U=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if(v.call(o)==w)for(r=o.length;r--;)G(o,r,n);else y(o,function(e){G(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return B=0,D=""+e,n=z(W()),"$"!=W()&&L(),B=D=null,t&&v.call(t)==b?U((r={},r[""]=n,r),"",t):n}}}return t.runInContext=i,t}var a=n(876),c={function:!0,object:!0},s=c[typeof t]&&t&&!t.nodeType&&t,l=c[typeof window]&&window||this,u=s&&c[typeof e]&&e&&!e.nodeType&&"object"==typeof r&&r;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(l=u),s&&!a)i(l,s);else{var p=l.JSON,f=l.JSON3,d=!1,h=i(l,l.JSON3={noConflict:function(){return d||(d=!0,l.JSON=p,l.JSON3=f,p=f=null),h}});l.JSON={parse:h.parse,stringify:h.stringify}}a&&void 0!==(o=function(){return h}.call(t,n,t,e))&&(e.exports=o)}).call(this)}).call(t,n(235)(e),n(9))},542:function(e,t,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,c=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(c,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(t,n(9))},543:function(e,t){e.exports="body {\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    position: absolute;\n}\n.app-container {\n    height: 100%;\n    position: relative;\n    overflow: hidden;\n}\n\n.left-container, .right-container {\n    float: left;\n    height: 100%;\n    width: 50%;\n}\n\n.left-container, .right-container {\n    padding: 5px;\n}\n.inner-left-container, .inner-right-container {\n    height: 100%;\n\n    display: flex;\n    flex-flow: row;\n}\n.inner-left-container {\n    padding: 10px;\n    flex-flow: column;\n}\n.inner-right-container {\n    border: 2px solid black;\n}\n\n.middle-container {\n    flex: 1;\n    position: relative;\n}\n\n.action-card-container {\n    position: absolute;\n    top: 25px;\n    left: 12px;\n}\n\n.player-template-container {\n    flex: 1;\n}\n\n.section-container {\n    height: 100%;\n    padding-left: 10px;\n    float: left;\n}\n\n.card-detail-container {\n    overflow: hidden;\n}\n\n.game-ended-container {\n    height: 50%;\n    width: 40%;\n\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n\n    background: white;\n    border: 3px solid black;\n    position: absolute;\n    z-index: 10;\n\n    display: flex;\n    flex-flow: column;\n}\n\n.game-end-header {\n    font-size: 25px;\n    background-color: black;\n    color: white;\n    font-weight: bold;\n    text-align: center;\n    padding: 5px 0px;\n}\n\n.game-over-content-container {\n    flex: 1;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    padding: 15px 0px;\n}\n\n.game-over-content {\n    display: flex;\n}\n\n.game-over-player {\n    width: 200px;\n    border: 1px solid black;\n    margin-right: 5px;\n}\n.player-name {\n    width: 100%;\n    font-size: 20px;\n    font-weight: bold;\n    text-align: center;\n}\n\n.stat-row {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    display: flex;\n}\n.stat-header {\n    flex: 2;\n    font-weight: bold;\n    padding-left: 5px;\n}\n.game-stat {\n    flex: 1;\n    text-align: center;\n}"},544:function(e,t){e.exports='<lobby-component *ngIf="!gameStarted"></lobby-component>\n<div class="app-container" *ngIf="gameStarted">\n    <div class="left-container">\n        <div class="inner-left-container">\n            <div class="board-container">\n                <board-component></board-component>\n            </div>\n            <div class="middle-container">\n            </div>\n            <div class="hand-container">\n                <hand-component></hand-component>\n            </div>\n        </div>\n    </div>\n    <div class="right-container">\n        <div class="inner-right-container">\n            <div class="player-template-container">\n                <player-template></player-template>\n            </div>\n            <div class="card-detail-container">\n                <card-detail></card-detail>\n            </div>\n        </div>\n    </div>\n    <div class="game-ended-container" *ngIf="gameEnded">\n        <div class="game-end-header">Game Over</div>\n        <div class="game-over-content-container">\n            <div class="game-over-content">\n                <div class="game-over-player"\n                    *ngFor="let res of endGameResult; let i = $index">\n\n                    <div class="stat-row">\n                        <div class="player-name">{{res.playerState.player.name}}</div>\n                    </div>\n\n                    <div class="stat-row">\n                        <div class="stat-header">Building Influence:</div>\n                        <div class="game-stat">{{res.buildingInfluence}}</div>\n                    </div>\n\n                    <div class="stat-row">\n                        <div class="stat-header">Vault:</div>\n                        <div class="game-stat">{{res.vault}}</div>\n                    </div>\n\n                    <div class="stat-row">\n                        <div class="stat-header">Vault Bonus:</div>\n                        <div class="game-stat">{{res.vaultBonus}}</div>\n                    </div>\n\n                    <div class="stat-row">\n                        <div class="stat-header">Statue Bonus:</div>\n                        <div class="game-stat">{{res.statueBonus}}</div>\n                    </div>\n\n                    <div class="stat-row">\n                        <div class="stat-header">Wall Bonus:</div>\n                        <div class="game-stat">{{res.wallBonus}}</div>\n                    </div>\n\n                    <div class="stat-row">\n                        <div class="stat-header">Total:</div>\n                        <div class="game-stat">{{res.total}}</div>\n                    </div>\n\n                </div>\n            </div>\n        <div>\n    </div>\n</div>'},545:function(e,t){e.exports=".num-actions {\n    width: 25px;\n    height: 25px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 5px;\n    background-color: black;\n    color: white;\n    font-weight: bold;\n    text-align: center;\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 2px solid white;\n}\n\n.action-card-container {\n    position: relative;\n}\n\n.extra-action {\n    width: 100%;\n    color: white;\n    padding: 2px;\n    background-color: black;\n    font-size: 12px;\n    right: 0px;\n    bottom: 5px;\n    position: absolute;\n    text-align: center;\n    font-weight: bold;\n}"},546:function(e,t){e.exports='<div class="action-card-container">\n    <card-image [card]="_playerInfoService.getPlayerState().actionCard" [size]="size" [invert]="true"></card-image>\n    <div *ngIf="_playerService.activeActionItem && _playerService.activeActionItem.numActions > 0" class="num-actions">\n        {{_playerService.activeActionItem.numActions}}\n    </div>\n\n    <div *ngIf="_playerService.activeActionItem && _playerService.actionStack.length > 1 && !_playerService.resolvingCard" class="extra-action">\n        <div *ngFor="let actionItem of _playerService.actionStack; let i = index">\n            <div *ngIf="i != (_playerService.actionStack.length - 1)">\n                {{actionItem.numActions}} {{_gameService.getNameOfAction(actionItem.action).toUpperCase()}}\n            </div>\n        </div>\n    </div>\n\n</div>'},547:function(e,t){e.exports="\n.board-container {\n    height: 300px;\n    width: 100%;\n\n    padding: 5px;\n\n    display: flex;\n    flex-flow: column;\n}\n\n.other-players {\n    min-height: 140px;\n    \n    display: flex;\n    flex-flow: column;\n}\n\n.player-detail-container {\n    flex: 1;\n    display: flex;\n}\n\n.player-name {\n    font-weight: bold;\n    min-width: 120px;\n}\n\n.action-section {\n    width: 120px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.detail-section {\n    flex: 1;\n\n    display: flex;\n    flex-flow: column;\n}\n\n.top-row,\n.bottom-row {\n    flex: 1;\n    display: flex;\n}\n\n.under-construction-section,\n.completed-section,\n.stockpile-section,\n.clientelles-section,\n.stairway-section {\n    min-width: 100px;\n\n    padding: 5px;\n\n    display: flex;\n    flex-flow: column;\n}\n\n.stairway-section,\n.stockpile-section,\n.clientelles-section {\n    flex: 3;\n}\n\n\n.completed-section,\n.under-construction-section {\n    flex: 5;\n}\n\n\n.other-players,\n.action-section,\n.header-border-section,\n\n.stockpile-section,\n.under-construction-section,\n.completed-section,\n.clientelles-section,\n.stairway-section {\n    border: 1px solid black;\n}\n\n.header-border-section {\n    display: flex;\n    padding: 10px;\n}\n\n.title-section {\n    text-align: center;\n}\n\n.card-content {\n    flex: 1;\n    padding: 5px;\n    min-height: 50px;\n    max-height: 90px;\n\n    overflow: hidden;\n    position: relative;\n}\n\n.dialogue {\n    flex: 1;\n}\n\n.vault,\n.influence {\n    width: 100px;\n}\n\n.hand {\n    width: 120px;\n}"},548:function(e,t){e.exports='<div class="board-container">\n    <div *ngFor="let pState of _gameService.gameState.playerStates">\n\n        <div class="other-players"\n             *ngIf="pState.player.id !== _playerInfoService.player.id">\n            <div class="header-section">\n                <div class="header-border-section">\n                    <div class="player-name">{{pState.player.name}}</div>\n\n                    <div class="dialogue">\n                        {{setDialogue()}}\n                    </div>\n\n                    <div class="hand">\n                        <i class="fa fa-hand-paper-o"></i>\n                        <span>Hand ({{pState.maxHandSize}}): {{pState.cardsInHand}}</span>\n                    </div>\n\n                    <div class="vault">\n                        <i class="fa fa-lock"></i>\n                        <span>Vault ({{pState.maxVault}}): {{pState.vault.length}}</span>\n                    </div>\n\n                    <div class="influnce">\n                        <i class="fa fa-star"></i>\n                        <span>Influence: {{pState.influence}}</span>\n                    </div>\n\n                </div>\n            </div>\n            <div class="player-detail-container">\n                <div class="action-section">\n                    <card-image [card]="pState.actionCard"\n                                [size]="size"\n                                [invert]="true">\n                    </card-image>\n                </div>\n                <div class="detail-section">\n\n                    <div class="top-row">\n\n                        <div class="under-construction-section">\n                            <div class="card-content" #underCoGroup>\n                                <div *ngFor="let underCo of pState.underConstruction; let i = index">\n                                    <card-image [card]="underCo.building"\n                                                [size]="size"\n                                                [cardGroup]="underCoGroup"\n                                                [cardGroupIndex]="i"\n                                                [cardGroupLength]="pState.underConstruction.length">\n                                    </card-image>\n                                </div>\n                            </div>\n                            <div class="title-section">\n                                <i class="fa fa-gavel"></i>\n                                <span>Under Construction</span>\n                            </div>\n                        </div>\n\n                        <div class="completed-section">\n                            <div class="card-content" #completedGroup>\n                                <div *ngFor="let comp of pState.completed; let i = index"\n                                     class="opponent-completed"\n                                     (click)="completedBuildingClicked(pState, comp)">\n                                    <card-image *ngIf="!comp.stairway"\n                                                [card]="comp.building"\n                                                [size]="size"\n                                                [interactable]="completedCanInteract(comp)"\n\n                                                [cardGroup]="completedGroup"\n                                                [cardGroupIndex]="i"\n                                                [cardGroupLength]="completedLength(pState.completed)">\n                                    </card-image>\n                                </div>\n                            </div>\n                            <div class="title-section">\n                                <i class="fa fa-university"></i>\n                                <span>Completed</span>\n                            </div>\n                        </div>\n\n                        <div class="stairway-section" *ngIf="hasPublicBuilding(pState)">\n                            <div class="card-content" #stairway>\n                                <div *ngFor="let stair of pState.completed; let i = index">\n                                    <card-image class="public-building"\n                                                *ngIf="stair.stairway"\n                                                [card]="stair.building"\n                                                [size]="size"\n\n                                                [cardGroup]="stairway"\n                                                [cardGroupIndex]="i"\n                                                [cardGroupLength]="stairwayLength(pState.completed)">\n                                    </card-image>\n                                </div>\n                            </div>\n\n                            <div class="title-section">\n                                <i class="fa fa-align-justify"></i>\n                                <span>Public</span>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div class="bottom-row">\n                        \n                        <div class="clientelles-section">\n                            <div class="card-content" #clientelles>\n                                <div *ngFor="let client of pState.clientelles; let i = index">\n                                    <card-image [card]="client"\n                                                [size]="size"\n\n                                                [cardGroup]="clientelles"\n                                                [cardGroupIndex]="i"\n                                                [cardGroupLength]="pState.clientelles.length">\n                                    </card-image>\n                                </div>\n                            </div>\n                            <div class="title-section">\n                                <i class="fa fa-users"></i>\n                                <span>Clientelles ({{pState.maxClientelles}})</span>\n                            </div>\n                        </div>\n\n                        <div class="stockpile-section">\n                            <div class="card-content" #stockpile>\n                                <div *ngFor="let stock of pState.stockpile; let i = index">\n                                    <card-image [card]="stock"\n                                                [size]="size"\n\n                                                [cardGroup]="stockpile"\n                                                [cardGroupIndex]="i"\n                                                [cardGroupLength]="pState.stockpile.length">\n                                    </card-image>\n                                </div>\n                            </div>\n                            <div class="title-section">\n                                <i class="fa fa-bars"></i>\n                                <span>Stockpile</span>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},549:function(e,t){e.exports='<div class="card"\n    [@hover]="_hoverState"\n    (click)="cardClicked()"\n    >\n    <card-image [card]="card"\n                [size]="size"\n                [interactable]="modeEnable()">\n    </card-image>\n    <div class="jack-menu-container"\n        [hidden]="!jackMenuVisible()"\n        [style.height]="height"\n        [style.width]="width">\n        <jack-menu-component (optionClicked)="optionClicked($event)"></jack-menu-component>\n    </div>\n</div>'},55:function(e,t,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(e,t){return t.path.concat([e])}function o(e,t){e||s(t,"Cannot find control with"),t.valueAccessor||s(t,"No value accessor for form control with"),e.validator=y.c.compose([e.validator,t.validator]),e.asyncValidator=y.c.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(n){t.viewToModelUpdate(n),e.markAsDirty(),e.setValue(n,{emitModelToViewChange:!1})}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()}),e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function i(e,t){t.valueAccessor.registerOnChange(function(){return c(t)}),t.valueAccessor.registerOnTouched(function(){return c(t)}),t._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}function a(e,t){n.i(h.f)(e)&&s(t,"Cannot find control with"),e.validator=y.c.compose([e.validator,t.validator]),e.asyncValidator=y.c.composeAsync([e.asyncValidator,t.asyncValidator])}function c(e){return s(e,"There is no FormControl instance attached to form control element with")}function s(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function l(e){return n.i(h.c)(e)?y.c.compose(e.map(v.a)):null}function u(e){return n.i(h.c)(e)?y.c.composeAsync(e.map(v.b)):null}function p(e,t){if(!e.hasOwnProperty("model"))return!1;var r=e.model;return!!r.isFirstChange()||!n.i(h.b)(t,r.currentValue)}function f(e){return w.some(function(t){return e.constructor===t})}function d(e,t){if(!t)return null;var n,r,o;return t.forEach(function(t){t.constructor===m.a?n=t:f(t)?(r&&s(e,"More than one built-in value accessor matches form control with"),r=t):(o&&s(e,"More than one custom value accessor matches form control with"),o=t)}),o?o:r?r:n?n:(s(e,"No valid value accessor for form control with"),null)}var h=n(73),y=n(41),g=n(133),m=n(134),v=n(460),_=n(197),b=n(96),S=n(198),C=n(137),k=n(138);t.c=r,t.d=o,t.f=i,t.e=a,t.a=l,t.b=u,t.h=p,t.g=d;var w=[g.a,S.a,_.a,C.b,k.a,b.a]},550:function(e,t){e.exports=".card-detail-container {\n    width: 250px;\n    height: 100%;\n    padding: 10px;\n\n    display: flex;\n    flex-flow: column;\n}\n\n.card-image-container{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.card-desc {\n    border: 2px solid black;\n}\n\n.card-desc-label {\n    margin: 10px;\n}\n\n.card-desc {\n    min-height: 50px;\n    padding: 5px;\n}\n\n.message-section {\n    flex: 1;\n}\n.foundation-section {\n    height: 160px;\n}"},551:function(e,t){e.exports='<div class="card-detail-container">\n    <div class="card-image-section">\n        <div class="card-image-container">\n            <card-image [card]="card" [size]="size"></card-image>\n        </div>\n    </div>\n    <div class="card-desc-section">\n        <div class="card-desc-label"><b>Description</b></div>\n        <div class="card-desc">\n            <span>{{card.desc}}</span>\n        </div>\n    </div>\n    <div class="message-section">\n        <message-component></message-component>\n    </div>\n    <div class="user-stats-section">\n        <user-stats-component></user-stats-component>\n    </div>\n</div>'},552:function(e,t){e.exports=".button-container {\n    margin-bottom: 5px;\n    height: 35px;\n\n    font-size: 12px;\n}\n.control-buttons-container,\n.follow-container {\n    height: 100%;\n    width: 100%;\n    position: relative;\n\n    cursor: pointer;\n    display: flex;\n}\n\n.outer-three-card-jack-container {\n    height: 100%;\n    margin-right: 10px;\n\n    flex: 1;\n    position: relative;\n}\n.three-card-jack-container {\n    height: 100%;\n\n    color: white;\n\n    border-radius: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.jack-button-menu {\n    height: 115px;\n    width: 100%;\n\n    background-color: white;\n    border: 2px solid black;\n\n    padding: 5px;\n    position: absolute;\n    transform: translate(0%, -105%);\n}\n\n.think-button-container,\n.jack-button-container,\n.follow-button-container,\n.no-container {\n    height: 100%;\n    margin-right: 5px;\n\n    flex: 1;\n    position: relative;\n\n    border-radius: 5px;\n    background-color: brown;\n    color: white;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.think-button-container:hover,\n.jack-button-container:hover,\n.three-card-jack-container:hover,\n.follow-button-container:hover,\n.no-container:hover {\n    transform: scale(1.05);\n}\n\n.jack-button-container {\n    background-color: black;\n}\n.follow-button-container {\n    background-color: darkgreen;\n}\n.three-card-jack-container {\n    background-color: darkgoldenrod;\n}\n\n.no-container {\n    background-color: peachpuff;\n}\n\n\n.think-text, .jack-text, .follow-text, .three-jack-text {\n    \n    padding: 0px 5px;\n    text-align: center;\n    display: table-cell;\n    vertical-align: middle;\n}\n\n.three-jack-text {\n    margin-left: 10px;\n}\n\n.disabled {\n    opacity: 0.5;\n    cursor: auto;\n}\n.disabled:hover {\n    transform: none;\n}\n.border-container,\n.follow-border-container {\n    width: 95%;\n    height: 76%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    position: absolute;\n    border-radius: 5px;\n    border: 1px solid white;\n}\n\n.follow-border-container {\n    width: 98%;\n}\n\n.icon {\n    left: 10px;\n    top: 50%;\n    transform: translate(0%, -50%);\n    font-size: 16px;\n    position: absolute;\n}\n.think-icon {\n    left: 20px;\n    top: 45%;\n    transform: translate(0%, -50%);\n    font-size: 16px;\n    position: absolute;\n}\n.jack-num,\n.yes-icon,\n.no-icon {\n    height: 15px;\n    width: 15px;\n\n    position: absolute;\n    border-radius: 2px;\n    background-color: white;\n    color: black;\n\n    font-weight: bold;\n    font-size: 12px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.jack-num {\n    transform: translate(-50%, -50%);\n    top: 50%;\n    right: 3px;\n}\n.yes-icon {\n    cursor: pointer;\n    left: 25px;\n}\n.no-icon {\n    cursor: pointer;\n    left: 55px;\n}\n.yes-icon:hover,\n.no-icon:hover {\n    transform: scale(1.2);\n}"},553:function(e,t){e.exports='<div class="button-container">\n\n    <div class="control-buttons-container">\n        <div class="think-button-container" *ngIf="showThink()" [class.disabled]="!enableThink()" (click)="think()">\n            <div class="border-container"></div>\n            <i class="fa fa-comment think-icon"></i>\n            <div class="think-text">THINK</div>\n        </div>\n\n        <div class="jack-button-container" *ngIf="showJack()" [class.disabled]="!enableJack()" (click)="drawJack()">\n            <div class="border-container"></div>\n            <i class="fa fa-question-circle-o icon"></i>\n            <div class="jack-text">DRAW JACK</div>\n            <div class="jack-num">{{_gameService.gameState.jacks}}</div>\n        </div>\n\n        <div class="outer-three-card-jack-container" *ngIf="showThreeJack()">\n            <div class="jack-button-menu" *ngIf="jackMenuVisible">\n                <jack-menu-component (optionClicked)="optionClicked($event)"></jack-menu-component>\n            </div>\n            <div class="three-card-jack-container"\n                 [class.disabled]="!enableThreeJack()"\n                 (click)="playCardsAsJack()">\n\n                <div class="border-container"></div>\n                <i class="fa fa-male icon"></i>\n                <div class="three-jack-text">PLAY {{_playerService.cardsToPlayJack}} AS JACK</div>\n            </div>\n        </div>\n\n        <div class="follow-button-container"\n             *ngIf="showFollow()"\n             [class.disabled]="!enableFollow()"\n             (click)="follow()">\n                <div class="follow-border-container"></div>\n                <i class="fa fa-male icon"></i>\n                <div class="follow-text">FOLLOW</div>\n        </div>\n    </div>\n</div>'},554:function(e,t){e.exports=".foundation-container {\n    height: 100%;\n    margin: 5px;\n}\n.foundation-card {\n    margin-bottom: 5px;\n    position: relative;\n}\n.in-town-count, .out-town-count {\n    width: 15px;\n    height: 15px;\n    border-radius: 5px;\n    font-size: 12px;\n\n    top: 55%;\n    right: 40%;\n\n    background-color: black;\n    color: white;\n\n    font-weight: bold;\n    text-align: center;\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.out-can-interact {\n\n}"},555:function(e,t){e.exports=".hand-screen {\n    height: 150px;\n    width: 100%;\n    position: relative;\n}\n\n.card-in-hand {\n    position: absolute;\n}"},556:function(e,t){e.exports='<div class="hand-screen" #handContainer>\n    <div\n        class="card-in-hand"\n        *ngFor="let card of _playerService.handCards; let i = index"\n        [ngStyle]="cardPosition(i)">\n            <card-component [card]="card"></card-component>\n    </div>\n</div>'},557:function(e,t){e.exports=".lobby-container {\n    height: 100%;\n\n    display: flex;\n    flex-flow: column;\n}\n\n.logo-banner-container {\n    height: 200px;\n    margin-top: 40px;\n\n    background-color: black;\n\n    flex: 0 1 auto;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.logo-img {\n    height: 140%;\n}\n\n.game-content-container {\n    flex: 1 1 auto;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n}\n\n.active-game-list-container {\n    height: 100%;\n    width: 750px;\n    padding: 15px;\n    position: absolute;\n}\n\n.active-game-list {\n    height: 100%;\n    border: 2px solid black;\n    display: flex;\n}\n\n.ag-left-column {\n    padding: 10px;\n    flex: 4;\n    border-right: 2px solid black;\n}\n\n.ag-right-column {\n    padding: 10px;\n    flex: 8;\n}\n\n.name-input {\n    width: 100%;\n    height: 40px;\n    font-size: 20px;\n    padding: 10px;\n    border: none;\n}\n\n.right-input-icon {\n    font-size: 20px;\n    top: 50%;\n    transform: translate(0%, -50%);\n    right: 10px;\n    position: absolute;\n}\n\n.player-name-title,\n.create-game-title {\n    margin-bottom: 3px;\n    font-weight: bold;\n}\n\n.create-game-title {\n    margin-top: 10px;\n    font-weight: bold;\n}\n\n.create-game-container {\n    padding: 10px;\n}\n\n.no-players-container {\n    display: flex;\n}\n\n.players-create-left {\n    flex: 4;\n}\n\n.players-create-right {\n    flex: 6;\n    display: flex;\n}\n\n.player-choice {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.player-choice-button,\n.player-choice-button-selected {\n    height: 20px;\n    width: 20px;\n    border-radius: 3px;\n\n    text-align: center;\n    cursor: pointer;\n}\n.player-choice-button:hover,\n.player-choice-button-selected:hover {\n    transform: scale(1.1);\n}\n\n.player-choice-button {\n    border: 1px solid black;\n}\n.player-choice-button-selected {\n    background-color: black;\n    color: white;\n}\n\n.create-game-button {\n    height: 50px;\n    width: 100%;\n    margin-top: 20px;\n    border-radius: 5px;\n    background-color: black;\n    cursor: pointer;\n    position: relative;\n}\n\n.create-game-button:hover {\n    transform: scale(1.05);\n}\n\n.button-border,\n.join-game-border {\n    width: 95%;\n    height: 75%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    position: absolute;\n    border-radius: 5px;\n    border: 1px solid white;\n}\n\n.join-game-border {\n    width: 91%;\n    height: 75%;\n}\n\n.button-text,\n.join-game-text,\n.exit-game-text {\n    color: white;\n    font-size: 16px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n.room-container {\n    height: 80px;\n    border: 1px solid black;\n    display: flex;\n}\n\n.room-controls {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.join-room {\n    height: 30px;\n    width: 75px;\n    border-radius: 5px;\n    background-color: black;\n    cursor: pointer;\n    position: relative;\n}\n\n.room-is-full {\n    height: 30px;\n    width: 50px;\n    border: 2px solid black;\n    position: relative;\n\n    display: flex;\n    align-items: center;\n}\n\n.room-full-text {\n    color: black;\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n}\n\n.join-room:hover {\n    transform: scale(1.05);\n}\n\n.join-game-text,\n.exit-game-text {\n    color: white;\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n}\n\n.exit-game-text {\n    font-size: 10px;\n}\n\n.left-players,\n.right-players {\n    height: 100%;\n\n    flex: 1;\n\n    display: flex;\n    flex-flow: column;\n\n    padding-left: 15px;\n}\n\n.room-player {\n    font-size: 18px;\n    flex: 1;\n\n    display: flex;\n    align-items: center;\n}\n\n.room-player-name {\n    margin-left: 15px;\n}"},558:function(e,t){e.exports='<div class="lobby-container">\n\n    <div class="logo-banner-container">\n        <img class="logo-img" [src]="logoURL">\n    </div>\n\n    <div class="game-content-container">\n        <div class="active-game-list-container">\n            <div class="active-game-list">\n\n                <div class="ag-left-column">\n\n                    <div class="player-name-title">\n                        Player Name\n                    </div>\n\n                    <div class="name-container"\n                         style="position:relative"\n                         (mouseover)="nameInputHover()"\n                         (mouseleave)="nameInputLeave()">\n                        <input  class="name-input"\n                                type="text"\n                                placeholder="Enter Player Name..."\n                                maxlength="15"\n                                [(ngModel)]="_playerInfoService.player.name">\n                        <i class="fa fa-pencil right-input-icon" *ngIf="nameEditIconVisible"></i>\n                    </div>\n\n                    <div class="create-game-title">\n                        Create Game\n                    </div>\n\n                    <div class="create-game-container" *ngIf="!joinedRoom">\n                        <div class="no-players-container">\n                            <div class="players-create-left">\n                                Players\n                            </div>\n                            <div class="players-create-right">\n                                <div class="player-choice"\n                                     *ngFor="let pc of playerChoices; let i = index">\n                                    <div [class.player-choice-button-selected]="pc.selected"\n                                         [class.player-choice-button]="!pc.selected"\n                                         (click)="selectNumPlayers(i)">\n                                        {{pc.players}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="create-game-button" (click)="createRoomClick()">\n                            <div class="button-border"></div>\n                            <div class="button-text">Create Game</div>\n                        </div>\n\n                    </div>\n\n                </div>\n\n                <div class="ag-right-column">\n                    <div class="room-container" *ngFor="let room of rooms">\n                        <div class="left-players">\n                            <div class="room-player">\n                                <i class="fa fa-user"></i>\n                                <span class="room-player-name">{{room.players[0].name}}</span>\n                            </div>\n                            <div class="room-player" *ngIf="room.players[1]">\n                                <i class="fa fa-user"></i>\n                                <span class="room-player-name">{{room.players[1].name}}</span>\n                            </div>\n                        </div>\n                        <div class="right-players">\n                            <div class="room-player" *ngIf="room.players[2]">\n                                <i class="fa fa-user"></i>\n                                <span class="room-player-name">{{room.players[2].name}}</span>\n                            </div>\n                            <div class="room-player" *ngIf="room.players[3]">\n                                <i class="fa fa-user"></i>\n                                <span class="room-player-name">{{room.players[3].name}}</span>\n                            </div>\n                        </div>\n                        <div class="room-controls">\n\n                            <div class="join-room"\n                                 *ngIf="!hideJoinButton(room) && room.players.length != room.numPlayers"\n                                (click)="joinGame(room)">\n                                <div class="join-game-border"></div>\n                                <div class="join-game-text">Join Game</div>\n                            </div>\n\n                            <div class="join-room"\n                                 *ngIf="_inRoom(room) && room.host.id != _playerInfoService.player.id"\n                                 (click)="leaveRoom(room)">\n                                <div class="join-game-border"></div>\n                                <div class="exit-game-text">Leave Game</div>\n                            </div>\n\n                            <div class="join-room"\n                                 *ngIf="room.numPlayers == room.players.length && room.host.id == _playerInfoService.player.id"\n                                 (click)="startGame(room)">\n                                <div class="join-game-border"></div>\n                                <div class="exit-game-text">Start Game</div>\n                            </div>\n\n                            <div class="room-is-full"\n                                 *ngIf="roomIsFull(room)">\n                                <div class="room-full-text">Full</div>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>'},559:function(e,t){e.exports=".message-outer-cont {\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n}\n\n.message-container {\n    padding: 15px 0px;\n    flex: 1;\n    position: relative;\n}\n\n.message-log {\n    position: absolute;\n    bottom: 10px;\n    right: 0px;\n    left: 0px;\n    overflow-y: scroll;\n    max-height: 90%;\n    font-size: 12px;\n}\n\n.messages {\n    bottom: 0;\n    position: absolute;\n}\n\n.message-input-container {\n    display: flex;\n    padding-bottom: 10px;\n}\n\n.message-input {\n    flex: 1;\n    font-size: 12px;\n}\n\n.message-button {\n    width: 50px;\n}\n\n.message-header {\n    font-weight: bold;\n}\n\n.message-body {\n    padding: 2px 0px;\n}\n\n.message-divider {\n    margin: 7px 0px;\n    height: 2px;\n    background-color: black;\n}"},560:function(e,t){e.exports='<div class="message-outer-cont">\n    <div class="message-container">\n        <div class="message-log" #scrollContainer>\n            <div *ngFor="let message of _messageService.messages; let i = index">\n                <div [ngSwitch]="message.type">\n                    <div class="message-body" *ngSwitchCase="eMessageType.player">\n                        <div class="message-header"\n                            *ngIf="showPlayerName(i, message)">{{message.player.name}}</div>\n                        <div *ngFor="let block of message.textBlocks">{{block.text}}</div>\n                    </div>\n\n                    <div class="message-divider" *ngSwitchCase="eMessageType.line"></div>\n\n                    <div class="message-body" *ngSwitchCase="eMessageType.custom">\n                        <span *ngFor="let block of message.textBlocks">\n                            <span *ngIf="_messageService.isType(block) === \'player\'"\n                                  style="font-weight: bold">{{block.player.name}}</span>\n                            <span *ngIf="_messageService.isType(block) === \'card\'"\n                                  [ngClass]="_cardFactoryService.getTextColor(block.card.mode)"\n                                  style="font-weight: bold">{{block.card.title}}</span>\n                            <span *ngIf="_messageService.isType(block) === \'text\'">{{block.text}}</span> </span>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="message-input-container">\n        <input class="message-input" type="text" (keypress)="enterPressed($event)" #messageInput />\n        <button class="message-button" (click)="messageClicked(messageInput)">Enter</button>\n    </div>\n</div>'},561:function(e,t){e.exports='<div class="summary-container">\n\n    <div class="stockpile-section">\n        <div class="summary-title">Stockpile</div>\n        <div class="summary-list">\n            <div\n                *ngFor="let card of _playerService.stockpile"\n                (mouseover)="onTitleHover(card)">\n                <role-block-component [role]="uCon.building.role"></role-block-component>\n                <span>{{card.title}}</span>\n            </div>\n        </div>\n    </div>\n\n    <div class="under-construction-section">\n        <div class="summary-title">Under Const.</div>\n        <div class="summary-list">\n            <div\n                *ngFor="let uCon of _playerService.underConstruction"\n                (mouseover)="onTitleHover(uCon.building)">\n                <role-block-component [role]="uCon.building.role"></role-block-component>\n                <span>{{uCon.building.title}}</span>\n            </div>\n        </div>\n    </div>\n\n    <div class="completed-section">\n        <div class="summary-title">Completed</div>\n        <div class="summary-list">\n            <div \n                *ngFor="let card of _playerService.completedBuildings"\n                (mouseover)="onTitleHover(card)">\n                <role-block-component [role]="card.role"></role-block-component>\n                <span>{{card.title}}</span>\n            </div>\n        </div>\n    </div>\n\n</div>'},562:function(e,t){e.exports='<div class="under-construction-container" #underConstructionContainer>\n\n    <div *ngFor="let foundation of _playerInfoService.getPlayerState().underConstruction; let i = index">\n        <div\n            class="under-construction-card-container"\n            [ngStyle]="cardStyle(i)"\n            (click)="buildingClicked(foundation)">\n                <div class="behind-container">\n                    <div *ngFor="let material of foundation.materials; let j = index">\n                        <card-image \n                                    class="material-container"\n                                    [card]="material"\n                                    [size]="size"\n                                    [ngStyle]="materialStyle(i, j)">\n                        </card-image>\n                    </div>\n                </div>\n                <div class="front-container" >\n                    <card-image\n                        class="foundation-building"\n                        [card]="foundation.building"\n                        [size]="size"\n                        [interactable]="checkInteraction(foundation)"></card-image>\n                    <card-image\n                        class="site-card"\n                        *ngIf="foundation.site"\n                        [card]="foundation.site"\n                        [size]="size"></card-image>\n                </div>\n        </div>\n    \n        <card-image\n            *ngIf="foundation.building.phantom"\n            [card]="foundation.building"\n            [size]="size">\n        </card-image>\n    </div>\n    \n</div>'},563:function(e,t){e.exports='<div class="player-template-container">\n\n    <div class="board-section">\n\n        <!-- MESSAGE SECTION -->\n        <div class="message-section">\n            <div class="message-prompt">\n                <div class="player-lead" *ngIf="isPlayersLead()">Your <b>LEAD</b></div>\n                <div class="player-turn" *ngIf="isPlayersTurn()">Your <b>ACTION</b></div>\n            </div>\n            <div class="action-card-message" *ngIf="actionMessageEnabled()">\n                <span class="action-card-message-text">Done with actions?</span>\n                <button class="action-end-button"\n                        type="button"\n                        (click)="actionMessageClicked()">Yes</button>\n            </div>\n            <div class="message-content" *ngIf="!romeIsDemanding()">\n                <div class="message-text">{{message()}}</div>\n                <div class="message-action" *ngIf="message()" style="margin:5px;">\n                    <button class="yes-button"\n                            type="button"\n                            *ngIf="yesVisible()"\n                            (click)="yesClicked()">Yes</button>\n                    <button class="no-button" type="button" *ngIf="noVisible()" (click)="noClicked()">No</button>\n                </div>\n                <div class="additional-message-text" style="margin:10px;">{{additionalActionMessage()}}</div>\n                <div *ngIf="additionalActionMessage()" style="margin:5px;">\n                    <button class="additional-yes-button"\n                            type="button"\n                            *ngIf="additionalYesVisible()"\n                            (click)="yesClicked()">Yes</button>\n                </div>\n\n                <div class="fountain-container" *ngIf="_playerService.activeActionTrigger === 16">\n                    <div class="fountain-card"\n                            (click)="fountainClicked()"\n                            (mouseover)="onMouseOver()"\n                            (mouseleave)="onMouseLeave()">\n                        <card-image [card]="_playerService.fountainCard" [size]="size" [interactable]="fountainInteraction()"></card-image>\n                    </div>\n                    <div class="fountain-message">\n                        <div class="fountain-text">Add to hand?</div>\n                        <button class="yes-button" type="button" (click)="fountainYes()" style="margin-top:10px">Yes</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="rome-demands-content" *ngIf="romeIsDemanding()">\n                <div class="rome-demands-container" #romeDemands>\n                    <div class="rome-demands-left">\n                        <div>Rome Demands...</div>\n                        <div *ngFor="let rDemands of _gameService.gameState.romeDemands; let i = index">\n                            <card-image [card]="rDemands"\n                                        [size]="size"\n\n                                        [cardGroup]="romeDemands"\n                                        [cardGroupIndex]="i"\n                                        [cardGroupLength]="_gameService.gameState.romeDemands.length">\n                            </card-image>\n                        </div>\n                    </div>\n                    <div class="rome-demands-right">\n                        <button *ngIf="gtrEnable()" class="gtr-button" type="button" (click)="gloryToRome()">Glory to ROME!!</button>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n\n        <!-- CLIENTELLE SECTION -->\n        <div class="clientelle-sub-section">\n            <clientelle-component></clientelle-component>\n        </div>\n\n        <!-- ACTION CARD SECTION -->\n        <div class="board-sub-section">\n            <div class="action-label">Action</div>\n            <action-card-component></action-card-component>\n        </div>\n        \n    </div>\n\n    <div class="pool-section">\n        <div class="pool-label"><i class="fa fa-trash"></i>Pool</div>\n        <div class="pool-body">\n            <pool-component></pool-component>\n        </div>\n    </div>\n\n    <div class="control-section">\n        <control-component></control-component>\n    </div>\n\n    <div class="detail-tab-section">\n        <detail-tab></detail-tab>\n    </div>\n</div>'},564:function(e,t){e.exports="\n.player-template-container {\n    height: 100%;\n    width: 100%;\n\n    padding: 10px;\n\n    display: flex;\n    flex-flow: column;\n\n    overflow: hidden;\n}\n\n.section-label {\n    font-weight: bold;\n}\n\n.stockpile-section,\n.under-construction-section,\n.completed-section {\n    display: flex;\n    flex-flow: column;\n}\n\n.stockpile-card-section,\n.clientelle-card-section,\n.vault-card-section,\n.under-construction-card-section {\n    flex: 1;\n}\n\n.under-construction-section,\n.completed-section,\n.stockpile-section,\n.client-section\n {\n    flex: 1;\n    min-height: 80px;\n}\n\n.completed-section {\n    height: 12%;\n}\n\n.stockpile-section {\n    height: 22%;\n}\n\n.vault-section,\n.clientelle-section {\n    height: 100%;\n    width: 50%;\n    float: left;\n}\n\n.board-section {\n    display: flex;\n    min-height: 150px;\n}\n\n.board-sub-section {\n    position: relative;\n    margin-left: 5px;\n}\n.message-section {\n    width: 170px;\n    flex: 1;\n    display: flex;\n    flex-flow: column;\n}\n.message-content {\n    flex: 1;\n\n    font-size: 13px;\n    font-weight: bold;\n    text-align: center;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n}\n\n.clientelle-sub-section {\n    position: relative;\n    margin-left: 10px;\n}\n\n.deck-section {\n    position: relative;\n}\n\n.pool-label,\n.deck-label,\n.action-label,\n.clientelle-label {\n    font-weight: bold;\n    padding-bottom: 3px;\n}\n\n.pool-section {\n    display: flex;\n    flex-flow: column;\n\n    padding-top: 10px;\n    position: relative;\n\n    min-height: 80px;\n}\n\n.pool-body {\n    height: 135px;\n}\n\n.detail-tab-section {\n    flex: 1;\n}\n\n.pool-section,\n.control-section,\n.detail-tab-section {\n    background-color: white;\n}\n\n.control-section {\n    padding-top: 10px;\n    background-color: white;\n    z-index: 1;\n}\n\n.detail-tab-section {\n    z-index: 2;\n}\n\ni {\n    margin-right: 10px;\n}\n\n.rome-demands-content {\n    height: 100%;\n}\n.rome-demands-container {\n    margin-bottom: 5px;\n    font-weight: bold;\n    position: relative;\n    height: 100%;\n\n    display: flex;\n}\n\n.fountain-container {\n    display: flex;\n}\n\n.fountain-message {\n    text-align: center;\n    padding: 15px;\n    \n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.action-card-message-text {\n    text-align: center;\n    font-weight: bold;\n    margin-right: 5px;\n}\n\n.message-prompt {\n    text-align: center;\n    font-size: 16px;\n    color: red;\n}\n\n.rome-demands-left {\n    flex: 1;\n}\n.rome-demands-right {\n    flex: 1;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"},565:function(e,t){e.exports="\n.pool-card-container {\n    position: absolute;\n    cursor: pointer;\n}"},566:function(e,t){e.exports='<div *ngFor="let card of _gameService.gameState.pool; let i = index">\n    <div\n        class="pool-card-container"\n        (click)="cardClicked(card)"\n        [ngStyle]="cardStyle(i)"\n        (mouseover)="onMouseOver(card)"\n        (mouseleave)="onMouseLeave(card)">\n        <card-image [card]="card" [size]="size" [interactable]="cardCanInteract(card)"></card-image>\n    </div>\n</div>'},64:function(e,t,n){"use strict";function r(){throw new Error("unimplemented")}var o=n(194);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){e.apply(this,arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}return i(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return r()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return r()},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){},t}(o.a)},72:function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(0));n.n(o);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return i(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var o,i=function(e){return null},a=function(){return null};return t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(i=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),e.prototype.subscribe.call(this,o,i,a)},t}(r.Subject)},73:function(e,t,n){"use strict";(function(e){function n(e){return null!=e}function r(e){return null==e}function o(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function i(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function a(){if(!l)if(s.Symbol&&Symbol.iterator)l=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(l=n)}return l}function c(e){return!i(e)}t.c=n,t.f=r,t.b=o,t.d=i,t.e=a,t.a=c;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s;s="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window,s.assert=function(e){};var l=(Object.getPrototypeOf({}),function(){function e(){}e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e}(),null)}).call(t,n(9))},76:function(e,t,n){(function(e){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=v[e.type];for(var c=0;c<i.length;c++)a[c+1]=i[c];return r(a.buffer)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,t.encodePacket(e,n,!0,r)},o.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(m)return i(e,n,r);var o=new Uint8Array(1);return o[0]=v[e.type],r(new S([o.buffer,e.data]))}function c(e){try{e=h.decode(e)}catch(e){return!1}return e}function s(e,t,n){for(var r=new Array(e.length),o=d(e.length,n),i=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},a=0;a<e.length;a++)i(a,e[a],o)}var l,u=n(525),p=n(325),f=n(497),d=n(496),h=n(877);e&&e.ArrayBuffer&&(l=n(499));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=y||g;t.protocol=3;var v=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=u(v),b={type:"error",data:"parser error"},S=n(500);t.encodePacket=function(t,n,i,c){"function"==typeof n&&(c=n,n=!1),"function"==typeof i&&(c=i,i=null);var s=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&s instanceof ArrayBuffer)return o(t,n,c);if(S&&s instanceof e.Blob)return a(t,n,c);if(s&&s.base64)return r(t,c);var l=v[t.type];return void 0!==t.data&&(l+=i?h.encode(String(t.data)):String(t.data)),c(""+l)},t.encodeBase64Packet=function(n,r){var o="b"+t.packets[n.type];if(S&&n.data instanceof e.Blob){var i=new FileReader;return i.onload=function(){r(o+i.result.split(",")[1])},i.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var c=new Uint8Array(n.data),s=new Array(c.length),l=0;l<c.length;l++)s[l]=c[l];a=String.fromCharCode.apply(null,s)}return o+=e.btoa(a),r(o)},t.decodePacket=function(e,n,r){if(void 0===e)return b;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&(e=c(e))===!1)return b;var o=e.charAt(0);return Number(o)==o&&_[o]?e.length>1?{type:_[o],data:e.substring(1)}:{type:_[o]}:b}var i=new Uint8Array(e),o=i[0],a=f(e,1);return S&&"blob"===n&&(a=new S([a])),{type:_[o],data:a}},t.decodeBase64Packet=function(e,t){var n=_[e.charAt(0)];if(!l)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=l.decode(e.substr(1));return"blob"===t&&S&&(r=new S([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function o(e){return e.length+":"+e}function i(e,r){t.encodePacket(e,!!a&&n,!0,function(e){r(null,o(e))})}"function"==typeof n&&(r=n,n=null);var a=p(e);return n&&a?S&&!m?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,i,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var o;if(""==e)return r(b,0,1);for(var i,a,c="",s=0,l=e.length;s<l;s++){var u=e.charAt(s);if(":"!=u)c+=u;else{if(""==c||c!=(i=Number(c)))return r(b,0,1);if(a=e.substr(s+1,i),c!=a.length)return r(b,0,1);if(a.length){if(o=t.decodePacket(a,n,!0),b.type==o.type&&b.data==o.data)return r(b,0,1);if(!1===r(o,s+i,l))return}s+=i,c=""}}return""!=c?r(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}if(!e.length)return n(new ArrayBuffer(0));s(e,r,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;for(var c=n.byteLength.toString(),a=0;a<c.length;a++)o[i++]=parseInt(c[a]);o[i++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),n(o.buffer)})},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,a=i.toString(),c=new Uint8Array(a.length+1),o=0;o<a.length;o++)c[o]=parseInt(a[o]);if(c[a.length]=255,S){n(null,new S([t.buffer,c.buffer,e]))}})}s(e,r,function(e,t){return n(new S(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[],a=!1;o.byteLength>0;){for(var c=new Uint8Array(o),s=0===c[0],l="",u=1;255!=c[u];u++){if(l.length>310){a=!0;break}l+=c[u]}if(a)return r(b,0,1);o=f(o,2+l.length),l=parseInt(l);var p=f(o,0,l);if(s)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var d=new Uint8Array(p);p="";for(var u=0;u<d.length;u++)p+=String.fromCharCode(d[u])}i.push(p),o=f(o,l)}var h=i.length;i.forEach(function(e,o){r(t.decodePacket(e,n,!0),o,h)})}}).call(t,n(9))},80:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a,c=n(15),s=n(1),l=n(236),u=n(28),p=n(16),f=n(26),d=n(10);!function(e){e[e.player=0]="player",e[e.line=1]="line",e[e.custom=2]="custom"}(a=t.eMessageType||(t.eMessageType={}));var h=function(){function e(e,t,n){var r=this;this._cardFactoryService=e,this._socketService=t,this._playerInfoService=n,this.messages=[],this.rerenderScrollSubject=new l.Subject,t.onReceiveMessage().subscribe(function(e){r.messages.push(e),r.rerenderScrollSubject.next()}),t.onPlayerChat().subscribe(function(e){r.messages[r.messages.length-1].textBlocks.push({text:e}),r.rerenderScrollSubject.next()})}return e.prototype.isType=function(e){return e.card?"card":e.player?"player":e.text?"text":void 0},e.prototype.addMessage=function(e){this.messages.push(e),this._socketService.sendMessage(e),this.rerenderScrollSubject.next()},e.prototype.addCustomMessage=function(e){var t={type:a.custom,textBlocks:e};this.addMessage(t)},e.prototype.addPlayerMessage=function(e){var t=this.messages[this.messages.length-1];if(this.messages.length>0&&t.player&&t.player.id===this._playerInfoService.player.id)t.textBlocks.push({text:e}),this._socketService.sendPlayerChat(e),this.rerenderScrollSubject.next();else{var n={type:a.player,player:this._playerInfoService.player,textBlocks:[{text:e}]};this.addMessage(n)}},e.prototype.addLeadMessage=function(e){var t=e.role===d.eWorkerType.jack?"(jack)":"",n={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"leads with"},{card:{title:this._cardFactoryService.getRoleFromType(e.role===d.eWorkerType.jack?e.mode:e.role).toUpperCase(),mode:e.mode}},{text:t}]};this.addMessage(n)},e.prototype.addTextMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:e}]};this.addMessage(t)},e.prototype.addUnderConstructionMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"lays a foundation for"},{card:{title:e.title.toUpperCase(),mode:e.mode}}]};this.addMessage(t)},e.prototype.addMaterialMessage=function(e,t){var n={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"added"},{card:{title:e.title.toUpperCase(),mode:e.mode}},{text:"as material to"},{card:{title:t.title.toUpperCase(),mode:t.mode}}]};this.addMessage(n)},e.prototype.addCompletedMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"completed"},{card:{title:e.title.toUpperCase(),mode:e.mode}}]};this.addMessage(t)},e.prototype.addClientelleMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"adds"},{card:{title:this._cardFactoryService.getRoleFromType(e.mode).toUpperCase(),mode:e.mode}},{text:"into clientelles"}]};this.addMessage(t)},e.prototype.addStockpileMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"adds"},{card:{title:this._cardFactoryService.mapMaterialName(e.mode).toUpperCase(),mode:e.mode}},{text:"to stockpile"}]};this.addMessage(t)},e.prototype.romeDemandsMessage=function(e){var t=this,n={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"demands"}].concat(c.map(e,function(e){return{card:{title:t._cardFactoryService.mapMaterialName(e.mode).toUpperCase(),mode:e.mode}}}))};this.addMessage(n)},e.prototype.discardMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"discards"}].concat(c.map(e,function(e){return{card:{title:e.title.toUpperCase(),mode:e.mode}}}),[{text:"into pool"}])};this.addMessage(t)},e.prototype.petitionMessage=function(e){var t={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"petitions"}].concat(c.map(e,function(e){return{card:{title:e.title.toUpperCase(),mode:e.mode}}}))};this.addMessage(t)},e.prototype.gloryToRomeMessage=function(){var e={type:a.custom,textBlocks:[{player:this._playerInfoService.player},{text:"shouts GLORY TO ROME!"}]};this.addMessage(e)},e.prototype.addLine=function(){var e={type:a.line};this.messages.push(e)},e.prototype.onRerenderScroll=function(){return this.rerenderScrollSubject.asObservable()},e}();h=r([s.Injectable(),i(0,s.Inject(u.CardFactoryService)),i(1,s.Inject(f.SocketService)),i(2,s.Inject(p.PlayerInfoService)),o("design:paramtypes",[u.CardFactoryService,f.SocketService,p.PlayerInfoService])],h),t.MessageService=h},832:function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),a=r.source,u=r.id,p=r.path,f=l[u]&&p in l[u].nsps,d=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return d?(s("ignoring socket cache for %s",a),n=c(a,t)):(l[u]||(s("new io instance for %s",a),l[u]=c(a,t)),n=l[u]),r.query&&!t.query?t.query=r.query:t&&"object"==typeof t.query&&(t.query=o(t.query)),n.socket(r.path,t)}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var i=n(833),a=n(232),c=n(358),s=n(156)("socket.io-client");e.exports=t=r;var l=t.managers={};t.protocol=a.protocol,t.connect=r,t.Manager=n(358),t.Socket=n(360)},833:function(e,t,n){(function(t){function r(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),r=o(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=r.host.indexOf(":")!==-1,c=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port,r.href=r.protocol+"://"+c+(n&&n.port===r.port?"":":"+r.port),r}var o=n(329),i=n(156)("socket.io-client:url");e.exports=r}).call(t,n(9))},834:function(e,t,n){function r(){return t.colors[u++%t.colors.length]}function o(e){function n(){}function o(){var e=o,n=+new Date,i=n-(l||n);e.diff=i,e.prev=l,e.curr=n,l=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var o=t.formatters[r];if("function"==typeof o){var i=a[s];n=o.call(e,i),a.splice(s,1),s--}return n}),a=t.formatArgs.apply(e,a),(o.log||t.log||console.log.bind(console)).apply(e,a)}n.enabled=!1,o.enabled=!0;var i=t.enabled(e)?o:n;return i.namespace=e,i}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function c(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=c,t.humanize=n(328),t.names=[],t.skips=[],t.formatters={};var l,u=0},835:function(e,t,n){(function(e){var r=n(838),o=n(362);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var a=new Array(e.length),c=0;c<e.length;c++)a[c]=t(e[c]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var s in e)a[s]=t(e[s]);return a}return e}var n=[],i=e.data,a=e;return a.data=t(i),a.attachments=n.length,{packet:a,buffers:n}},t.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){return t[e.num]}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var i in e)e[i]=n(e[i]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function i(t,s,l){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var u=new FileReader;u.onload=function(){l?l[s]=this.result:c=this.result,--a||n(c)},u.readAsArrayBuffer(t)}else if(r(t))for(var p=0;p<t.length;p++)i(t[p],p,t);else if(t&&"object"==typeof t&&!o(t))for(var f in t)i(t[f],f,t)}var a=0,c=t;i(c),a||n(c)}}).call(t,n(9))},836:function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}return e}function s(){try{return window.localStorage}catch(e){}}t=e.exports=n(837),t.log=i,t.formatArgs=o,t.save=a,t.load=c,t.useColors=r,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:s(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(c())},837:function(e,t,n){function r(){return t.colors[u++%t.colors.length]}function o(e){function n(){}function o(){var e=o,n=+new Date,i=n-(l||n);e.diff=i,e.prev=l,e.curr=n,l=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a)),(o.log||t.log||console.log.bind(console)).apply(e,a)}n.enabled=!1,o.enabled=!0;var i=t.enabled(e)?o:n;return i.namespace=e,i}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function c(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=c,t.humanize=n(839),t.names=[],t.skips=[],t.formatters={};var l,u=0},838:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},839:function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=s?Math.round(e/s)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,s,"hour")||i(e,c,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,s=60*c,l=24*s,u=365.25*l;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?o(e):r(e)}},842:function(e,t){function n(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=n},843:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(26),l=n(17),u=n(20),p=n(368),f=function(){function e(e,t,n){this._socketService=e,this._gameService=t,this._playerService=n,this.gameStarted=!1,this.gameEnded=!1,this.endGameResult=[],this._initListeners()}return e.prototype._initListeners=function(){var e=this;this._socketService.onGameStarted().subscribe(function(t){e.gameStarted=!0}),this._socketService.onGameEnded().subscribe(function(t){e._computeResults(),e.gameEnded=!0})},e.prototype._computeResults=function(){var e=this,t=this._gameService.gameState.playerStates;i.forEach(t,function(t){var n=e.sumBuildingInfluence(t.completed),r=e.sumVault(t.vault),o=e.sumVaultBonus(t),i=e.statueBonus(t),a=e.wallBonus(t),c=n+r+o+i+a;e.endGameResult.push({buildingInfluence:n,vault:r,vaultBonus:o,statueBonus:i,wallBonus:a,total:c,rank:0,playerState:t})})},e.prototype.sumBuildingInfluence=function(e){var t=this;return i.sumBy(e,function(e){return t._playerService.getInfluence(e)})},e.prototype.sumVault=function(e){var t=this;return i.sumBy(e,function(e){return t._playerService.getInfluenceByType(e.role)})},e.prototype.sumVaultBonus=function(e){for(var t=this,n=0,r=this._gameService.gameState.playerStates,o=function(o){var c=a.getNumInVault(e.vault,o);n+=i.every(r,function(e){return c>t.getNumInVault(e.vault,o)})?3:0},a=this,c=0;c<6;c++)o(c);return n},e.prototype.getNumInVault=function(e,t){return i.filter(e,function(e){return e.role==t})},e.prototype.statueBonus=function(e){return this._hasBuildingFunction(e,c.eCardEffect.statue)||i.find(e.completed,function(e){return e.building.id===c.eCardEffect.gate})&&i.find(e.underConstruction,function(e){return e.building.id===c.eCardEffect.statue})?3:0},e.prototype.wallBonus=function(e){return this._hasBuildingFunction(e,c.eCardEffect.wall)?this._computeWall(e.stockpile):0},e.prototype._hasBuildingFunction=function(e,t){return!!i.find(e.completed,function(e){return e.building.id===t})||i.find(this._gameService.gameState.publicBuildings,function(e){return e.id===t})},e.prototype._computeWall=function(e){return Math.floor(e.length/2)},e}();r([a.ViewChild(p.LobbyComponent),o("design:type",p.LobbyComponent)],f.prototype,"lobbyComponent",void 0),f=r([a.Component({selector:"my-app",template:n(544),styles:[n(543)]}),o("design:paramtypes",[s.SocketService,u.GameService,l.PlayerService])],f),t.AppComponent=f},844:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(47).sprites.large.cardWidth,s=n(47).sprites.medium.cardWidth,l=function(){function e(e,t){this.el=e,this.renderer=t,this.el.nativeElement.style.position="absolute"}return e.prototype.ngDoCheck=function(){this.calcPosition()},e.prototype.ngOnInit=function(){this.calcPosition()},e.prototype.calcPosition=function(){var e=this.cardGroupRef.clientWidth,t=this.getWidth(),n=this.el.nativeElement;if(t*this.cardGroupLength>e){var r=(e-t)/(this.cardGroupLength-1);n.style.left=r*this.cardGroupIndex+"px"}else n.style.left=t*this.cardGroupIndex+"px"},e.prototype.getWidth=function(){switch(this.size){case a.eCardSize.large:return c;case a.eCardSize.medium:return s}},e}();r([i.Input(),o("design:type",Number)],l.prototype,"cardGroupIndex",void 0),r([i.Input(),o("design:type",Number)],l.prototype,"cardGroupLength",void 0),r([i.Input(),o("design:type",Number)],l.prototype,"size",void 0),r([i.Input("cardGroup"),o("design:type",Object)],l.prototype,"cardGroupRef",void 0),l=r([i.Directive({selector:"[cardGroup]"}),o("design:paramtypes",[i.ElementRef,i.Renderer])],l),t.CardGroupDirective=l},845:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(29),l=n(157),u=n(535),p=n(536),f=n(537),d=n(538),h=n(47),y=function(){function e(e,t,n){this.differs=e,this._cardImageService=t,this._gameMechanicsService=n,this.style={},this.backgroundClass="white-background",this.classMap=["architect-option","craftsman-option","laborer-option","legionary-option","merchant-option","patron-option"],this.x=0,this.y=0,this.differ=e.find({}).create(null)}return e.prototype.isLarge=function(){return this.size===c.eCardSize.large&&!this.customSize},e.prototype.isMedium=function(){return this.size===c.eCardSize.medium&&!this.customSize},e.prototype._formatCardImage=function(){if(this.card&&this.card.title)return this.size==c.eCardSize.large?this.spriteUrl=this.card.asset?p:u:this.spriteUrl=this.card.asset?d:f,this.x=this.offsetX-this.card.x*this.width,this.y=this.offsetY-this.card.y*this.height,this.customSize&&(this.x=this.x-this.customSize.offsetX,this.y=this.y-this.customSize.offsetY),this.style={background:"url("+this.spriteUrl+") "+this.x+"px "+this.y+"px"},this.customSize&&i.extend(this.style,{height:this.customSize.height+"px",width:this.customSize.width+"px"}),void(this.card.role==c.eWorkerType.jack&&this.invert&&(i.extend(this.style,{"mix-blend-mode":"multiply",filter:"invert()"}),this.backgroundClass=this.classMap[this.card.mode]));this.style={background:"white"}},e.prototype.ngAfterContentInit=function(){switch(this.size){case c.eCardSize.large:var e=h.sprites.large;this.offsetX=e.cardOffsetH,this.offsetY=e.cardOffsetV,this.width=e.cardWidth,this.height=e.cardHeight;break;case c.eCardSize.medium:var t=h.sprites.medium;this.offsetX=t.cardOffsetH,this.offsetY=t.cardOffsetV,this.width=t.cardWidth,this.height=t.cardHeight}this._formatCardImage()},e.prototype.ngDoCheck=function(){this.differ.diff(this.card)&&this._formatCardImage()},e.prototype.ngOnChanges=function(e){this._formatCardImage()},e.prototype.cardStyle=function(){return this.style},e.prototype.onCardHover=function(e){this._cardImageService.cardHover(this.card)},e}();r([a.Input("card"),o("design:type",Object)],y.prototype,"card",void 0),r([a.Input("size"),o("design:type",Number)],y.prototype,"size",void 0),r([a.Input("interactable"),o("design:type",Object)],y.prototype,"interactable",void 0),r([a.Input("invert"),o("design:type",Object)],y.prototype,"invert",void 0),r([a.Input("customSize"),o("design:type",Object)],y.prototype,"customSize",void 0),r([a.HostListener("mouseover"),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],y.prototype,"onCardHover",null),y=r([a.Component({selector:"card-image",template:'\n        <div [ngClass]="backgroundClass">\n            <div\n                [class.card-sprite-large]="isLarge()"\n                [class.card-sprite-medium]="isMedium()"\n                class="card-sprite"\n                [ngStyle]="cardStyle()"\n                [class.interactable]="interactable && !(card && card.selected)"\n                [class.selected]="card && card.selected"\n                [style.cursor]="interactable ? \'pointer\' : \'default\'"\n                [style.opacity]="card && card.phantom ? 0.1 : \'\'">\n            </div>\n        </div>\n    ',styles:["\n        .card-sprite {\n            border: 0;\n        }\n        .card-sprite-large {\n            width: 216px;\n            height: 301px;\n            box-shadow: inset 0 0 6px 6px black;\n        }\n        .card-sprite-medium {\n            width: 89px;\n            height: 123.8px;\n            box-shadow: inset 0 0 4px 4px black;\n        }\n        .interactable {\n            box-shadow: inset 0 0 4px 4px #F89406;\n        }\n        .interactable:hover {\n            opacity: 0.8; !important;\n        }\n\n        .selected {\n            box-shadow: inset 0 0 4px 4px #22A7F0;\n        }\n\n        .white-background {\n            background-color: white;\n        }\n        .architect-option {\n            background-color: #5F5F5F;\n        }\n        .craftsman-option {\n            background-color: #1E824C;\n        }\n        .laborer-option {\n            background-color: #F5AB35;\n        }\n        .legionary-option {\n            background-color: #CF000F;\n        }\n        .merchant-option {\n            background-color: #22A7F0;\n        }\n        .patron-option {\n            background-color: #8E44AD;\n        }\n  "]}),o("design:paramtypes",[a.KeyValueDiffers,l.CardImageService,s.GameMechanicsService])],y),t.CardImageComponent=y},846:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(17),l=n(29),u=n(20),p=n(28),f=n(16),d=n(26),h=function(){function e(e,t,n,r,o,i){this._cardFactoryService=e,this._playerService=t,this._gameMechanicsService=n,this._gameService=r,this._playerInfoService=o,this._socketService=i,this.size=c.eCardSize.medium,this.jackMenuVisible=!1,this.width=this._cardFactoryService.getCardWidth(c.eCardSize.medium)+"px",this._initListeners()}return e.prototype._initListeners=function(){var e=this,t=this._gameMechanicsService,n=this._playerService;this._socketService.onAllPlayersChosen().subscribe(function(){var t=e._gameService.gameState,r=e._playerInfoService.getPlayerState();i.findLastIndex(t.playerOrder,function(t){return t.id==e._playerInfoService.player.id});if(r.action!==u.eActions.think||e._playerService.hasClientelleType(t.mode)){var o=t.mode;n.activeActionItem={numActions:0,action:o,cardEffect:null},n.activeActionItem.numActions=0,e._playerService.hasCompletedBuilding(c.eCardEffect.palace)&&(n.activeActionItem.numActions+=r.additionalActions.length),e._storeroomCondition()?n.activeActionItem.numActions+=r.clientelles.length:e._ludusMagnaCondition()&&o!=c.eWorkerType.merchant?n.activeActionItem.numActions+=n.getClientelleOfType(o).length+n.getClientelleOfType(c.eWorkerType.merchant).length:n.activeActionItem.numActions+=n.getClientelleOfType(o).length,e._playerService.hasCompletedBuilding(c.eCardEffect.circusMaximus)&&(n.activeActionItem.numActions=2*n.activeActionItem.numActions),e._playerService.actionPerformTrigger!==c.eCardEffect.bath&&r.action!==u.eActions.think&&n.activeActionItem.numActions++}}),t.onCardsPlayedAsJack().subscribe(function(t){e._gameMechanicsService.changeActiveCard(e._cardFactoryService.getJack())})},e.prototype._storeroomCondition=function(){return this._gameService.gameState.mode==c.eWorkerType.laborer&&this._playerService.hasCompletedBuilding(c.eCardEffect.storeroom)},e.prototype._ludusMagnaCondition=function(){return this._playerService.hasCompletedBuilding(c.eCardEffect.ludusMagna)},e}();h=r([a.Component({selector:"action-card-component",template:n(546),styles:[n(545)]}),o("design:paramtypes",[p.CardFactoryService,s.PlayerService,l.GameMechanicsService,u.GameService,f.PlayerInfoService,d.SocketService])],h),t.ActionCardComponent=h},847:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(20),l=n(28),u=n(16),p=n(17),f=n(26),d=function(){function e(e,t,n,r,o){this._cardFactoryService=e,this._playerInfoService=t,this._playerService=n,this._gameService=r,this._socketService=o,this.size=c.eCardSize.medium}return e.prototype.setDialogue=function(){var e=this,t=this._gameService.gameState,n=t.romeDemands;if(t.actionMode==s.eActionMode.resolveCardMode&&n.length>0&&!this._playerInfoService.isPlayersTurn){return'Rome Demands "'+i(n).map(function(t){return e._cardFactoryService.mapMaterialName(t.role)}).join(", ")+'"'}},e.prototype.hasPublicBuilding=function(e){return!!i.find(e.completed,function(e){return e.stairway})},e.prototype.completedLength=function(e){return i.filter(e,function(e){return!e.stairway}).length},e.prototype.stairwayLength=function(e){return i.filter(e,function(e){return e.stairway}).length},e.prototype.completedCanInteract=function(e){return!(!this._playerService.isInActionStack(c.eCardEffect.prison)||this._playerService.actionFinishTrigger!=c.eCardEffect.prison)||this._stairwayCondition(e)},e.prototype._stairwayCondition=function(e){return this._playerService.activeActionTrigger===c.eCardEffect.stairway&&this._playerService.hasCardTypeInStockpile(e.role)},e.prototype.completedBuildingClicked=function(e,t){var n=this._playerService;if(n.isInActionStack(c.eCardEffect.prison))return n.prisonResolved(e,t),void(n.forumCondition(this._playerInfoService.getPlayerState())?this._socketService.endGame():(n.actionStack.pop(),n.actionFinished()));n.activeActionTrigger===c.eCardEffect.stairway&&(this._playerService.completedSelectedBuilding=t===this._playerService.completedSelectedBuilding?null:t,t.building.selected=null!==this._playerService.completedSelectedBuilding)},e}();d=r([a.Component({selector:"board-component",template:n(548),styles:[n(547)]}),o("design:paramtypes",[l.CardFactoryService,u.PlayerInfoService,p.PlayerService,s.GameService,f.SocketService])],d),t.BoardComponent=d},848:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(370),l=n(233),u=n(234),p=n(369),f=n(847),d=function(){function e(){}return e}();d=r([o.NgModule({declarations:[f.BoardComponent],bootstrap:[f.BoardComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule,l.ActionCardModule,u.ControlModule,p.PlayerTemplateModule,s.PoolModule],exports:[f.BoardComponent]})],d),t.BoardModule=d},849:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(1),s=n(10),l=n(28),u=n(29),p=n(20),f=n(17),d=n(16),h=n(26),y=n(80),g=function(){function e(e,t,n,r,o,a,c){var l=this;this._cardFactoryService=e,this._gameMechanicsService=t,this._gameService=n,this._playerService=r,this._playerInfoService=o,this._socketService=a,this._messageService=c,this.size=s.eCardSize.large,this._hoverState="dormant",this.optionClicked=function(e){l.card.setMode(e),l._gameService.gameState.mode=e,l._playerService.playCard(l.card)},this.cardJustPlayed=null,this.cardClicked=function(){if(l.modeEnable())if(l.card.role!=s.eWorkerType.jack){var e=l._playerService;e.typesForJack&&!l.card.selected?(e.selectCardAsJack(l.card),l.card.selected=!0):e.typesForJack&&l.card.selected?(e.deselectCardAsJack(l.card),l.card.selected=!1):l._executeCardAction()}else l._playerService.activeActionTrigger==s.eCardEffect.latrine?(l._playerService.removeFromHand(l.card),l._gameService.addJack(),l._playerService.thinkAction()):l.card.role===s.eWorkerType.jack&&l._playerInfoService.isFollowing&&(l.card.setMode(l._gameService.gameState.mode),l._playerInfoService.getPlayerState().action=p.eActions.playCard,l._playerService.playCard(l.card))},this._newBuildingClicked=function(){l._playerService.addToUnderConstruction(l.card),l._playerService.removeFromHand(l.card)},this.modeEnable=function(){var e=l._gameService.gameState,t=e.actionMode;if(!l._playerInfoService.isPlayersTurn)return t==p.eActionMode.resolveCardMode&&e.legionaryStage===p.eLegionaryStage.romeDemanding&&(!!i.find(e.romeDemands,function(e){return e.role===l.card.role})&&l._playerService.hasTypeToLoot(l.card.role,l._playerService.handCards)||l.card.selected);if(l._playerService.resolvingCard)return!1;if(l._playerService.activeActionTrigger==s.eCardEffect.latrine&&l.card.role!=s.eWorkerType.jack)return!0;if(t==p.eActionMode.actionCardMode){if(null!=l._playerService.typesForJack)return!!i.includes(l._playerService.typesForJack,l.card.role);if(l._playerService.hasCompletedBuilding(s.eCardEffect.palace)&&l._playerService.actionPerformTrigger==s.eCardEffect.palace&&!l._playerService.resolvingCard){var n=l._playerInfoService.getPlayerState().actionCard;return l.card.role==n.role||n.role==s.eWorkerType.jack&&n.mode==l.card.role||!(l.card.role!=s.eWorkerType.jack)}return l._playerInfoService.isFollowing?l.card.role==s.eWorkerType.jack||l.card.role==e.mode:!!l._playerInfoService.isPlayersLead}if(t==p.eActionMode.resolveCardMode){var r=e.mode;return l.card.role!=s.eWorkerType.jack&&(l._playerService.actionFinishTrigger!=s.eCardEffect.prison&&(l._playerService.activeActionTrigger!=s.eCardEffect.fountain&&(r==s.eWorkerType.laborer&&l._playerService.activeActionTrigger==s.eCardEffect.dock||(r==s.eWorkerType.legionary?l._playerService.actionPerformTrigger!==s.eCardEffect.bridge&&l._playerService.actionPerformTrigger!==s.eCardEffect.coliseum&&l._gameService.gameState.legionaryStage==p.eLegionaryStage.declare:r==s.eWorkerType.merchant&&l._playerService.activeActionTrigger==s.eCardEffect.basilica||(r==s.eWorkerType.patron&&l._playerService.activeActionTrigger==s.eCardEffect.aqueduct||(r==s.eWorkerType.craftsman?l._playerService.selectedBuilding?l._playerService.cardCanInteractAsMaterial(l.card):l._playerService.canAddNewBuilding(l.card.id):r==s.eWorkerType.architect&&(l._playerService.activeActionTrigger!==s.eCardEffect.stairway&&!(l._playerService.selectedBuilding||!l._playerService.canAddNewBuilding(l.card.id)))))))))}},this.height=this._cardFactoryService.getCardHeight(s.eCardSize.large)/2+"px",this.width=this._cardFactoryService.getCardWidth(s.eCardSize.large)+"px",this._initListeners()}return e.prototype._initListeners=function(){var e=this,t=this._gameMechanicsService;this._playerService;t.onActionEnd().subscribe(function(t){e.card.selected=!1,e._hoverState="dormant"})},e.prototype.onMouseOver=function(e){if(this.modeEnable()){this._hoverState="active";var t=this._gameService.gameState.mode,n=this._playerService;this._gameService.gameState.actionMode===p.eActionMode.resolveCardMode&&(t==s.eWorkerType.craftsman&&this.card.role!=s.eWorkerType.jack?n.selectedBuilding?n.cardIsHoveredAddMaterial(this.card):n.cardIsHoveredNewBuilding(this.card):t==s.eWorkerType.architect&&n.cardIsHoveredNewBuilding(this.card))}},e.prototype.onMouseLeave=function(e){this._hoverState="dormant";var t=this._gameService.gameState.mode;this._gameService.gameState.actionMode===p.eActionMode.resolveCardMode&&(t!=s.eWorkerType.craftsman&&t!=s.eWorkerType.architect||this.card.role!=s.eWorkerType.jack&&this._playerService.cardIsNotHovered(this.card))},e.prototype._executeCardAction=function(){var e=this._gameService.gameState,t=this._playerService;if(this._playerService.activeActionTrigger===s.eCardEffect.latrine)this._discardToPool();else if(this._playerService.activeActionTrigger===s.eCardEffect.palace)this._palaceAction();else if(e.legionaryStage===p.eLegionaryStage.romeDemanding)this._extortMaterial();else if(e.actionMode===p.eActionMode.actionCardMode)null!==t.jackTypeSelected?this._playCardsAsJack():this._playCard();else if(e.actionMode===p.eActionMode.resolveCardMode)if(null===t.selectedBuilding){var n=e.mode;n!=s.eWorkerType.craftsman&&n!=s.eWorkerType.architect||t.activeActionItem&&this.card.role!=s.eWorkerType.jack&&this._playerService.canAddNewBuilding(this.card.id)&&this._newBuildingClicked(),n===s.eWorkerType.legionary&&this._romeDemands(),n==s.eWorkerType.patron&&t.hasCompletedBuilding(s.eCardEffect.aqueduct)&&this._addClientelle(),n==s.eWorkerType.merchant&&t.hasCompletedBuilding(s.eCardEffect.basilica)&&this._addToVault(),n==s.eWorkerType.laborer&&t.hasCompletedBuilding(s.eCardEffect.dock)&&this._addToStockpile()}else{var n=this._gameService.gameState.mode;n==s.eWorkerType.craftsman&&(t.roadCondition()||this.card.role==s.eWorkerType.laborer&&t.hasCompletedBuilding(s.eCardEffect.tower)?this._addMaterial():(this.card.role==s.eWorkerType.patron&&t.hasCompletedBuilding(s.eCardEffect.scriptorium),this._addMaterial()))}},e.prototype._playCard=function(){this.card.role!==s.eWorkerType.jack&&this._playerService.playCard(this.card)},e.prototype._romeDemands=function(){var e=this,t=this._gameService.gameState.romeDemands,n=this._playerService.activeActionItem;i.find(t,function(t){return t.uid==e.card.uid})?(this.card.selected=!1,n.numActions++,i.remove(t,function(t){return t.uid==e.card.uid})):(this.card.selected=!0,n.numActions--,t.push(this.card)),0!=n.numActions&&t.length!==i.filter(this._playerService.handCards,function(e){return e.role!==s.eWorkerType.jack}).length||this._playerService.romeDemands()},e.prototype._extortMaterial=function(){var e=this;this._playerService.addRemoveFromLoot(this.card),this._playerService.hasCardsToLoot(this._playerService.handCards)||(i.forEach(this._playerInfoService.getPlayerState().loot,function(t){e._playerService.removeFromHand(t)}),this._playerService.extortMaterial())},e.prototype._addMaterial=function(){this._playerService.addMaterialToConstruction(this.card)},e.prototype._addClientelle=function(){this._playerService.removeFromHand(this.card),this._playerService.addToClientelles(this.card)&&this._playerService.inAddition()},e.prototype._addToVault=function(){this._playerService.removeFromHand(this.card),this._playerService.addToVault([this.card]),this._playerService.inAddition()},e.prototype._addToStockpile=function(){this._playerService.removeFromHand(this.card),this._playerService.addToStockpile(this.card),this._playerService.inAddition()},e.prototype._discardToPool=function(){this._playerService.removeFromHand(this.card),this._messageService.discardMessage([this.card]),this.card.role==s.eWorkerType.jack?this._gameService.addJack():this._gameService.addToPool([this.card]),this._playerService.thinkAction()},e.prototype._playCardsAsJack=function(){var e=this._cardFactoryService.getJack();this._playerService.playCard(e)},e.prototype.jackMenuVisible=function(){if("active"==this._hoverState){if(this._gameService.gameState.actionMode==p.eActionMode.actionCardMode&&this._playerInfoService.isFollowing)return!1;if(this.card.role==s.eWorkerType.jack&&this._playerService.activeActionTrigger!==s.eCardEffect.latrine)return!0}return!1},e.prototype._palaceAction=function(){this._playerService.addAdditionalAction(this.card)},e.prototype._cardIsSelectable=function(e){return this._playerService.selectedBuilding.building.role==this.card.role},e}();r([a.Input("card"),o("design:type",Object)],g.prototype,"card",void 0),r([a.HostListener("mouseover"),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],g.prototype,"onMouseOver",null),r([a.HostListener("mouseleave"),o("design:type",Function),o("design:paramtypes",[MouseEvent]),o("design:returntype",void 0)],g.prototype,"onMouseLeave",null),g=r([a.Component({selector:"card-component",template:n(549),styles:[n(330)],animations:[c.trigger("hover",[c.state("dormant",c.style({transform:"translate(0, 0%)"})),c.state("active",c.style({transform:"translate(0, -50%)"}))])]}),o("design:paramtypes",[l.CardFactoryService,u.GameMechanicsService,p.GameService,f.PlayerService,d.PlayerInfoService,h.SocketService,y.MessageService])],g),t.CardComponent=g},850:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(){function e(){}return e}();i=r([o.Injectable()],i),t.CardService=i},851:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(){var e=this;this._optionClicked=new i.EventEmitter,this.optionClicked=function(t){e._optionClicked.emit(t)}}return e}();r([i.Output("optionClicked"),o("design:type",i.EventEmitter)],a.prototype,"_optionClicked",void 0),a=r([i.Component({selector:"jack-menu-component",template:'\n        <div class="jack-menu">\n            <div class="left-jack-menu">\n                <div class="architect-option" (click)="optionClicked(0)">\n                    <div class="option-text-container">\n                        <span class="option-text">Architect</span>\n                    </div>\n                </div>\n                <div class="laborer-option" (click)="optionClicked(2)">\n                    <div class="option-text-container">\n                        <span class="option-text">Laborer</span>\n                    </div>\n                </div>\n                <div class="merchant-option" (click)="optionClicked(4)">\n                    <div class="option-text-container">\n                        <span class="option-text">Merchant</span>\n                    </div>\n                </div>\n            </div>\n            <div class="right-jack-menu">\n                <div class="craftsman-option" (click)="optionClicked(1)">\n                    <div class="option-text-container">\n                        <span class="option-text">Craftsman</span>\n                    </div>\n                </div>\n                <div class="legionary-option" (click)="optionClicked(3)">\n                    <div class="option-text-container">\n                        <span class="option-text">Legionary</span>\n                    </div>\n                </div>\n                <div class="patron-option" (click)="optionClicked(5)">\n                    <div class="option-text-container">\n                        <span class="option-text">Patron</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',styles:[n(330)]})],a),t.JackMenuComponent=a},852:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(157),s=function(){function e(e){this._cardImageService=e,this.size=a.eCardSize.large,this.card=new a.Card,this._initListeners()}return e.prototype._initListeners=function(){var e=this;this._cardImageService.onCardHover().subscribe(function(t){e.card.changeValues(t)})},e}();s=r([i.Component({selector:"card-detail",template:n(551),styles:[n(550)]}),o("design:paramtypes",[c.CardImageService])],s),t.CardDetailComponent=s},853:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(28),l=n(29),u=n(20),p=n(17),f=n(16),d=n(26),h=n(80),y=function(){function e(e,t,n,r,o,a,s){var l=this;this._cardFactoryService=e,this._gameMechanicsService=t,this._gameService=n,this._playerService=r,this._playerInfoService=o,this._socketService=a,this._messageService=s,this.think=function(){l.enableThink()&&(l._playerService.hasCompletedBuilding(c.eCardEffect.vomitorium)?l._playerService.actionPerformTrigger=c.eCardEffect.vomitorium:l._playerService.hasCompletedBuilding(c.eCardEffect.latrine)?(l._playerService.actionPerformTrigger=c.eCardEffect.latrine,l._playerService.resolvingCard=!0):l._playerService.thinkAction())},this.drawJack=function(){l.enableJack()&&(l._playerService.addCards(l._gameService.drawJack()),l._playerInfoService.isPlayersTurn=!1,l._messageService.addTextMessage("draws a JACK"),l._playerService.thinkCheck(),l._gameService.updateGameState(),l._socketService.think())},this.jackMenuVisible=!1,this.playCardsAsJack=function(){l.enableThreeJack()&&0!=l._playerService.canPlayCardsAsJack().length&&(l.jackMenuVisible=!l.jackMenuVisible)},this.optionClicked=function(e){l.jackMenuVisible=!1,l._playerService.playCardsAsJack(e)},this.showThink=function(){return!0},this.enableThink=function(){return!l._playerService.actionFinishTrigger&&!l._playerService.actionPerformTrigger&&(!!l._enableInActionMode()||!(!l._enableOnActionModeResponse()||l._playerInfoService.isFollowing))},this.showJack=function(){return!0},this.enableJack=function(){return 0!=l._gameService.gameState.jacks&&(!l._playerService.actionFinishTrigger&&!l._playerService.actionPerformTrigger&&(!!l._enableInActionMode()||!(!l._enableOnActionModeResponse()||l._playerInfoService.isFollowing)))},this.showThreeJack=function(){return!!l._playerInfoService.isFollowing||(!!l._enableInActionMode()||void 0)},this.enableThreeJack=function(){return!l._playerService.actionFinishTrigger&&!l._playerService.actionPerformTrigger&&(0!=l._playerService.canPlayCardsAsJack().length&&(!!l._enableInActionMode()||(!!l._enableWhileFollowing()||void 0)))},this.follow=function(){l.enableFollow()&&(l._playerInfoService.isFollowing=!0,l._messageService.addTextMessage("is FOLLOWING"))},this.showFollow=function(){return!l._enableInActionMode()&&!l._playerInfoService.isFollowing},this.enableFollow=function(){if(l._enableOnActionModeResponse()&&l.canFollow())return!0},this.canFollow=function(){return i.find(l._playerService.handCards,function(e){return e.role==c.eWorkerType.jack||e.mode==l._gameService.gameState.mode})}}return e.prototype.no_action_think=function(){this._playerService.thinkAction()},e.prototype._enableInActionMode=function(){return this._gameService.gameState.actionMode==u.eActionMode.actionCardMode&&this._playerInfoService.isPlayersLead&&this._playerInfoService.isPlayersTurn},e.prototype._enableOnActionModeResponse=function(){return this._gameService.gameState.actionMode==u.eActionMode.actionCardMode&&this._playerInfoService.isPlayersTurn},e.prototype._enableWhileFollowing=function(){return this._playerInfoService.isPlayersTurn&&this._playerInfoService.isFollowing},e}();y=r([a.Component({selector:"control-component",template:n(553),styles:[n(552)]}),o("design:paramtypes",[s.CardFactoryService,l.GameMechanicsService,u.GameService,p.PlayerService,f.PlayerInfoService,d.SocketService,h.MessageService])],y),t.ControlComponent=y},854:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(28),l=n(20),u=n(29),p=n(17),f=function(){function e(e,t,n,r){var o=this;this._cardFactoryService=e,this._playerService=t,this._gameMechanicsService=n,this._gameService=r,this.size=c.eCardSize.medium,this.customSize={width:70,height:52,offsetX:12,offsetY:25},this.onFoundationClick=function(e){o.enableFoundation(e)&&(o.useFoundation(e.foundation),o._playerService.foundationChosen(e))},this.enableFoundation=function(e){return o._playerService.actionPerformTrigger==c.eCardEffect.statue&&o._playerService.canAddNewBuilding(c.eCardEffect.statue)},this._init(),this._initListeners()}return e.prototype._init=function(){var e=this;i.forEach(this._cardFactoryService.foundationCards,function(t){var n={foundation:t,inTown:e._gameService.players,outOfTown:e._cardFactoryService.getCardByName(t.title).count-e._gameService.players};e._gameService.gameState.foundations.push(n),e._gameService.foundationMap[t.role]=n}),this.outOfTownStyle={width:this.customSize.width+"px",height:this.customSize.height+"px"}},e.prototype._initListeners=function(){var e=this;this._playerService.onNewBuilding().subscribe(function(t){t.id!=c.eCardEffect.statue&&e.useFoundation(t)})},e.prototype.useFoundation=function(e){var t=this._gameService.gameState,n=i.find(t.foundations,function(t){return t.foundation.role==e.role});n.inTown>0?n.inTown=n.inTown-1:n.outOfTown>0&&(n.outOfTown=n.outOfTown-1)},e}();f=r([a.Component({selector:"foundation-component",template:'\n        <div\n            class="foundation-card"\n            *ngFor="let pile of _gameService.gameState.foundations; let i = index"\n            (click)="onFoundationClick(pile)">\n\n                <div\n                    class="out-of-town-image"\n                    *ngIf="pile.inTown == 0"\n                    [ngStyle]="outOfTownStyle">\n                    <out-of-town-component\n                        [role]="pile.foundation.role">\n                    </out-of-town-component>\n                </div>\n            \n                <div class="in-town-count" *ngIf="pile.inTown > 0">\n                    {{pile.inTown}}\n                </div>\n\n                <div class="out-town-count" *ngIf="pile.inTown == 0">\n                    {{pile.outOfTown}}\n                </div>\n\n                <card-image *ngIf="pile.inTown > 0"\n                            [card]="pile.foundation"\n                            [size]="size"\n                            [customSize]="customSize"\n                            [interactable]="enableFoundation(pile)">\n                </card-image>\n        </div>\n    ',styles:[n(554)]}),o("design:paramtypes",[s.CardFactoryService,p.PlayerService,u.GameMechanicsService,l.GameService])],f),t.FoundationComponent=f},855:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(17),s=function(){function e(e){this._playerService=e}return e.prototype.ngAfterContentInit=function(){switch(this.role){case a.eWorkerType.architect:this.className="architect-text";break;case a.eWorkerType.craftsman:this.className="craftsman-text";break;case a.eWorkerType.laborer:this.className="laborer-text";break;case a.eWorkerType.legionary:this.className="legionary-text";break;case a.eWorkerType.merchant:this.className="merchant-text";break;case a.eWorkerType.patron:this.className="patron-text"}},e.prototype.canInteract=function(){return this._playerService.activeActionTrigger===a.eCardEffect.statue&&this._playerService.canAddNewBuilding(a.eCardEffect.statue)},e}();r([i.Input("role"),o("design:type",Number)],s.prototype,"role",void 0),s=r([i.Component({selector:"out-of-town-component",template:'\n        <div class="out-of-town-container"\n             [ngClass]="className"\n             [class.interactable]="canInteract()"\n             title="out of town site">\n                <div class="icon-container fa fa-gavel"></div>\n        </div>\n    ',styles:["\n        .out-of-town-container {\n            height: 100%;\n            width: 100%;\n        }\n        .icon-container {\n            position: absolute;\n            top: 25%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n\n            font-size: 25px;\n        }\n        .interactable {\n            box-shadow: inset 0 0 4px 4px #F89406;\n        }\n    "]}),o("design:paramtypes",[c.PlayerService])],s),t.OutOfTownComponent=s},856:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(29),c=n(20),s=n(17),l=n(47).sprites.large.cardWidth,u=function(){function e(e,t,n){var r=this;this._gameMechanicsService=e,this._gameService=t,this._playerService=n,this.maxHandSize=5,this.handSize=5,this.cardPosition=function(e){var t=r._playerService.handCards.length;if(!(t<=1)){if(l*t>r.containerWidth){return{left:(r.containerWidth-l)/(t-1)*e+"px"}}return{left:l*e+"px"}}}}return e.prototype.ngAfterContentInit=function(){this.containerWidth=this.handContainerRef.nativeElement.offsetWidth},e}();r([i.ViewChild("handContainer"),o("design:type",Object)],u.prototype,"handContainerRef",void 0),u=r([i.Component({selector:"hand-component",template:n(556),styles:[n(555)]}),o("design:paramtypes",[a.GameMechanicsService,c.GameService,s.PlayerService])],u),t.HandComponent=u},857:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(856),s=n(158),l=n(365),u=function(){function e(){}return e}();u=r([o.NgModule({declarations:[c.HandComponent],bootstrap:[c.HandComponent],imports:[a.BrowserModule,i.HttpModule,s.CardModule,l.CardDetailModule],exports:[c.HandComponent]})],u),t.HandModule=u},858:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(458),c=n(18),s=n(37),l=n(368),u=n(859);t.LobbyImports=[c.BrowserModule,i.HttpModule,a.FormsModule,s.CommonModule];var p=function(){function e(){}return e}();p=r([o.NgModule({declarations:[l.LobbyComponent],bootstrap:[l.LobbyComponent],imports:t.LobbyImports,exports:[l.LobbyComponent],providers:[u.LobbyService]})],p),t.LobbyModule=p},859:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(){}return e}();a=r([i.Injectable(),o("design:paramtypes",[])],a),t.LobbyService=a},860:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(28),c=n(16),s=n(26),l=n(80),u=function(){function e(e,t,n,r){var o=this;this._cardFactoryService=e,this._playerInfoService=t,this._socketService=n,this._messageService=r,this.eMessageType=l.eMessageType,this.enterPressed=function(e){if(13===e.keyCode){var t=e.target;o._addInput(t)}},r.onRerenderScroll().subscribe(function(){setTimeout(function(){var e=o.scrollCont.nativeElement;e.scrollTop=e.scrollHeight},0)})}return e.prototype.messageClicked=function(e){this._addInput(e)},e.prototype._addInput=function(e){""!==e.value&&(this._messageService.addPlayerMessage(e.value),e.value="")},e.prototype.showPlayerName=function(e,t){var n=this._messageService.messages[e-1];return 0==e||e>0&&n.player&&t.player.id!==n.player.id},e}();r([i.ViewChild("scrollContainer"),o("design:type",i.ElementRef)],u.prototype,"scrollCont",void 0),u=r([i.Component({selector:"message-component",template:n(560),styles:[n(559)]}),o("design:paramtypes",[a.CardFactoryService,c.PlayerInfoService,s.SocketService,l.MessageService])],u),t.MessageComponent=u},861:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(860),l=function(){function e(){}return e}();l=r([o.NgModule({declarations:[s.MessageComponent],bootstrap:[s.MessageComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule],exports:[s.MessageComponent]})],l),t.MessageModule=l},862:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(17),l=n(16),u=n(26),p=n(20),f=(n(47),function(){function e(e,t,n,r){this._playerInfoService=e,this._playerService=t,this._gameService=n,this._socketService=r,this.size=c.eCardSize.medium}return e.prototype.clientClicked=function(e){var t=this;if(this.clientEnable(e)){var n=this._playerService;n.addRemoveFromLoot(e),n.hasCardsToLoot(this._playerInfoService.getPlayerState().clientelles)||(i.forEach(this._playerInfoService.getPlayerState().loot,function(e){t._playerService.removeFromClientelles(e)}),n.extortMaterial())}},e.prototype.clientEnable=function(e){return!(this._gameService.gameState.legionaryStage!==p.eLegionaryStage.coliseum||!this._playerService.hasTypeToLoot(e.role,this._playerInfoService.getPlayerState().clientelles))},e.prototype.clientPosition=function(e){return{right:20*(e+1)+"px",zIndex:e*-1}},e.prototype.calcWidth=function(){return 20*this._playerInfoService.getPlayerState().clientelles.length+"px"},e}());f=r([a.Component({selector:"clientelle-component",template:'\n        <div class="clientelle-container" #clientelleContainer [style.width]="calcWidth()">\n            <div *ngFor="let card of _playerInfoService.getPlayerState().clientelles; let i = index">\n                <div class="clientelle-card-container"\n                     [ngStyle]="clientPosition(i)"\n                     (click)="clientClicked(card)">\n                    <card-image [card]="card"\n                                [size]="size"\n                                [interactable]="clientEnable(card)">\n                    </card-image>\n                </div>\n            </div>\n        </div>\n    ',styles:["\n        .clientelle-container {\n            flex: 1;\n            position: relative;\n            margin-top: 22px;\n        }\n        .clientelle-card-container {\n            position: absolute;\n            transform: translate(100%, 0);\n        }\n    "]}),o("design:paramtypes",[l.PlayerInfoService,s.PlayerService,p.GameService,u.SocketService])],f),t.ClientelleComponent=f},863:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(17),s=n(16),l=(n(47),function(){function e(e,t){this._playerService=e,this._playerInfoService=t,this.size=a.eCardSize.medium}return e}());l=r([i.Component({selector:"completed-component",template:'\n        <div class="completed-container" #completedContainer>\n            <div *ngFor="let compF of _playerInfoService.getPlayerState().completed; let i = index">\n                <card-image class="completed-card-container"\n                            [card]="compF.building"\n                            [size]="size"\n\n                            [cardGroup]="completedContainer"\n                            [cardGroupIndex]="i"\n                            [cardGroupLength]="_playerInfoService.getPlayerState().completed.length">\n                </card-image>\n            </div>\n        </div>\n    ',styles:["\n        .completed-container {\n            flex: 1;\n            position: relative;\n        }\n        .completed-card-container {\n            position: absolute;\n        }\n    "]}),o("design:paramtypes",[c.PlayerService,s.PlayerInfoService])],l),t.CompletedComponent=l},864:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(17),c=function(){function e(e){this._playerService=e}return e}();c=r([i.Component({selector:"detail-tab",template:'\n        <div class="detail-tab-container">\n            <div class="detail-tab-col-left">\n                <div class="completed-tab">\n                    <div class="tab-header"><i class="fa fa-university"></i>Completed</div>\n                    <completed-component></completed-component>\n                </div>\n                <div class="stockpile-tab">\n                    <div class="tab-header"><i class="fa fa-bars"></i>Stockpile</div>\n                    <stockpile-component></stockpile-component>\n                </div>\n                <div class="under-construction-tab">\n                    <div class="tab-header"><i class="fa fa-gavel"></i>Under Construction</div>\n                    <under-construction-component></under-construction-component>\n                </div>\n            </div>\n            <div class="detail-tab-col-right">\n                <foundation-component></foundation-component>\n            </div>\n        </div>\n    ',styles:["\n        .detail-tab-container {\n            height: 100%;\n            padding: 5px;\n            display: flex;\n            background-color: white;\n        }\n        .detail-tab-col-left {\n            flex-flow: column;\n            flex: 1;\n            display: flex;\n            flex-flow: column;\n        }\n        .tab-header {\n            font-weight: bold;\n            padding-bottom: 3px;\n        }\n        .tab {\n            text-align: center;\n            font-size: bold;\n            flex: 1;\n            padding: 5px;\n            cursor: pointer;\n        }\n        .active {\n            background-color: #ddd;\n        }\n        .detail-tab-content {\n            flex: 1;\n            background-color: #ddd;\n        }\n        .under-construction-tab {\n            min-height: 180px;\n            z-index: 2;\n        }\n\n        .stockpile-tab {\n            min-height: 80px;\n            z-index: 1;\n        }\n\n        .completed-tab {\n            min-height: 80px;\n        }\n\n        .under-construction-tab,\n        .stockpile-tab,\n        .completed-tab {\n            flex: 1;\n            background-color: white;\n        }\n        i {\n            margin-right: 10px;\n        }\n    "]}),o("design:paramtypes",[a.PlayerService])],c),t.DetailTabComponent=c},865:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(29),l=n(16),u=n(17),p=n(20),f=n(26),d=n(47),h=function(){function e(e,t,n,r,o){var i=this;this._playerService=e,this._playerInfoService=t,this._gameService=n,this._gameMechanicsService=r,this._socketService=o,this.size=c.eCardSize.medium,this.cardWidth=d.sprites.medium.cardWidth,this.cardClicked=function(e){if(i.cardCanInteract(e)){var t=i._gameService.gameState.mode;t==c.eWorkerType.legionary&&i._gameService.gameState.legionaryStage===p.eLegionaryStage.bridge&&i._bridgeAction(e),t==c.eWorkerType.merchant&&i._mechantAction(e),t==c.eWorkerType.architect&&i._architectAction(e)}},this.cardCanInteract=function(e){var t=i._playerService;return!!i._playerInfoService.isPlayersTurn&&(i._gameService.gameState.actionMode==p.eActionMode.resolveCardMode&&(!t.resolvingCard&&(t.activeActionTrigger!==c.eCardEffect.basilica&&(!(i._gameService.gameState.legionaryStage!==p.eLegionaryStage.bridge||!t.hasTypeToLoot(e.role,i._playerInfoService.getPlayerState().stockpile)||e.selected)||(!(i._gameService.gameState.mode!=c.eWorkerType.merchant||!i._playerService.canPutIntoVault())||i._gameService.gameState.mode==c.eWorkerType.architect&&(t.completedSelectedBuilding?t.completedSelectedBuilding.building.role===e.role:!!t.selectedBuilding&&i._playerService.cardCanInteractAsMaterial(e)))))))},this.onMouseOver=function(e){if(i._gameService.gameState.mode==c.eWorkerType.architect){var t=i._playerService;t.roadCondition()?t.cardIsHoveredAddMaterial(e):t.selectedBuilding&&t.selectedBuilding.building.role==e.role&&i._playerService.cardIsHoveredAddMaterial(e)}},this.onMouseLeave=function(e){i._playerService.cardIsNotHovered(e)},this._initListeners()}return e.prototype._initListeners=function(){this._gameMechanicsService,this._socketService},e.prototype._mechantAction=function(e){this._playerService.removeFromStockpile(e),this._playerService.addToVault([e]),this._playerService.decrementActions()},e.prototype._architectAction=function(e){this._playerService.removeFromStockpile(e),this._playerService.activeActionTrigger===c.eCardEffect.stairway?this._playerService.stairwayAction(e):this._playerService.addMaterialToConstruction(e)},e.prototype._bridgeAction=function(e){var t=this,n=this._playerService;n.addRemoveFromLoot(e),n.hasCardsToLoot(this._playerInfoService.getPlayerState().stockpile)||(i.forEach(this._playerInfoService.getPlayerState().loot,function(e){t._playerService.removeFromStockpile(e)}),n.extortMaterial())},e}();h=r([a.Component({selector:"stockpile-component",template:'\n        <div class="stockpile-container" #stockpileContainer>\n            <div *ngFor="let card of _playerInfoService.getPlayerState().stockpile; let i = index">\n                <div class="stockpile-card-container"\n                    (click)="cardClicked(card)"\n                    (mouseover)="onMouseOver(card)"\n                    (mouseleave)="onMouseLeave(card)"\n                    [style.cursor]="cardCanInteract(card) ? \'pointer\' : \'auto\'">\n\n                        <card-image [card]="card"\n                                    [size]="size"\n                                    [interactable]="cardCanInteract(card)"\n                                    \n                                    [cardGroup]="stockpileContainer"\n                                    [cardGroupIndex]="i"\n                                    [cardGroupLength]="_playerInfoService.getPlayerState().stockpile.length">\n                        </card-image>\n                </div>\n            </div>\n        </div>\n    ',styles:["\n        .stockpile-container {\n            flex: 1;\n            position: relative;\n        }\n        .stockpile-card-container {\n            position: absolute;\n        }\n    "]}),o("design:paramtypes",[u.PlayerService,l.PlayerInfoService,p.GameService,s.GameMechanicsService,f.SocketService])],h),t.StockpileComponent=h},866:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(17),c=n(157),s=function(){function e(e,t){this._cardImageService=e,this._playerService=t}return e.prototype.onTitleHover=function(e){this._cardImageService.cardHover(e)},e}();s=r([i.Component({selector:"summary-component",template:n(561),styles:["\n        .summary-container {\n            height: 200px;\n            display: flex;\n            padding: 5px;\n            border: 2px solid grey;\n        }\n        .under-construction-section,\n        .completed-section,\n        .stockpile-section {\n            flex: 1;\n        }\n        .summary-title {\n            font-weight: bold;\n        }\n        .summary-list {\n            overflow-x: scroll;\n        }\n    "]}),o("design:paramtypes",[c.CardImageService,a.PlayerService])],s),t.SummaryComponent=s;var l=function(){function e(){}return e}();r([i.Input("role"),o("design:type",Object)],l.prototype,"role",void 0),l=r([i.Component({selector:"role-block-component",template:'\n        <div class="block"\n            [class.architect]="role == 0"\n            [class.craftsman]="role == 1"\n            [class.laborer]="role == 2"\n            [class.legionary]="role == 3"\n            [class.merchant]="role == 4"\n            [class.patron]="role == 5">\n        </div>\n    ',styles:["\n        .block {\n            width: 10px;\n            height: 10px;\n            border-radius: 2px;\n            display: inline-block;\n        }\n    "]})],l),t.RoleBlockComponent=l},867:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(28),l=n(29),u=n(20),p=n(17),f=n(16),d=function(){function e(e,t,n,r,o){var i=this;this._cardFactoryService=e,this._playerService=t,this._playerInfoService=n,this._gameService=r,this._gameMechanicsService=o,this.size=c.eCardSize.medium,this.buildingClicked=function(e){null!=i._gameService.gameState.mode&&i.checkInteraction(e)&&(i._playerService.activeActionTrigger===c.eCardEffect.fountain?(i._playerService.selectedBuilding=e,i._playerService.addMaterialToConstruction(i._playerService.fountainCard),i._playerService.activeActionTrigger=null):i._playerService.buildingSelected(e))},this.cardWidth=this._cardFactoryService.getCardWidth(c.eCardSize.medium),this._initListeners()}return e.prototype.ngAfterContentInit=function(){this.spContWidth=this.spContRef.nativeElement.offsetWidth},e.prototype._initListeners=function(){var e=this;this._gameMechanicsService.onActionEnd().subscribe(function(t){e._playerService.selectedBuilding=null,e._playerService.removePhantomCard(t)});var t=this._playerService;t.onNewBuildingHover().subscribe(function(t){e.phantomCard={building:e._createPhantomCard(t),site:null,materials:[]},e._playerInfoService.getPlayerState().underConstruction.push(e.phantomCard)}),t.onAddMaterialHover().subscribe(function(t){var n=e._playerService;if(n.hasCompletedBuilding(c.eCardEffect.road)||n.hasCompletedBuilding(c.eCardEffect.scriptorium))e._addPhantomCard(t);else{if(null==e._playerService.selectedBuilding)return;e._addPhantomCard(t)}}),t.onNotHover().subscribe(function(t){e._playerService.selectedBuilding&&u.removeFromList(t,e._playerService.selectedBuilding.materials),e._playerService.removePhantomCard(t)})},e.prototype._addPhantomCard=function(e){var t=this._createPhantomCard(e);this._playerService.selectedBuilding&&this._playerService.selectedBuilding.materials.push(t)},e.prototype._createPhantomCard=function(e){var t=new c.Card;return t.changeValues(e),t.uid=e.uid,t.setPhantom(!0),t},e.prototype.cardStyle=function(e){var t=this.cardWidth+5,n=this._playerInfoService.getPlayerState().underConstruction,r=n.length;return(n.length-1)*t+this.cardWidth>this.spContWidth&&(t=(this.spContWidth-this.cardWidth)/(r-1)),{left:t*e+"px"}},e.prototype.materialStyle=function(e,t){this.cardStyle(e);return{top:15*(t+1)+10+"px","z-index":t*-1}},e.prototype.checkInteraction=function(e){if(!this._playerInfoService.isPlayersTurn)return!1;if(this._gameService.gameState.actionMode!==u.eActionMode.resolveCardMode)return!1;var t=this._gameService.gameState.mode;return(t==c.eWorkerType.architect||t==c.eWorkerType.craftsman)&&(!e.building.phantom&&null!=t&&(!(!this._playerService.hasCompletedBuilding(c.eCardEffect.archway)||!this._gameService.hasSameTypeInPool(e.site.role))||(this._playerService.activeActionTrigger===c.eCardEffect.fountain?e.site.role===this._playerService.fountainCard.role:e.building.role==c.eWorkerType.merchant&&this._playerService.hasCompletedBuilding(c.eCardEffect.road)?t!=c.eWorkerType.architect||0!=this._playerInfoService.getPlayerState().stockpile.length:!!this._playerService.scriptoriumCondition()||(!(void 0===e.site||!this._playerService.statueCondition(e))||(!(!this._playerService.hasCompletedBuilding(c.eCardEffect.tower)||!this._playerService.hasCardTypeInHand(c.eWorkerType.laborer)&&!this._playerService.hasCardTypeInStockpile(c.eWorkerType.laborer))||this._canFilter(e))))))},e.prototype._canFilter=function(e){var t=this,n=this._gameService.gameState.mode;return n==c.eWorkerType.craftsman?!!i.find(this._playerService.handCards,function(t){return t.role==e.building.role&&!t.phantom}):n==c.eWorkerType.architect?!!i.find(this._playerInfoService.getPlayerState().stockpile,function(n){return n.role==e.building.role&&!n.phantom||t._playerService.hasCompletedBuilding(c.eCardEffect.tower)&&t._playerService.hasCardTypeInStockpile(c.eWorkerType.laborer)}):void 0},e}();r([a.ViewChild("underConstructionContainer"),o("design:type",Object)],d.prototype,"spContRef",void 0),d=r([a.Component({selector:"under-construction-component",template:n(562),styles:["\n        .under-construction-container {\n            position: relative;\n        }\n        .under-construction-card-container {\n            position: absolute;\n        }\n        .material-container {\n            position: absolute;\n        }\n        .behind-container {\n            position: relative;\n        }\n        .front-container {\n            position: relative;\n            z-index: 1;\n        }\n        .site-card {\n            top: 10px;\n            position: absolute;\n            z-index: -1;\n        }\n    "]}),o("design:paramtypes",[s.CardFactoryService,p.PlayerService,f.PlayerInfoService,u.GameService,l.GameMechanicsService])],d),t.UnderConstructionComponent=d},868:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(17),s=n(47),l=function(){function e(e){this._playerService=e,this.size=a.eCardSize.medium,this.cardWidth=s.sprites.medium.cardWidth}return e.prototype.ngAfterContentInit=function(){this.spContWidth=this.spContRef.nativeElement.offsetWidth},e}();r([i.ViewChild("vaultContainer"),o("design:type",Object)],l.prototype,"spContRef",void 0),l=r([i.Component({selector:"vault-component",template:'\n        <div class="vault-container" #vaultContainer>\n            <div *ngFor="let card of vault; let i = index">\n                <div class="vault-card-container" [ngStyle]="cardStyle(i)">\n                    <card-image [card]="card" [size]="size"></card-image>\n                </div>\n            </div>\n        </div>\n    ',styles:["\n        .vault-container {\n            flex: 1;\n            position: relative;\n        }\n        .vault-card-container {\n            position: absolute;\n        }\n    "]}),o("design:paramtypes",[c.PlayerService])],l),t.VaultComponent=l},869:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),c=n(17),s=n(16),l=n(28),u=n(20),p=n(29),f=n(26),d=n(80),h=function(){function e(e,t,n,r,o,i,c){var s=this;this._playerInfoService=e,this._playerService=t,this._gameService=n,this._gameMechanicsService=r,this._cardFactoryService=o,this._socketService=i,this._messageService=c,this.size=a.eCardSize.medium,this.yesAction=null,this.noAction=null,this.selected=!1,this.yesVisible=function(){var e=s._playerService.actionPerformTrigger,t=s._playerService.actionFinishTrigger;return t==a.eCardEffect.academy||e==a.eCardEffect.amphitheatre||e==a.eCardEffect.atrium||e==a.eCardEffect.bar||e==a.eCardEffect.bath||e==a.eCardEffect.bridge||e==a.eCardEffect.coliseum||e==a.eCardEffect.foundry||s._playerService.fountainCondition()||e==a.eCardEffect.garden||e==a.eCardEffect.latrine||e==a.eCardEffect.palace||s._playerService.activeActionTrigger==a.eCardEffect.palace||e==a.eCardEffect.prison||e==a.eCardEffect.school||t==a.eCardEffect.senate||t==a.eCardEffect.sewer||e==a.eCardEffect.stairway||e==a.eCardEffect.villa||e==a.eCardEffect.vomitorium},this.noVisible=function(){var e=s._playerService.actionPerformTrigger,t=s._playerService.actionFinishTrigger;return t==a.eCardEffect.academy||e==a.eCardEffect.amphitheatre||e==a.eCardEffect.bath||e==a.eCardEffect.bridge||e==a.eCardEffect.coliseum||e==a.eCardEffect.foundry||e==a.eCardEffect.garden||e==a.eCardEffect.latrine||e==a.eCardEffect.palace||e==a.eCardEffect.prison||e==a.eCardEffect.school||t==a.eCardEffect.senate||t==a.eCardEffect.sewer||e==a.eCardEffect.villa||e==a.eCardEffect.vomitorium},this._gameMechanicsService.onActionEnd().subscribe(function(){s.selected=!1})}return e.prototype.romeIsDemanding=function(){return this._gameService.gameState.legionaryStage===u.eLegionaryStage.romeDemanding},e.prototype.gtrEnable=function(){return this._playerInfoService.getPlayerState().gloryToRome},e.prototype.gloryToRome=function(){this._messageService.gloryToRomeMessage(),this._playerService.extortMaterial()},e.prototype.isPlayersLead=function(){return this._gameService.gameState.actionMode===u.eActionMode.actionCardMode&&this._playerInfoService.isPlayersLead&&this._playerInfoService.isPlayersTurn},e.prototype.isPlayersTurn=function(){return this._gameService.gameState.actionMode===u.eActionMode.actionCardMode&&!this._playerInfoService.isPlayersLead&&this._playerInfoService.isPlayersTurn},e.prototype.actionMessageEnabled=function(){return this._gameService.gameState.actionMode===u.eActionMode.resolveCardMode&&this._playerInfoService.isPlayersTurn&&this._gameService.gameState.mode!==a.eWorkerType.legionary||this._gameService.gameState.actionMode===u.eActionMode.resolveCardMode&&this._playerInfoService.isPlayersTurn&&this._gameService.gameState.mode===a.eWorkerType.legionary&&this._gameService.gameState.legionaryStage===u.eLegionaryStage.declare},e.prototype.actionMessageClicked=function(){this._playerService.actionFinished()},e.prototype.message=function(){if(this._playerInfoService.isPlayersTurn){if(!this._playerService.resolvingCard&&this._playerService.activeActionTrigger===a.eCardEffect.palace)return this.yesAction=this._palaceFinishAction,this.noAction=null,"[Palace] Finish playing cards?";if(this._playerInfoService.isPlayersTurn&&this._gameService.gameState.mode==a.eWorkerType.legionary&&this._gameService.gameState.legionaryStage===u.eLegionaryStage.declare&&this._playerService.actionPerformTrigger!==a.eCardEffect.bridge&&this._playerService.actionPerformTrigger!==a.eCardEffect.coliseum)return"Rome Demands...";if(this._playerService.actionFinishTrigger===a.eCardEffect.academy)return this.yesAction=this._academyYesAction,this.noAction=this.noTurnFinish,"[Academy] Think on turn end?";if(this._playerService.actionPerformTrigger===a.eCardEffect.amphitheatre)return this.yesAction=this.yesResolveAction,this.noAction=this.noCompletionAction,"Perform CRAFTSMAN for each influence?";if(this._playerService.actionPerformTrigger===a.eCardEffect.atrium)return this.yesAction=this._atriumYesAction,this.noAction=null,"[Atrium] Perform MERCHANT action from DECK?";if(this._playerService.actionPerformTrigger===a.eCardEffect.bar)return this.yesAction=this._barYesAction,"[Bar] Perform PATRON action from DECK?";if(this._playerService.actionPerformTrigger===a.eCardEffect.bath){this.yesAction=this._bathYesAction,this.noAction=this.noActionFinish;var e=this._playerInfoService.getPlayerState().clientelles,t=e[e.length-1];return"[Bath] Perform "+this._cardFactoryService.getRole(t).toUpperCase()+" action?"}return this._playerService.actionPerformTrigger===a.eCardEffect.bridge?(this.yesAction=this._bridgeYesAction,this.noAction=this._bridgeNoAction,"[Bridge] Take from opponents stockpile?"):this._playerService.actionPerformTrigger===a.eCardEffect.coliseum?(this.yesAction=this._coliseumYesAction,this.noAction=this._coliseumNoAction,"[Coliseum] Take opponent's client's and place in VAULT?"):this._playerService.actionPerformTrigger===a.eCardEffect.foundry?(this.yesAction=this.yesResolveAction,this.noAction=this.noCompletionAction,"Perform LABORER for each each influence?"):this._playerService.fountainCondition()?(this.yesAction=this._fountainYesAction,"[Fountain] Perform CRAFTSMAN from DECK?"):this._playerService.actionPerformTrigger===a.eCardEffect.garden?(this.yesAction=this.yesResolveAction,this.noAction=this.noCompletionAction,"Perform PATRON for each influence?"):this._playerService.actionPerformTrigger===a.eCardEffect.latrine?(this.yesAction=this._latrineYesAction,this.noAction=this.noThink,"[Latrine] Discard one card to POOL before THINKER action?"):this._playerService.actionPerformTrigger===a.eCardEffect.palace?(this.yesAction=this._palaceYesAction,this.noAction=this._palaceNoAction,"[Palace] Play multiple cards of the same role for additional actions?"):this._playerService.actionPerformTrigger===a.eCardEffect.prison?(this.yesAction=this._prisonYesAction,this.noAction=this._prisonNoAction,"Exchange 3 INFLUENCE for opponent's structure?"):this._playerService.actionPerformTrigger===a.eCardEffect.school?(this.yesAction=this._schoolYesAction,this.noAction=this.noCompletionAction,"Perform THINKER action for each influence?"):this._playerService.actionFinishTrigger===a.eCardEffect.senate?(this.yesAction=this._senateYesAction,this.noAction=this.noTurnFinish,"[Senate] Take opponent's JACK's"):this._playerService.actionFinishTrigger===a.eCardEffect.sewer?(this.yesAction=this._sewerYesAction,this.noAction=this.noTurnFinish,"[Sewer] Place order card into STOCKPILE?"):this._playerService.actionPerformTrigger===a.eCardEffect.stairway?(this.yesAction=this._stairwayYesAction,"[Stairway] Add material to opponent's structure to make PUBLIC?"):this._playerService.actionPerformTrigger===a.eCardEffect.statue?(this.yesAction=null,this.noAction=null,"Select a foundation to build your STATUE"):this._playerService.actionPerformTrigger===a.eCardEffect.villa?(this.noAction=this.noActionFinish,this.yesAction=this._villaAction,"Complete VILLA?"):this._playerService.actionPerformTrigger==a.eCardEffect.vomitorium?(this.noAction=this.noThink,this.yesAction=this._vomitoriumAction,"[Vomitorium] Discard all cards to POOL before THINKER action?"):void 0}},e.prototype.yesResolveAction=function(){this._playerService.actionPerformTrigger=null,this._playerService.resolveNextActionState()},e.prototype.yesClicked=function(){this._playerService.resolvingCard=!1,this.yesAction&&this.yesAction()},e.prototype.noActionFinish=function(){this._playerService.actionFinished()},e.prototype.noCompletionAction=function(){this._playerService.resolvingCard=!1,this._playerService.resolveActionStack()},e.prototype.noTurnFinish=function(){this._playerService.turnFinished()},e.prototype.noThink=function(){this._playerService.resolvingCard=!1,this._playerService.thinkAction()},e.prototype.noClicked=function(){this.noAction&&this.noAction()},e.prototype.additionalActionMessage=function(){var e=this,t=this._playerService.additionalActionTrigger;return t===a.eCardEffect.aqueduct?(this.yesAction=function(){return e._yesAdditional(a.eCardEffect.aqueduct)},"[Aqueduct] Additionally perform PATRON from hand?"):t===a.eCardEffect.basilica?(this.yesAction=function(){return e._yesAdditional(a.eCardEffect.basilica)},"[Basilica] Additionally perform MERCHANT from hand?"):t===a.eCardEffect.dock?(this.yesAction=function(){return e._yesAdditional(a.eCardEffect.dock)},"[Dock] Additionally perform LABORER from hand?"):void 0},e.prototype.additionalYesVisible=function(){var e=this._playerService.additionalActionTrigger;return e===a.eCardEffect.aqueduct||e===a.eCardEffect.basilica||e===a.eCardEffect.dock},e.prototype._yesAdditional=function(e){this._playerService.additionalActionTrigger=null,this._playerService.activeActionTrigger=e},e.prototype._academyYesAction=function(){this._playerService.actionFinishTrigger=null,this._playerService.think(),this._playerService.turnFinished()},e.prototype._atriumYesAction=function(){var e=this._playerService.drawCardsFromDeck(1);null!==e&&(this._playerService.addToVault(e),this._playerService.decrementActions())},e.prototype._barYesAction=function(){var e=this._playerService.drawCardsFromDeck(1);null!==e&&this._playerService.addToClientelles(e[0])&&this._playerService.decrementActions()},e.prototype._bridgeYesAction=function(){this._gameService.gameState.actionTriggers.push(a.eCardEffect.bridge),this._checkForColiseum()},e.prototype._bridgeNoAction=function(){this._checkForColiseum()},e.prototype._checkForColiseum=function(){var e=this._playerService;e.hasCompletedBuilding(a.eCardEffect.coliseum)?(e.resolvingCard=!0,e.actionPerformTrigger=a.eCardEffect.coliseum):(e.resolvingCard=!1,e.actionPerformTrigger=null,this._socketService.romeDemands())},e.prototype._bathYesAction=function(){this._playerService.actionPerformTrigger=null;var e=this._playerInfoService.getPlayerState().clientelles,t=e[e.length-1];this._playerService.actionStack.push({numActions:1,action:t.role,cardEffect:t.id}),this._playerService.resolveNextActionState()},e.prototype._coliseumYesAction=function(){this._gameService.gameState.actionTriggers.push(a.eCardEffect.coliseum),this._playerService.resolvingCard=!1,this._playerService.actionPerformTrigger=null,this._socketService.romeDemands()},e.prototype._coliseumNoAction=function(){this._playerService.resolvingCard=!1,this._playerService.actionPerformTrigger=null,this._socketService.romeDemands()},e.prototype._fountainYesAction=function(){this._playerService.activeActionTrigger=a.eCardEffect.fountain;var e=this._playerService.drawCardsFromDeck(1);null!==e&&(this._playerService.fountainCard=e[0])},e.prototype.onMouseOver=function(e){this.fountainInteraction()&&this._playerService.cardIsHoveredNewBuilding(this._playerService.fountainCard)},e.prototype.onMouseLeave=function(e){this.fountainInteraction()&&this._playerService.cardIsNotHovered(this._playerService.fountainCard)},e.prototype.fountainInteraction=function(){return this._playerService.canAddNewBuilding(this._playerService.fountainCard.id)},e.prototype.fountainClicked=function(){this.fountainInteraction()&&(this._playerService.activeActionTrigger=null,this._playerService.addToUnderConstruction(this._playerService.fountainCard))},e.prototype.fountainYes=function(){this._playerService.activeActionTrigger=null,this._playerService.addCards([this._playerService.fountainCard]),this._playerService.fountainCard=null,this._playerService.decrementActions()},e.prototype._schoolYesAction=function(){for(var e=this._playerInfoService.getPlayerState().influence,t=0;t<e;t++)this._playerService.think();this._playerService.actionStack.pop(),this._playerService.actionFinished()},e.prototype._latrineYesAction=function(){this._playerService.resolvingCard=!1,this._playerService.activeActionTrigger=a.eCardEffect.latrine,this._playerService.actionPerformTrigger=null,this._playerService.latrineTriggered()},e.prototype._palaceYesAction=function(){this._playerService.resolvingCard=!1,this._playerService.activeActionTrigger=a.eCardEffect.palace,this._playerService.actionPerformTrigger=null},e.prototype._palaceNoAction=function(){this._playerService.resolvingCard=!1},e.prototype._palaceFinishAction=function(){this._playerService.actionFinished()},e.prototype._prisonYesAction=function(){this._playerService.actionPerformTrigger=null},e.prototype._prisonNoAction=function(){this._playerService.actionStack.pop(),this._playerService.actionFinished()},e.prototype._senateYesAction=function(){this._playerService.actionFinished=null,this._playerService.takeOpponentsJacks(),this._playerService.turnFinished()},e.prototype._sewerYesAction=function(){var e=this._playerInfoService.getPlayerState(),t=e.actionCard;t.role!=a.eWorkerType.jack&&e.stockpile.push(t),e.actionCard=null,this._playerService.turnFinished()},e.prototype._stairwayYesAction=function(){this._playerService.activeActionTrigger=a.eCardEffect.stairway,this._playerService.actionPerformTrigger=null},e.prototype._villaAction=function(){var e=this._playerService.getVillaFromUnderConstruction();this._playerService.removeFromUnderConstruction(e),this._playerService.addToCompleted(e)},e.prototype._vomitoriumAction=function(){this._playerService.discardHand(),this._playerService.think(),this._playerService.turnFinished()},e}();h=r([i.Component({selector:"player-template",template:n(563),styles:[n(564)]}),o("design:paramtypes",[s.PlayerInfoService,c.PlayerService,u.GameService,p.GameMechanicsService,l.CardFactoryService,f.SocketService,d.MessageService])],h),t.PlayerTemplateComponent=h},870:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(1),c=n(10),s=n(20),l=n(366),u=n(29),p=n(16),f=n(17),d=n(26),h=function(){function e(e,t,n,r,o,i){var a=this;this._gameService=e,this._cardDetailService=t,this._gameMechanicsService=n,this._playerInfoService=r,this._playerService=o,this._socketService=i,this.size=c.eCardSize.medium,this.cardCanInteract=function(e){if(!a._playerInfoService.isPlayersTurn)return!1;var t=a._gameService.gameState.mode;return!a._playerService.resolvingCard&&(a._playerService.activeActionTrigger!=c.eCardEffect.aqueduct&&(a._playerService.activeActionTrigger!=c.eCardEffect.dock&&(a._gameService.gameState.actionMode==s.eActionMode.resolveCardMode&&(t==c.eWorkerType.laborer||(!(t!=c.eWorkerType.patron||!a._playerService.canAddToClientelles())||(!!a._legionaryFromPool(t,e)||!(t!=c.eWorkerType.architect||!a._playerService.hasCompletedBuilding(c.eCardEffect.archway))&&a._playerService.cardCanInteractAsMaterial(e)))))))},this.onMouseOver=this._playerService.cardIsHoveredAddMaterial,this.onMouseLeave=this._playerService.cardIsNotHovered,this._initListeners()}return e.prototype._initListeners=function(){var e=this._gameMechanicsService;this._playerService,this._socketService;e.onActionEnd().subscribe(function(e){e.role,c.eWorkerType.jack})},e.prototype._archwayCondition=function(){return this._gameService.gameState.mode==c.eWorkerType.architect&&this._playerService.hasCompletedBuilding(c.eCardEffect.archway)},e.prototype._archwaySelectable=function(e){return this._archwayCondition()&&this._playerService.selectedBuilding&&e.role==this._playerService.selectedBuilding.building.role},e.prototype.checkCardsInPool=function(){this._playerService.activeActionItem&&0==this._gameService.gameState.pool.length&&(this._playerService.activeActionItem.numActions=1)},e.prototype._patronAction=function(e){this.checkCardsInPool(),this._playerService.addToClientelles(e)&&this._playerService.decrementActions()},e.prototype._laborerAction=function(e){this.checkCardsInPool(),this._playerService.addToStockpile(e),this._playerService.decrementActions()},e.prototype._legionaryFromPoolAction=function(e){this._playerService.legionaryFromPool(e)},e.prototype._architectAction=function(e){this._playerService.addMaterialToConstruction(e)},e.prototype.cardClicked=function(e){this.cardCanInteract(e)&&(this._gameService.removeFromPool(e),this._resolveCardActionContext(e))},e.prototype._resolveCardActionContext=function(e){switch(this._gameService.gameState.mode){case c.eWorkerType.laborer:this._laborerAction(e);break;case c.eWorkerType.patron:this._patronAction(e);break;case c.eWorkerType.legionary:this._legionaryFromPoolAction(e)}this._archwayCondition()&&this._architectAction(e)},e.prototype.cardStyle=function(e){return{left:30*e+"px"}},e.prototype._legionaryFromPool=function(e,t){var n=this._gameService.gameState.romeDemands;return!(e!=c.eWorkerType.legionary||!n||!this._playerService.allExtorted)&&i.find(n,function(e){return e.role===t.role})},e.prototype._towerArchwayCondition=function(e){return e.role==c.eWorkerType.laborer&&this._playerService.hasCompletedBuilding(c.eCardEffect.tower)&&this._playerService.hasCompletedBuilding(c.eCardEffect.archway)&&this._playerService.selectedBuilding},e}();h=r([a.Component({selector:"pool-component",template:n(566),styles:[n(565)]}),o("design:paramtypes",[s.GameService,l.CardDetailService,u.GameMechanicsService,p.PlayerInfoService,f.PlayerService,d.SocketService])],h),t.PoolComponent=h},871:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(){function e(){}return e}();i=r([o.Injectable()],i),t.PoolService=i},872:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(20),c=n(17),s=n(16),l=n(28),u=n(29),p=function(){function e(e,t,n,r,o){this._gameService=e,this._playerService=t,this._playerInfoService=n,this._cardFactoryService=r,this._gameMechanicsService=o}return e}();p=r([i.Component({selector:"user-stats-component",template:'\n        <div class="user-stats-container">\n            <div class="user-stats-col">\n                <div class="user-label">Deck: {{_gameService.gameState.deck.length}}</div>\n                <div class="user-label">Hand Size: {{_playerInfoService.getPlayerState().maxHandSize}}</div>\n            </div>\n            <div class="user-stats-col">\n                <div class="user-label">Vault ({{_playerInfoService.getPlayerState().maxVault}}): {{_playerInfoService.getPlayerState().vault.length}}</div>\n                <div class="user-label">Influence: {{_playerInfoService.getPlayerState().influence}}</div>\n            </div>\n        </div>\n    ',styles:["\n        .user-stats-container {\n            display: flex;\n        }\n        .user-stats-col {\n            flex: 1;\n        }\n        .user-label {\n            font-weight: bold;\n        }\n    "]}),o("design:paramtypes",[a.GameService,c.PlayerService,s.PlayerInfoService,l.CardFactoryService,u.GameMechanicsService])],p),t.UserStatsComponent=p},873:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(18),c=n(37),s=n(872),l=function(){function e(){}return e}();l=r([o.NgModule({declarations:[s.UserStatsComponent],bootstrap:[s.UserStatsComponent],imports:[a.BrowserModule,i.HttpModule,c.CommonModule],exports:[s.UserStatsComponent]})],l),t.UserStatsModule=l},876:function(e,t){(function(t){e.exports=t}).call(t,{})},877:function(e,t,n){(function(e,r){var o;!function(i){function a(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){for(var t,n=e.length,r=-1,o="";++r<n;)t=e[r],t>65535&&(t-=65536,o+=_(t>>>10&1023|55296),t=56320|1023&t),o+=_(t);return o}function s(e,t){return _(e>>t&63|128)}function l(e){if(0==(4294967168&e))return _(e);var t="";return 0==(4294965248&e)?t=_(e>>6&31|192):0==(4294901760&e)?(t=_(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=_(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=_(63&e|128)}function u(e){for(var t,n=a(e),r=n.length,o=-1,i="";++o<r;)t=n[o],i+=l(t);return i}function p(){if(v>=m)throw Error("Invalid byte index");var e=255&g[v];if(v++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(){var e,t,n,r,o;if(v>m)throw Error("Invalid byte index");if(v==m)return!1;if(e=255&g[v],v++,0==(128&e))return e;if(192==(224&e)){var t=p();if((o=(31&e)<<6|t)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=p(),n=p(),(o=(15&e)<<12|t<<6|n)>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=p(),n=p(),r=p(),(o=(15&e)<<18|t<<12|n<<6|r)>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function d(e){g=a(e),m=g.length,v=0;for(var t,n=[];(t=f())!==!1;)n.push(t);return c(n)}var h="object"==typeof t&&t,y=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);y.global!==y&&y.window;var g,m,v,_=String.fromCharCode,b={version:"1.0.0",encode:u,decode:d};void 0!==(o=function(){return b}.call(t,n,t,e))&&(e.exports=o)}()}).call(t,n(235)(e),n(9))},878:function(e,t){},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(159),o=n(379);r.platformBrowserDynamic().bootstrapModule(o.AppModule)},94:function(e,t,n){"use strict";var r=n(45),o=n(55);n.d(t,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return n.i(o.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return n.i(o.a)(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return n.i(o.b)(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(r.a)},95:function(e,t,n){"use strict";var r=n(1),o=n(72),i=n(139),a=n(41),c=n(45),s=n(55);n.d(t,"a",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u={provide:c.a,useExisting:n.i(r.forwardRef)(function(){return f})},p=Promise.resolve(null),f=function(e){function t(t,r){e.call(this),this._submitted=!1,this.ngSubmit=new o.a,this.form=new i.d({},n.i(s.a)(t),n.i(s.b)(r))}return l(t,e),Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;p.then(function(){var r=t._findContainer(e.path);e._control=r.registerControl(e.name,e.control),n.i(s.d)(e.control,e),e.control.updateValueAndValidity({emitEvent:!1})})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;p.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.addFormGroup=function(e){var t=this;p.then(function(){var r=t._findContainer(e.path),o=new i.d({});n.i(s.e)(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;p.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;p.then(function(){n.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this._submitted=!0,this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t.decorators=[{type:r.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[u],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},t}(c.a)},96:function(e,t,n){"use strict";var r=n(1),o=n(36),i=n(64);n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return s}),multi:!0},c=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(i.a),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e.decorators=[{type:r.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[a]}]}],e.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef},{type:c},{type:r.Injector}]},e.propDecorators={name:[{type:r.Input}],formControlName:[{type:r.Input}],value:[{type:r.Input}]},e}()},97:function(e,t,n){"use strict";var r=n(1),o=n(72),i=n(295),a=n(41),c=n(45),s=n(136),l=n(55);n.d(t,"a",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},p={provide:c.a,useExisting:n.i(r.forwardRef)(function(){return f})},f=function(e){function t(t,n){e.call(this),this._validators=t,this._asyncValidators=n,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new o.a}return u(t,e),t.prototype.ngOnChanges=function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.get(e.path);return n.i(l.d)(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){i.b.remove(this.directives,e)},t.prototype.addFormGroup=function(e){var t=this.form.get(e.path);n.i(l.e)(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(e){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var t=this.form.get(e.path);n.i(l.e)(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(e){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){this.form.get(e.path).setValue(t)},t.prototype.onSubmit=function(e){return this._submitted=!0,this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var r=e.form.get(t.path);t._control!==r&&(n.i(l.f)(t._control,t),r&&n.i(l.d)(r,t),t._control=r)}),this.form._updateTreeValidity({emitEvent:!1})},t.prototype._updateRegistrations=function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},t.prototype._updateValidators=function(){var e=n.i(l.a)(this._validators);this.form.validator=a.c.compose([this.form.validator,e]);var t=n.i(l.b)(this._asyncValidators);this.form.asyncValidator=a.c.composeAsync([this.form.asyncValidator,t])},t.prototype._checkFormPresent=function(){this.form||s.a.missingFormException()},t.decorators=[{type:r.Directive,args:[{selector:"[formGroup]",providers:[p],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},t.propDecorators={form:[{type:r.Input,args:["formGroup"]}],ngSubmit:[{type:r.Output}]},t}(c.a)},98:function(e,t,n){"use strict";function r(e){return!(e instanceof d||e instanceof u.a||e instanceof y)}var o=n(1),i=n(41),a=n(94),c=n(45),s=n(136),l=n(55),u=n(97);n.d(t,"b",function(){return d}),n.d(t,"a",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},f={provide:c.a,useExisting:n.i(o.forwardRef)(function(){return d})},d=function(e){function t(t,n,r){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r}return p(t,e),t.prototype._checkParentType=function(){r(this._parent)&&s.a.groupParentException()},t.decorators=[{type:o.Directive,args:[{selector:"[formGroupName]",providers:[f]}]}],t.ctorParameters=function(){return[{type:c.a,decorators:[{type:o.Optional},{type:o.Host},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.b]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.a]}]}]},t.propDecorators={name:[{type:o.Input,args:["formGroupName"]}]},t}(a.a),h={provide:c.a,useExisting:n.i(o.forwardRef)(function(){return y})},y=function(e){function t(t,n,r){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r}return p(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return n.i(l.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return n.i(l.a)(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return n.i(l.b)(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){r(this._parent)&&s.a.arrayParentException()},t.decorators=[{type:o.Directive,args:[{selector:"[formArrayName]",providers:[h]}]}],t.ctorParameters=function(){return[{type:c.a,decorators:[{type:o.Optional},{type:o.Host},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.b]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.a]}]}]},t.propDecorators={name:[{type:o.Input,args:["formArrayName"]}]},t}(c.a)}},[879]);
//# sourceMappingURL=app.js.map